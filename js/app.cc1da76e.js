(function(e){function t(t){for(var n,i,o=t[0],s=t[1],c=t[2],d=0,p=[];d<o.length;d++)i=o[d],Object.prototype.hasOwnProperty.call(l,i)&&l[i]&&p.push(l[i][0]),l[i]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(e[n]=s[n]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],n=!0,o=1;o<a.length;o++){var s=a[o];0!==l[s]&&(n=!1)}n&&(r.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},l={app:0},r=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/arm-isujt/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],s=o.push.bind(o);o.push=t,o=o.slice();for(var c=0;c<o.length;c++)t(o[c]);var u=s;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0488":function(e,t,a){},"0d84":function(e,t,a){"use strict";a("673c")},"0df4":function(e,t,a){e.exports=a.p+"img/logo-mini.bc5ea018.svg"},1953:function(e,t,a){},"19b9":function(e,t,a){},"1f7d":function(e,t,a){"use strict";a("6f4f")},"2db6":function(e,t,a){"use strict";a("8fd4")},"2f80":function(e,t,a){},3194:function(e,t,a){},3828:function(e,t,a){"use strict";a("a110")},"3c20":function(e,t,a){},"3d4b":function(e,t,a){"use strict";a("7792")},"453c":function(e,t,a){"use strict";a("0488")},"520e":function(e,t,a){"use strict";a("1953")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("5363");var n=a("2b0e"),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-navigation-drawer",{staticClass:"nav-bold-text",attrs:{id:"nav","mini-variant":e.mini,color:"#00194D",app:"",permanent:"",width:300,floating:"","mini-variant-width":"80"}},[n("div",{on:{click:e.home}},[n("img",{staticClass:"ma-4",attrs:{src:a("7584")("./"+e.changeLogo)}})]),e.mini?n("v-list",{attrs:{dark:"",dense:"",flat:""}},[e._l(this.$store.state.menuItems,(function(t){return[t.isMiniView?n("v-list-item",{key:t.text,class:e.mini?"rounded-circle my-2":"rounded-l-lg",attrs:{color:"#FF7141",to:{path:t.path},"active-class":e.mini?"active-list-mini":"active-list","prepend-icon":t.icon,ripple:!1},on:{click:function(a){return e.setChildPath(t)}},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[n("v-list-item-action",{class:e.mini?"mr-0 my-0":"mr-2 my-0"},[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",{staticClass:"py-0"},[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1):e._e(),e._l(t.children,(function(t){return[t.isMiniView?n("v-list-item",{key:t.text,class:e.mini?"rounded-circle my-2":"rounded-l-lg",attrs:{color:"#FF7141",to:{path:t.path},"active-class":e.mini?"active-list-mini":"active-list","prepend-icon":t.icon,ripple:!1},on:{click:function(a){return e.setChildPath(t)}},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"child.model"}},[n("v-list-item-action",{class:e.mini?"mr-0 my-0":"mr-2 my-0"},[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",{staticClass:"py-0"},[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1):e._e()]}))]}))],2):n("v-list",{attrs:{dark:"",dense:"",flat:""}},[e._l(this.$store.state.menuItems,(function(t){return[t.children?n("v-list-group",{key:t.text,attrs:{"active-class":"is-active",color:"#FFFFFF","prepend-icon":t.icon,ripple:!1},on:{click:function(a){return e.closeChildren(t)}},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])]},proxy:!0}],null,!0),model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[e._l(t.children,(function(t){return[t.children?n("v-list-group",{key:t.text,staticClass:"pa-0",attrs:{"sub-group":"",color:"#ff7141","prepend-icon":t.icon,ripple:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",{staticClass:"mr-0"},[e._v(" "+e._s(t.text)+" ")])]},proxy:!0}],null,!0),model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"child.model"}},e._l(t.children,(function(t,a){return n("v-list-item",{key:a,staticClass:"plain-text ml-12 py-0 pl-3 my-0 rounded-l-lg",attrs:{"active-class":"is-active is-last-nested",color:"#00194d",to:{path:t.path},ripple:!1},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"sub_child.model"}},[n("v-list-item-title",{staticClass:"text-wrap"},[e._v(" "+e._s(t.text)+" ")])],1)})),1):n("v-list-item",{key:t.text,staticClass:"ml-5 rounded-l-lg",attrs:{"active-class":"is-active",color:"#FF7141",to:{path:t.path},ripple:!1},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"child.model"}},[n("v-list-item-action",{staticClass:"mr-2 my-0"},[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",{staticClass:"py-0"},[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2):n("v-list-item",{key:t.text,class:e.mini?"rounded-circle my-2":"rounded-l-lg",attrs:{color:"#FF7141",to:{path:t.path},"active-class":e.mini?"active-list-mini":"active-list","prepend-icon":t.icon,ripple:!1},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[n("v-list-item-action",{class:e.mini?"mr-0 my-0":"mr-2 my-0"},[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",{staticClass:"py-0"},[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2),n("MenuFooter")],1),n("v-main",{attrs:{id:"main"}},[n("v-btn",{staticClass:"toggle-btn",attrs:{color:"#00194d",dark:"",small:""},on:{click:e.toggle}},[n("v-icon",[e._v(e._s(e.appMenuIcon))])],1),n("router-view"),n("Footer")],1)],1)},r=[],i=(a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"main-footer ml-auto px-4 py-2",attrs:{fixed:"",dark:"","max-height":"30"}},[a("p",{staticClass:"ml-auto pa-0"},[e._v("2021 © АО «НИИАС»")])])}),o=[],s={name:"Footer"},c=s,u=(a("453c"),a("2877")),d=a("6544"),p=a.n(d),f=a("553a"),v=Object(u["a"])(c,i,o,!1,null,"2039c6c0",null),m=v.exports;p()(v,{VFooter:f["a"]});var h=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"menu-footer pl-5 pr-7 py-6",class:this.$store.state.menuMini?"pl-6":"",attrs:{fixed:"",dark:""}},[this.$store.state.menuMini?e._e():a("p",{staticClass:"ma-0"},[e._v("Петр Петрович")]),a("v-btn",{class:this.$store.state.menuMini?"":"ml-auto",attrs:{icon:"",color:"white"}},[a("v-icon",[e._v("mdi-logout")])],1)],1)},x=[],_={name:"MenuFooter"},b=_,g=(a("a0ef"),a("8336")),y=a("132d"),C=Object(u["a"])(b,h,x,!1,null,"e42fe914",null),F=C.exports;p()(C,{VBtn:g["a"],VFooter:f["a"],VIcon:y["a"]});var w={name:"App",components:{MenuFooter:F,Footer:m},data:function(){return{mini:!1}},created:function(){},methods:{home:function(){this.$router.push("/")},setChildPath:function(e){e.children&&this.$router.push(e.children[0].path)},toggle:function(){this.$store.state.menuMini=this.mini=!this.mini},closeChildren:function(e){this.mini||this.$store.state.menuItems.forEach((function(t){t.path===e.path&&t.children&&t.children.forEach((function(e){e.model=!1}))}))}},computed:{changeLogo:function(){return this.mini?"logo-mini.svg":"logo.svg"},appMenuIcon:function(){return this.mini?"mdi-chevron-right":"mdi-chevron-left"}}},D=w,V=(a("034f"),a("2db6"),a("7496")),H=a("8860"),k=a("56b0"),T=a("da13"),P=a("1800"),E=a("5d23"),M=a("f6c4"),$=a("f774"),O=Object(u["a"])(D,l,r,!1,null,"d7d004d4",null),B=O.exports;p()(O,{VApp:V["a"],VBtn:g["a"],VIcon:y["a"],VList:H["a"],VListGroup:k["a"],VListItem:T["a"],VListItemAction:P["a"],VListItemContent:E["a"],VListItemTitle:E["b"],VMain:M["a"],VNavigationDrawer:$["a"]});var S=a("8c4f"),j=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("h1")])}],N={name:"Home",components:{}},R=N,L=Object(u["a"])(R,j,I,!1,null,null,null),A=L.exports,z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"px-3 pt-3"},[a("v-expansion-panels",{attrs:{focusable:"",hover:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"pa-1 pl-2 pt-2",attrs:{"hide-actions":"",color:e.filterHeaderColor,ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("div",[a("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[e._v("mdi-filter-outline")]),a("span",[e._v("Фильтры")]),a("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(e._s(e.filterIcon))])],1)]),a("v-expansion-panel-content",[a("v-row",{attrs:{dense:""}},[a("DateFilter",{ref:"dateFilter",on:{"change-date":e.getDate}}),a("DrlFilter",{ref:"drlFilter",on:{"change-drl":e.getDrl}})],1),a("FilterButtons")],1)],1)],1),a("v-row",{staticClass:"ml-1 title-row"},[a("h3",{staticClass:"mr-5 block-title"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"#ff7141"}},[e._v("mdi-trending-up")]),e._v("Оперативное нормирование ")],1),a("RecalcButton"),a("SaveButton"),a("CancelButton"),a("PrintButton"),a("ExportButton",{attrs:{url:e.createExportUrl}})],1),a("Tabs",{attrs:{tableTypeArray:e.tablesForTabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:e.getParams,tableType:e.tableType}})],1)},U=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"mb-2 filter-label"},[e._v("Район управления ДРЛ")]),a("v-select",{attrs:{items:e.drls,color:"#FF7141","item-text":"name","item-value":"id",solo:"",flat:"","hide-details":""},on:{change:function(t){return e.$emit("change-drl",e.selected)}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("span",{staticClass:"select-item-text"},[e._v(e._s(n.name))])]}}]),model:{value:e.selected,callback:function(t){e.selected=t},expression:"selected"}})],1)},G=[],J=a("bc3a"),W=a.n(J),K={name:"DrlFilter",created:function(){this.fetchDrl()},methods:{fetchDrl:function(){var e=this;W.a.get("../../server/drl.json").then((function(t){e.drls=t.data.data}))}},data:function(){return{selected:1,drls:[]}}},Q=K,X=(a("852c"),a("b974")),Y=Object(u["a"])(Q,q,G,!1,null,"f9173882",null),Z=Y.exports;p()(Y,{VSelect:X["a"]});var ee=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr-5"},[a("p",{staticClass:"mb-2 filter-label"},[e._v("Дата")]),a("v-menu",{staticClass:"mt-2",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{solo:"",flat:"","hide-details":"",readonly:"",value:e.fromDateDisp},on:{"click:append":e.showC},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"cal-icon",attrs:{color:"#FF7141"},on:{click:e.showC}},[e._v("mdi-calendar")])]},proxy:!0}],null,!0)},n))]}}]),model:{value:e.fromDateMenu,callback:function(t){e.fromDateMenu=t},expression:"fromDateMenu"}},[a("v-date-picker",{attrs:{"no-title":"","first-day-of-week":"1"},on:{input:function(t){e.closePicker(),e.$emit("change-date",e.fromDateVal)}},model:{value:e.fromDateVal,callback:function(t){e.fromDateVal=t},expression:"fromDateVal"}})],1)],1)},te=[],ae=a("3835"),ne=(a("1276"),a("ac1f"),a("99af"),{name:"DateFilter",data:function(e){return{isShow:!1,fromDateVal:(new Date).toISOString().substr(0,10),dateFormatted:e.formatDate((new Date).toISOString().substr(0,10)),fromDateMenu:!1}},computed:{fromDateDisp:function(){return this.formatDate(this.fromDateVal)}},methods:{formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(ae["a"])(t,3),n=a[0],l=a[1],r=a[2];return"".concat(r,".").concat(l,".").concat(n)},showC:function(){this.fromDateMenu=!this.fromDateMenu},closePicker:function(){this.fromDateMenu=!1}}}),le=ne,re=(a("3828"),a("2e4b")),ie=a("e449"),oe=a("8654"),se=Object(u["a"])(le,ee,te,!1,null,"2ff6e742",null),ce=se.exports;p()(se,{VDatePicker:re["a"],VIcon:y["a"],VMenu:ie["a"],VTextField:oe["a"]});var ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"export pl-0 mt-1",attrs:{color:"#00194d","x-small":"",text:"",ripple:!1},on:{click:e.exportExcel}},[a("v-icon",{staticClass:"icon-side"},[e._v("mdi-file-document-outline")]),e._v(" Выгрузить в Excel ")],1)},de=[],pe={name:"ExportButton",props:["url"],methods:{exportExcel:function(){window.open("/ajax.php?module=ExcelController&"+this.url)}}},fe=pe,ve=(a("dac1"),Object(u["a"])(fe,ue,de,!1,null,"454e825b",null)),me=ve.exports;p()(ve,{VBtn:g["a"],VIcon:y["a"]});var he=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"print mt-1 mr-3",attrs:{color:"#00194d","x-small":"",text:"",ripple:!1},on:{click:e.printTable}},[a("v-icon",{staticClass:"icon-side"},[e._v("mdi-printer")]),e._v(" Печать ")],1)},xe=[],_e={name:"PrintButton",methods:{printTable:function(){var e=document.getElementById("table"),t=window.open("");t.document.write(e.innerHTML),t.document.close(),t.print()}}},be=_e,ge=(a("ffa7"),Object(u["a"])(be,he,xe,!1,null,"62f0715e",null)),ye=ge.exports;p()(ge,{VBtn:g["a"],VIcon:y["a"]});var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"recalc",staticClass:"recalc mr-3",class:{"disable-events":e.isDisabled},attrs:{color:"#4D6C99",small:"",dark:"",depressed:"",ripple:!1},on:{click:e.recalcData}},[e._v(" Пересчитать ")])},Fe=[],we={name:"RecalcButton",data:function(){return{isDisabled:!0}},methods:{recalcData:function(){var e=document.querySelector(".recalc");e.classList.add("disable-events");var t=document.querySelector(".save");t.classList.remove("disable-events")}}},De=we,Ve=(a("6807"),Object(u["a"])(De,Ce,Fe,!1,null,"59994cce",null)),He=Ve.exports;p()(Ve,{VBtn:g["a"]});var ke=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"save",staticClass:"save mr-3",class:{"disable-events":e.isDisabled},attrs:{color:"#4D6C99",small:"",dark:"",depressed:"",ripple:!1},on:{click:e.saveData}},[e._v(" Сохранить ")])},Te=[],Pe={name:"SaveButton",data:function(){return{isDisabled:!0}},methods:{saveData:function(){var e=document.querySelector(".cancel"),t=document.querySelector(".save");e.classList.add("disable-events"),t.classList.add("disable-events")}}},Ee=Pe,Me=(a("1f7d"),Object(u["a"])(Ee,ke,Te,!1,null,"2c76a2bc",null)),$e=Me.exports;p()(Me,{VBtn:g["a"]});var Oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"cancel",staticClass:"cancel mr-auto",class:{"disable-events":e.isDisabled},attrs:{color:"#FF7141",small:"",dark:"",depressed:"",ripple:!1},on:{click:e.cancelChange}},[e._v(" Отмена ")])},Be=[],Se={name:"CancelButton",data:function(){return{isDisabled:!0}},methods:{cancelChange:function(){var e=document.querySelector(".recalc"),t=document.querySelector(".save"),a=document.querySelector(".cancel");e.classList.add("disable-events"),t.classList.add("disable-events"),a.classList.add("disable-events")}}},je=Se,Ie=(a("bc72"),Object(u["a"])(je,Oe,Be,!1,null,"08bd8892",null)),Ne=Ie.exports;p()(Ie,{VBtn:g["a"]});var Re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"mt-5",attrs:{dense:""}},[a("v-btn",{staticClass:"update mr-5",attrs:{color:"#4D6C99",small:"",dark:"",depressed:"",ripple:!1}},[e._v(" Обновить ")]),a("v-btn",{staticClass:"clear mr-3",attrs:{color:"#4D6C99",small:"",dark:"",depressed:"",ripple:!1}},[e._v(" По умолчанию ")])],1)},Le=[],Ae={name:"FilterButtons"},ze=Ae,Ue=(a("e0cd"),a("0fd9")),qe=Object(u["a"])(ze,Re,Le,!1,null,"7de97840",null),Ge=qe.exports;p()(qe,{VBtn:g["a"],VRow:Ue["a"]});var Je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tableTypeArray,(function(t){return a("v-tab",{key:t.tab,attrs:{ripple:!1,to:{path:t.tablePath}}},[e._v(" "+e._s(t.tabName))])})),1)},We=[],Ke={name:"Tabs",data:function(){return{tab:this.tabModel}},props:["tableTypeArray","tabModel"]},Qe=Ke,Xe=(a("520e"),a("71a3")),Ye=a("fe57"),Ze=Object(u["a"])(Qe,Je,We,!1,null,"559ee00c",null),et=Ze.exports;p()(Ze,{VTab:Xe["a"],VTabs:Ye["a"]});var tt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],attrs:{id:"table",elevation:"0"}},[a("v-data-table",{staticClass:"pl-2",attrs:{headers:e.headersFlat,items:e.tableData,dense:"","disable-pagination":"","disable-filtering":"","disable-sort":"","hide-default-footer":"","hide-default-header":"",locale:"ru-RU",height:e.getTableHeight},scopedSlots:e._u([{key:"header",fn:function(t){return[a("thead",{staticClass:"v-data-table-header"},[a("tr",e._l(e.headers,(function(t,n){return a("th",{key:n,class:e.getAlign(t,t.textMinify),attrs:{rowspan:t.children?1:3,colspan:e.getColspan(t)}},[e._v(" "+e._s(t.text)+" ")])})),0),a("tr",e._l(e.getSubHeader(e.headers),(function(t,n){return a("th",{key:n,class:e.getAlign(t,t.textMinify),attrs:{rowspan:t.children?1:2,colspan:t.children?t.children.length:1}},[e._v(" "+e._s(t.text)+" ")])})),0),a("tr",e._l(e.getSubHeader(e.headers,!0),(function(t,n){return a("th",{key:n,class:e.getAlign(t),attrs:{rowspan:t.children?1:2,colspan:t.children?t.children.length:1}},[e._v(" "+e._s(t.text)+" ")])})),0)])]}},{key:"item",fn:function(t){var n=t.item;return[a("tr",e._l(e.headersFlat,(function(t,l){return a("td",{key:l,style:e.colorCell(n,t),attrs:{title:e.getTooltip(n[t.value+"_tooltip"],n[t.value])||""}},[e.isEditable(n,t.editable,n[t.value])?a("v-edit-dialog",{attrs:{"return-value":n[t.value]},on:{"update:returnValue":function(a){return e.$set(n,t.value,a)},"update:return-value":function(a){return e.$set(n,t.value,a)},save:e.changeButtons},scopedSlots:e._u([{key:"input",fn:function(){return[a("v-text-field",{attrs:{"single-line":""},model:{value:n[t.value],callback:function(a){e.$set(n,t.value,a)},expression:"item[header.value]"}})]},proxy:!0}],null,!0)},[a("span",[e._v(e._s(n[t.value]))])]):a("span",[e._v(e._s(e.editValue(t.value,n[t.value],n)))])],1)})),0)]}}])})],1)},at=[],nt=(a("a9e3"),a("5319"),a("4de4"),{name:"DataTable",created:function(){this.fetchTableData()},computed:{getTableHeight:function(){var e=this.windowSize.y-220;return this.$store.state.filterOpen&&(e-=120),e}},methods:{getAlign:function(e,t){var a="";return"mini"===t&&(a+="smaller-text "),e.alignHeader&&(a+="align-text-center"),a},editValue:function(e,t,a){var n=t;return"norm_depo"===this.tableType&&"sort_number"===e?""===a.type?this.returnIndex(a):"":"norm_ratio"===this.tableType&&"number"===typeof t?Math.floor(100*n)/100:n},returnIndex:function(e){var t=0;return this.tableData.every((function(a){return""===a.type&&t++,e!==a})),t},changeButtons:function(){var e=document.querySelector(".recalc"),t=document.querySelector(".cancel");e.classList.remove("disable-events"),t.classList.remove("disable-events")},getTooltip:function(e,t){if(!e)return"";if("norm_sec"===this.tableType){var a,n=e.split(";"),l=Number(n[0].replace(/\D+/g,"")),r=Number(n[1].replace(/\D+/g,"")),i="";return Number(n[2].replace(/\D+/g,""))&&(a=Number(n[2].replace(/\D+/g,""))),""!==n[3].split(" = ")[1]&&(i=n[3].split(" = ")[1]),n&&i&&a&&t!==a?"Данные изменены: "+i+" с "+a+" на "+t+"; МИН = "+l+"; МАКС = "+r:"МИН = "+l+"; МАКС = "+r}return"norm_depo"===this.tableType?e:void 0},isEditable:function(e,t,a){return void 0!==a&&t&&"S"!==e.type&&"SS"!==e.type&&"I"!==e.type},colorCell:function(e,t){var a="";if((+e[t.value]||0===e[t.value])&&(a+="font-size: 14px; line-height: 16px;"),"reg_join"===this.tableType&&(t.editable&&0===e[t.value]&&(a+="background-color:#fab1b1;"),t.editable&&(a+="color:#2672ec;")),("norm_sec"===this.tableType||"reg_sec"===this.tableType||"norm_depo"===this.tableType||"norm_ratio"===this.tableType||"reg_join"===this.tableType)&&(t.editable&&(a+="color:#1056EB;"),"tr_num"!==t.value||"S"!==e.type&&"SS"!==e.type&&"I"!==e.type||(a+="color:#00194d;"),"GG"!==e.type&&"SS"!==e.type||(a+="font-family: 'FSRAILBold', serif;"),"G"!==e.type&&"S"!==e.type||(a+="font-family: 'FSRAILBold', serif;"),"I"===e.type&&(a+="font-family: 'FSRAILBold', serif;"),"long_name"!==t.value&&"depot_name"!==t.value&&"depo"!==t.value||(a+="width:250px;border-right-width:1px;"),e[t.value+"_color"]&&"yellow"===e[t.value+"_color"]&&(a+="background-color:#FCFFDF"),e[t.value+"_tooltip"]&&"norm_depo"!==this.tableType)){var n,l=e[t.value+"_tooltip"].split(";"),r=Number(l[0].replace(/\D+/g,"")),i=Number(l[1].replace(/\D+/g,"")),o=Math.ceil(1.1*i),s="",c=e[t.value];Number(l[2].replace(/\D+/g,""))&&(n=Number(l[2].replace(/\D+/g,""))),""!==l[3].split(" = ")[1]&&(s=l[3].split(" = ")[1]),l&&(s&&n&&c!==n?c>=r&&c<=i||!(0===c||c>o)?c>=r&&c<=i||!(0===c||c>o)?0!==c&&c>i&&c<=o&&(a+="background: url(../assets/dirty.png) no-repeat 0 0; background-color: #FCFFDF; color: #2672ec; cursor: pointer;"):a+="background: url(../assets/dirty.png) no-repeat 0 0; background-color: #FAC8C8; color: #444":a+="background: url(../assets/dirty.png) no-repeat 0 0; background-color: #FAC8C8; color: #2672ec; cursor: pointer;":c>=r&&c<=i||!(0===c||c>o)?c>=r&&c<=i||!(0===c||c>o)?0!==c&&c>i&&c<=o&&(a+="background-color: #FCFFDF; color: #2672ec; cursor: pointer;"):a+="background-color: #FAC8C8; color: #444":a+="background-color: #FAC8C8; color: #2672ec; cursor: pointer;")}return a},fetchTableData:function(e){var t=this;W.a.get(this.url,{params:e||this.params}).then((function(e){t.tableData=e.data.data}))},onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},getSubHeader:function(e,t){var a=[];if(e.filter((function(e){return e.children})).forEach((function(e){a=a.concat(e.children)})),t){var n=[];return a.filter((function(e){return e.children})).forEach((function(e){n=n.concat(e.children)})),n}return a},getColspan:function(e){var t;return t=e.cols?e.cols:e.children?e.children.length:1,t}},props:["headers","headersFlat","url","params","tableType"],data:function(){return{windowSize:{x:0,y:0},tableData:[]}}}),lt=nt,rt=(a("d538"),a("b0af")),it=a("8fea"),ot=a("7679"),st=a("269a"),ct=a.n(st),ut=a("dc22"),dt=Object(u["a"])(lt,tt,at,!1,null,"00399077",null),pt=dt.exports;p()(dt,{VCard:rt["a"],VDataTable:it["a"],VEditDialog:ot["a"],VTextField:oe["a"]}),ct()(dt,{Resize:ut["a"]});var ft={name:"NormalizationSections",components:{Tabs:et,FilterButtons:Ge,CancelButton:Ne,SaveButton:$e,RecalcButton:He,PrintButton:ye,ExportButton:me,DateFilter:ce,DrlFilter:Z,DataTable:pt},data:function(){return{panel:0,isFilterOpen:!0,drlValue:1,requestForExport:"method=norm_1&tab=panel-reportOP",dateValue:Math.floor(Date.now()/1e3),url:"../../server/norm_1.json",tablesForTabs:[{tabName:"Участки",tablePath:"/control/norm/section"},{tabName:"Депо",tablePath:"/control/norm/depo"},{tabName:"Процентное соотношение локомотивов",tablePath:"/control/norm/ratio"}],tabModel:0,tableType:"norm_sec",headers:[{text:"Тяговый полигон",align:"start",value:"long_name",textMinify:"mini",children:[{text:"Наименование\nрасчетных участков",textMinify:"mini"}]},{text:"Длина\n(L,км)",value:"distance"},{text:"Коэф.\nКп.гр.э",value:"k_pgre"},{text:"Коэф.\nКп.п.э.",value:"k_pe"},{text:"Кол-во\nпоездов\nN(max)",value:"tr_num"},{text:"В т.ч. тяжело\nвесных N\n(2-ая тяга\nСМЕТ)",value:"tr_heavy_num"},{text:"Окна,\nчас",value:"duration"},{text:"Потребность локомотивов",value:"way",cols:15,alignHeader:"center",children:[{text:"Грузовое движение",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"ft"},{text:"Мт\n(3-х)",value:"ft3"},{text:"Мт\n(2-х)",value:"fl"}]},{text:"ПВД",alignHeader:"center",children:[{text:"Мт\n(3-х)",value:"locl3"},{text:"Мт\n(2-х)",value:"locl"}]},{text:"ТОЛКАЧИ",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"pt4"},{text:"Мт\n(3-х)",value:"pt"},{text:"Мт\n(2-х)",value:"pl"}]},{text:"ОПЕР, РД",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"rt4"},{text:"Мт\n(3-х)",value:"rt"},{text:"Мт\n(2-х)",value:"rl"}]},{text:"ВСЕГО",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"t"},{text:"Мт\n(3-х)",value:"t3"},{text:"Мт\n(2-х)",value:"l"}]},{text:"ИТОГО",alignHeader:"center",children:[{text:"Мв",value:"total"}]}]}],headersFlat:[{text:"Тяговый полигон",align:"start",sortable:!1,value:"long_name",children:[{text:"Наименование расчетных участков"}]},{text:"Длина (L,км)",value:"distance"},{text:"Коэф. Кп.гр.э",value:"k_pgre"},{text:"Коэф. Кп.п.э.",value:"k_pe"},{text:"Кол-во поездов N(max)",value:"tr_num",editable:!0,tooltip:!0},{text:"В т.ч. тяжело весных N (2-ая тяга СМЕТ)",value:"tr_heavy_num"},{text:"Окна, час",value:"duration"},{text:"Мт (4-х)",value:"ft"},{text:"Мт (3-х)",value:"ft3"},{text:"Мт (2-х)",value:"fl"},{text:"Мт (3-х)",value:"locl3",editable:!0},{text:"Мт (2-х)",value:"locl",editable:!0},{text:"Мт (4-х)",value:"pt4",editable:!0},{text:"Мт (3-х)",value:"pt",editable:!0},{text:"Мт (2-х)",value:"pl",editable:!0},{text:"Мт (4-х)",value:"rt4",editable:!0},{text:"Мт (3-х)",value:"rt",editable:!0},{text:"Мт (2-х)",value:"rl",editable:!0},{text:"Мт (4-х)",value:"t"},{text:"Мт (3-х)",value:"t3"},{text:"Мт (2-х)",value:"l"},{text:"Мв",value:"total"}]}},watch:{drlValue:function(){this.$refs.table.fetchTableData(this.getParams)},dateValue:function(){this.$refs.table.fetchTableData(this.getParams)}},computed:{filterIcon:function(){return this.$store.state.filterOpen?"mdi-chevron-up":"mdi-chevron-down"},filterHeaderColor:function(){return this.$store.state.filterOpen?"#4D6C99":"#30446E"},getParams:function(){var e=this.dateValue;if("string"===typeof this.dateValue){var t=new Date(this.dateValue);e=Math.floor(t.getTime()/1e3)}return{date:e,drl:this.drlValue}},createExportUrl:function(){return"method=norm_1&tab=panel-reportOP&date="+this.getParams.date}},methods:{changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen},getDrl:function(e){this.drlValue=e},getDate:function(e){this.dateValue=e}}},vt=ft,mt=(a("3d4b"),a("cd55")),ht=a("49e2"),xt=a("c865"),_t=a("0393"),bt=Object(u["a"])(vt,z,U,!1,null,"8a85c19e",null),gt=bt.exports;p()(bt,{VExpansionPanel:mt["a"],VExpansionPanelContent:ht["a"],VExpansionPanelHeader:xt["a"],VExpansionPanels:_t["a"],VIcon:y["a"],VRow:Ue["a"]});var yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-3"},[a("v-expansion-panels",{attrs:{focusable:"",hover:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"pa-1 pl-2 pt-2",attrs:{"hide-actions":"",color:e.filterHeaderColor,ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("div",[a("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[e._v("mdi-filter-outline")]),a("span",[e._v("Фильтры")]),a("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(e._s(e.filterIcon))])],1)]),a("v-expansion-panel-content",[a("v-row",{attrs:{dense:""}},[a("DateFilter",{ref:"dateFilter",on:{"change-date":e.getDate}})],1),a("FilterButtons")],1)],1)],1),a("v-row",{staticClass:"ml-1 title-row"},[a("h3",{staticClass:"mr-auto block-title"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"#ff7141"}},[e._v("mdi-trending-up")]),e._v("Оперативное нормирование ")],1),a("PrintButton")],1),a("Tabs",{attrs:{tableTypeArray:e.tablesForTabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:e.getParams,tableType:e.tableType}})],1)},Ct=[],Ft={name:"NormalizationDepo",components:{Tabs:et,FilterButtons:Ge,PrintButton:ye,DateFilter:ce,DataTable:pt},watch:{dateValue:function(){this.$refs.table.fetchTableData(this.getParams)}},methods:{changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen},getDate:function(e){this.dateValue=e}},computed:{filterIcon:function(){return this.$store.state.filterOpen?"mdi-chevron-up":"mdi-chevron-down"},filterHeaderColor:function(){return this.$store.state.filterOpen?"#4D6C99":"#30446E"},getParams:function(){var e=this.dateValue;if("string"===typeof this.dateValue){var t=new Date(this.dateValue);e=Math.floor(t.getTime()/1e3)}return{date:e,drl:1}}},data:function(){return{panel:0,isFilterOpen:!0,dateValue:Math.floor(Date.now()/1e3),dateFilterId:"dateNormDepo",url:"../../server/norm_depo.json",tableType:"norm_depo",tablesForTabs:[{tabName:"Участки",tablePath:"/control/norm/section"},{tabName:"Депо",tablePath:"/control/norm/depo"},{tabName:"Процентное соотношение локомотивов",tablePath:"/control/norm/ratio"}],tabModel:1,headersFlat:[{text:"№",value:"sort_number"},{text:"Депо приписки локомотивов",value:"depot_name"},{text:"Т (4-х), т.ед.",value:"s"},{text:"Т (3-х), т.ед.",value:"t"},{text:"Л (2-х), т.ед.",value:"l"},{text:"Всего, т.ед.",value:"sum"}],headers:[{text:"№",align:"start",value:"road_code",textMinify:"mini"},{text:"Депо приписки локомотивов",align:"start",alignHeader:"center",value:"depot_name",textMinify:"mini"},{text:"Потребное количество эксплуатируемого\nпарка локомотивов на следующие сутки",align:"start",cols:4,alignHeader:"center",children:[{text:"Т (4-х), т.ед.",value:"s",alignHeader:"center"},{text:"Т (3-х), т.ед.",value:"t",alignHeader:"center"},{text:"Л (2-х), т.ед.",value:"l",alignHeader:"center"},{text:"Всего, т.ед.",value:"sum",alignHeader:"center"}]}]}}},wt=Ft,Dt=(a("d8d1"),Object(u["a"])(wt,yt,Ct,!1,null,"18022f6e",null)),Vt=Dt.exports;p()(Dt,{VExpansionPanel:mt["a"],VExpansionPanelContent:ht["a"],VExpansionPanelHeader:xt["a"],VExpansionPanels:_t["a"],VIcon:y["a"],VRow:Ue["a"]});var Ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-3"},[a("v-expansion-panels",{attrs:{focusable:"",hover:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"pa-1 pl-2 pt-2",attrs:{"hide-actions":"",color:e.filterHeaderColor,ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("div",[a("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[e._v("mdi-filter-outline")]),a("span",[e._v("Фильтры")]),a("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(e._s(e.filterIcon))])],1)]),a("v-expansion-panel-content",[a("v-row",{attrs:{dense:""}},[a("DateFilter",{ref:"dateFilter",on:{"change-date":e.getDate}})],1),a("FilterButtons")],1)],1)],1),a("v-row",{staticClass:"ml-1 title-row"},[a("h3",{staticClass:"mr-5 block-title"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"#ff7141"}},[e._v("mdi-trending-up")]),e._v("Оперативное нормирование ")],1),a("RecalcButton"),a("SaveButton"),a("CancelButton"),a("PrintButton")],1),a("Tabs",{attrs:{tableTypeArray:e.tablesForTabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:e.getParams,tableType:e.tableType}})],1)},kt=[],Tt={name:"NormalizationRatio",components:{Tabs:et,FilterButtons:Ge,CancelButton:Ne,SaveButton:$e,RecalcButton:He,PrintButton:ye,DateFilter:ce,DataTable:pt},watch:{dateValue:function(){this.$refs.table.fetchTableData(this.getParams)}},methods:{changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen},getDate:function(e){this.dateValue=e}},computed:{filterIcon:function(){return this.$store.state.filterOpen?"mdi-chevron-up":"mdi-chevron-down"},filterHeaderColor:function(){return this.$store.state.filterOpen?"#4D6C99":"#30446E"},getParams:function(){var e=this.dateValue;if("string"===typeof this.dateValue){var t=new Date(this.dateValue);e=Math.floor(t.getTime()/1e3)}return{date:e,drl:1}}},data:function(){return{panel:0,params:{},dateValue:Math.floor(Date.now()/1e3),dateFilterId:"dateNormRatio",url:"../../server/norm_minmax.json",tableType:"norm_ratio",tablesForTabs:[{tabName:"Участки",tablePath:"/control/norm/section"},{tabName:"Депо",tablePath:"/control/norm/depo"},{tabName:"Процентное соотношение локомотивов",tablePath:"/control/norm/ratio"}],tabModel:2,headersFlat:[{text:"Депо приписки локомотивов",value:"depo"},{text:"Т (4-х), т.ед.",value:"park_t4",editable:!0},{text:"Т (3-х), т.ед.",value:"park_t3",editable:!0},{text:"Л (2-х), т.ед.",value:"park_l2",editable:!0},{text:"Т (4-х)",value:"neisp_t4",editable:!0},{text:"Т (3-х)",value:"neisp_t3",editable:!0},{text:"Л (2-х)",value:"neisp_l2",editable:!0},{text:"Т (4-х), т.ед.",value:"max_t4"},{text:"Т (3-х), т.ед.",value:"max_t3"},{text:"Л (2-х), т.ед.",value:"max_l2"},{text:"Т (4-х)",value:"uch_t4"},{text:"Т (3-х)",value:"uch_t3"},{text:"Л (2-х)",value:"uch_l2"}],headers:[{text:"Депо приписки локомотивов",align:"start",value:"depo",textMinify:"mini"},{text:"Инвентарный парк",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х), т.ед.",value:"park_t4",alignHeader:"center"},{text:"Т (3-х), т.ед.",value:"park_t3",alignHeader:"center"},{text:"Л (2-х), т.ед.",value:"park_l2",alignHeader:"center"}]},{text:"Плановая доля неисправных локомотивов",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"neisp_t4",alignHeader:"center"},{text:"Т (3-х)",value:"neisp_t3",alignHeader:"center"},{text:"Л (2-х)",value:"neisp_l2",alignHeader:"center"}]},{text:"Макс. содержание",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х), т.ед.",value:"max_t4",alignHeader:"center"},{text:"Т (3-х), т.ед.",value:"max_t3",alignHeader:"center"},{text:"Л (2-х), т.ед.",value:"max_l2",alignHeader:"center"}]},{text:"% содержания от общего по участку",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"uch_t4",alignHeader:"center"},{text:"Т (3-х)",value:"uch_t3",alignHeader:"center"},{text:"Л (2-х)",value:"uch_l2",alignHeader:"center"}]}]}}},Pt=Tt,Et=(a("59b2"),Object(u["a"])(Pt,Ht,kt,!1,null,"28456750",null)),Mt=Et.exports;p()(Et,{VExpansionPanel:mt["a"],VExpansionPanelContent:ht["a"],VExpansionPanelHeader:xt["a"],VExpansionPanels:_t["a"],VIcon:y["a"],VRow:Ue["a"]});var $t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-3"},[a("v-expansion-panels",{attrs:{focusable:"",hover:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"pa-1 pl-2 pt-2",attrs:{"hide-actions":"",color:e.filterHeaderColor,ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("div",[a("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[e._v("mdi-filter-outline")]),a("span",[e._v("Фильтры")]),a("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(e._s(e.filterIcon))])],1)]),a("v-expansion-panel-content",[a("v-row",{attrs:{dense:""}},[a("DateFilter",{ref:"dateFilter",on:{"change-date":e.getDate}})],1),a("FilterButtons")],1)],1)],1),a("v-row",{staticClass:"ml-1 title-row"},[a("h3",{staticClass:"mr-auto block-title"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"#ff7141"}},[e._v("mdi-cog-outline")]),e._v("Оперативное регулирование ")],1),a("PrintButton"),a("ExportButton",{attrs:{url:e.createExportUrl}})],1),a("Tabs",{attrs:{tableTypeArray:e.tablesForTabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:e.getParams,tableType:e.tableType}})],1)},Ot=[],Bt={name:"RegulationJoints",components:{Tabs:et,FilterButtons:Ge,PrintButton:ye,DateFilter:ce,DataTable:pt,ExportButton:me},watch:{dateValue:function(){this.$refs.table.fetchTableData(this.getParams)}},methods:{changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen},getDate:function(e){this.dateValue=e}},computed:{filterIcon:function(){return this.$store.state.filterOpen?"mdi-chevron-up":"mdi-chevron-down"},filterHeaderColor:function(){return this.$store.state.filterOpen?"#4D6C99":"#30446E"},getParams:function(){return{date:this.dateValue}},createExportUrl:function(){return"method=regulation&tab=region-view&date="+this.getParams.date}},data:function(){return{panel:0,isFilterOpen:!0,dateValue:Math.floor(Date.now()/1e3),url:"../../server/splices.json",tableType:"reg_join",tabModel:0,tablesForTabs:[{tabName:"Стыки",tablePath:"/control/reg/joint"},{tabName:"Участки",tablePath:"/control/reg/section"},{tabName:"Анализ",tablePath:"/control/reg/analysis"}],headersFlat:[{text:"№ п/п",value:"sort_number"},{text:"Междорожные стыковые пункты",value:"long_name"},{text:"на 6:00 ч",value:"plan_train_half",editable:!0},{text:"на 18:00 ч",value:"plan_train",editable:!0},{text:"на 6:00 ч",value:"plan_loco_half"},{text:"на 18:00 ч",value:"plan_loco"},{text:"на 6:00 ч",value:"plan_train_loco_half"},{text:"на 18:00 ч",value:"plan_train_loco"}],headers:[{text:"№ п/п",align:"start",value:"sort_number",textMinify:"mini"},{text:"Междорожные стыковые пункты",align:"start",value:"long_name",textMinify:"mini"},{text:"План-задание передачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_half",alignHeader:"center"},{text:"на 18:00 ч",value:"plan_train",alignHeader:"center"}]},{text:"План-задание передачи локомотивов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_loco_half",alignHeader:"center"},{text:"на 18:00 ч",value:"plan_loco",alignHeader:"center"}]},{text:"План-задание передачи поездо-локомотивов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_loco_half",alignHeader:"center"},{text:"на 18:00 ч",value:"plan_train_loco",alignHeader:"center"}]}]}}},St=Bt,jt=(a("0d84"),Object(u["a"])(St,$t,Ot,!1,null,"03d36b88",null)),It=jt.exports;p()(jt,{VExpansionPanel:mt["a"],VExpansionPanelContent:ht["a"],VExpansionPanelHeader:xt["a"],VExpansionPanels:_t["a"],VIcon:y["a"],VRow:Ue["a"]});var Nt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-3"},[a("v-expansion-panels",{attrs:{focusable:"",hover:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"pa-1 pl-2 pt-2",attrs:{"hide-actions":"",color:e.filterHeaderColor,ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("div",[a("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[e._v("mdi-filter-outline")]),a("span",[e._v("Фильтры")]),a("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(e._s(e.filterIcon))])],1)]),a("v-expansion-panel-content",[a("v-row",{attrs:{dense:""}},[a("DateFilter",{ref:"dateFilter",on:{"change-date":e.getDate}})],1),a("FilterButtons")],1)],1)],1),a("v-row",{staticClass:"ml-1 title-row"},[a("h3",{staticClass:"mr-auto block-title"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"#ff7141"}},[e._v("mdi-cog-outline")]),e._v("Оперативное регулирование ")],1),a("PrintButton"),a("ExportButton",{attrs:{url:e.createExportUrl}})],1),a("Tabs",{attrs:{tableTypeArray:e.tablesForTabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:e.getParams,tableType:e.tableType}})],1)},Rt=[],Lt={name:"RegulationSections",components:{Tabs:et,FilterButtons:Ge,PrintButton:ye,DateFilter:ce,DataTable:pt,ExportButton:me},watch:{dateValue:function(){this.$refs.table.fetchTableData(this.getParams)}},methods:{changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen},getDate:function(e){this.dateValue=e}},computed:{filterIcon:function(){return this.$store.state.filterOpen?"mdi-chevron-up":"mdi-chevron-down"},filterHeaderColor:function(){return this.$store.state.filterOpen?"#4D6C99":"#30446E"},getParams:function(){return{date:this.dateValue}},createExportUrl:function(){return"method=regulation&tab=region-view&date="+this.getParams.date}},data:function(){return{panel:0,isFilterOpen:!0,dateValue:Math.floor(Date.now()/1e3),url:"../../server/regions.json",tabModel:1,tablesForTabs:[{tabName:"Стыки",tablePath:"/control/reg/joint"},{tabName:"Участки",tablePath:"/control/reg/section"},{tabName:"Анализ",tablePath:"/control/reg/analysis"}],tableType:"reg_sec",headersFlat:[{text:"Участок",value:"long_name"},{text:"Опер. нормир, расчет т.ед.",value:"oper_norm_calc"},{text:"% от итого",value:"total_percent"},{text:"Прогнозное наличие срез на 18:00 тек.сут, т.ед.",value:"existence_forecast"},{text:"Фактическое наличие срез на 18:00 тек.сут, т.ед.",value:"existence_fact"},{text:"с 18:01 до 6:00 ч",value:"plan_odd_direction_half"},{text:"с 18:01 до 18:00 ч",value:"plan_odd_direction"},{text:"с 18:01 до 6:00 ч",value:"plan_even_direction_half"},{text:"с 18:01 до 18:00 ч",value:"plan_even_direction"},{text:"с 18:01 до 6:00 ч",value:"staging_for_repairs_half"},{text:"с 18:01 до 18:00 ч",value:"staging_for_repairs"},{text:"с 18:01 до 6:00 ч",value:"work_from_repairs_half"},{text:"с 18:01 до 18:00 ч",value:"work_from_repairs"},{text:"с 18:01 до 6:00 ч",value:"dislocation_forecast_half"},{text:"с 18:01 до 18:00 ч",value:"dislocation_forecast"},{text:"с 18:01 до 6:00 ч",value:"next_day_plan_half"},{text:"с 18:01 до 18:00 ч",value:"next_day_plan"},{text:"с 18:01 до 6:00 ч",value:"next_day_plan_half_data_fact"},{text:"с 18:01 до 18:00 ч",value:"next_day_plan_data_fact"},{text:"с 18:01 до 6:00 ч",value:"deficit_excess_half"},{text:"с 18:01 до 18:00 ч",value:"deficit_excess"},{text:"Стык",value:"splice_name",align:"end"},{text:"с 18:01 до 6:00 ч",value:"reg_task_odd_half"},{text:"с 18:01 до 18:00 ч",value:"reg_task_odd"},{text:"с 18:01 до 6:00 ч",value:"reg_task_even_half"},{text:"с 18:01 до 18:00 ч",value:"reg_task_even"}],headers:[{text:"Участок",align:"start",value:"long_name",textMinify:"mini"},{text:"Опер. нормир,\nрасчет т.ед.",align:"start",value:"oper_norm_calc"},{text:"% от итого",align:"start",value:"total_percent"},{text:"Прогнозное наличие\nсрез на 18:00 тек.сут,\nт.ед.",align:"start",value:"existence_forecast"},{text:"Фактическое наличие\nсрез на 18:00 тек.сут,\nт.ед.",align:"start",value:"existence_fact"},{text:"План-задание\nпередачи поездов, нечет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"plan_odd_direction_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"plan_odd_direction",alignHeader:"center"}]},{text:"План-задание\nпередачи локомотивов, чет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"plan_even_direction_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"plan_even_direction",alignHeader:"center"}]},{text:"Постановка на ремонт,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"staging_for_repairs_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"staging_for_repairs",alignHeader:"center"}]},{text:"Выдача в работу\nс ремонта, т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"work_from_repairs_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"work_from_repairs",alignHeader:"center"}]},{text:"Прогноз дисл.\nна сл. сутки, т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"dislocation_forecast_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"dislocation_forecast",alignHeader:"center"}]},{text:"План на след. сутки,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"next_day_plan_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"next_day_plan",alignHeader:"center"}]},{text:"План на след. сутки (скорр. на\nоснове факт.данных), т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"next_day_plan_half_data_fact",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"next_day_plan_data_fact",alignHeader:"center"}]},{text:"Дефицит / Избыток,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"deficit_excess_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"deficit_excess",alignHeader:"center"}]},{text:"Стык",align:"end",alignHeader:"center",value:"splice_name"},{text:"Рег. задание передачи\nлокомотивов резервом, нечет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"reg_task_odd_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"reg_task_odd",alignHeader:"center"}]},{text:"Рег. задание передачи\nлокомотивов резервом, чет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"reg_task_even_half",alignHeader:"center"},{text:"с 18:01\nдо 18:00 ч",value:"reg_task_even",alignHeader:"center"}]}]}}},At=Lt,zt=(a("e948"),Object(u["a"])(At,Nt,Rt,!1,null,"6ab03e0d",null)),Ut=zt.exports;p()(zt,{VExpansionPanel:mt["a"],VExpansionPanelContent:ht["a"],VExpansionPanelHeader:xt["a"],VExpansionPanels:_t["a"],VIcon:y["a"],VRow:Ue["a"]});var qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"px-3 pt-3"},[a("v-expansion-panels",{attrs:{focusable:"",hover:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{staticClass:"pa-1 pl-2 pt-2",attrs:{"hide-actions":"",color:e.filterHeaderColor,ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("div",[a("v-icon",{staticClass:"mr-2",attrs:{color:"white"}},[e._v("mdi-filter-outline")]),a("span",[e._v("Фильтры")]),a("v-icon",{staticClass:"ml-2",attrs:{color:"white"}},[e._v(e._s(e.filterIcon))])],1)]),a("v-expansion-panel-content",[a("v-row",{attrs:{dense:""}},[a("DateFilter",{ref:"dateFilter",on:{"change-date":e.getDate}})],1),a("FilterButtons")],1)],1)],1),a("v-row",{staticClass:"ml-1 title-row"},[a("h3",{staticClass:"mr-auto block-title"},[a("v-icon",{staticClass:"mr-2",attrs:{color:"#ff7141"}},[e._v("mdi-cog-outline")]),e._v("Оперативное регулирование ")],1),a("PrintButton"),a("ExportButton",{attrs:{url:e.createExportUrl}})],1),a("Tabs",{attrs:{tableTypeArray:e.tablesForTabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:e.getParams}})],1)},Gt=[],Jt={name:"RegulationAnalysis",components:{Tabs:et,FilterButtons:Ge,PrintButton:ye,DateFilter:ce,DataTable:pt,ExportButton:me},watch:{dateValue:function(){this.$refs.table.fetchTableData(this.getParams)}},methods:{changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen},getDate:function(e){this.dateValue=e}},computed:{filterIcon:function(){return this.$store.state.filterOpen?"mdi-chevron-up":"mdi-chevron-down"},filterHeaderColor:function(){return this.$store.state.filterOpen?"#4D6C99":"#30446E"},getParams:function(){var e=this.dateValue;if("string"===typeof this.dateValue){var t=new Date(this.dateValue);e=Math.floor(t.getTime()/1e3)}return{date:e}},createExportUrl:function(){return"method=regulation&tab=analize-view&date="+this.getParams.date}},data:function(){return{panel:0,isFilterOpen:!0,dateValue:Math.floor(Date.now()/1e3),url:"../../server/analize.json",tabModel:2,tablesForTabs:[{tabName:"Стыки",tablePath:"/control/reg/joint"},{tabName:"Участки",tablePath:"/control/reg/section"},{tabName:"Анализ",tablePath:"/control/reg/analysis"}],headersFlat:[{text:"№ п/п",value:"sort_number"},{text:"Междорожные стыковые пункты",value:"long_name"},{text:"на 6:00 ч",value:"plan_train_half"},{text:"на 18:00 ч",value:"plan_train"},{text:"на 6:00 ч",value:"fact_train_half"},{text:"на 18:00 ч",value:"fact_train"},{text:"на 6:00 ч",value:"plan_loco_half"},{text:"на 18:00 ч",value:"plan_loco"},{text:"на 6:00 ч",value:"fact_reserv_half"},{text:"на 18:00 ч",value:"fact_reserv"},{text:"на 6:00 ч",value:"plan_trainloco_half"},{text:"на 18:00 ч",value:"plan_trainloco"},{text:"на 6:00 ч",value:"fact_trainloco_half"},{text:"на 18:00 ч",value:"fact_trainloco"},{text:"на 6:00 ч",value:"fact_train_ot_half"},{text:"на 18:00 ч",value:"fact_train_ot"},{text:"на 6:00 ч",value:"fact_trainloco_ot_half"},{text:"на 18:00 ч",value:"fact_trainloco_ot"}],headers:[{text:"№ п/п",align:"start",value:"sort_number",textMinify:"mini"},{text:"Междорожные\nстыковые пункты",align:"start",value:"long_name",textMinify:"mini"},{text:"План-задание\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_half",alignHeader:"center"},{text:"на 18:00 ч",value:"plan_train",alignHeader:"center"}]},{text:"Факт\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_train_half",alignHeader:"center"},{text:"на 18:00 ч",value:"fact_train",alignHeader:"center"}]},{text:"План-задание\nпередачи локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_loco_half",alignHeader:"center"},{text:"на 18:00 ч",value:"plan_loco",alignHeader:"center"}]},{text:"Факт передачи\nлокомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_reserv_half",alignHeader:"center"},{text:"на 18:00 ч",value:"fact_reserv",alignHeader:"center"}]},{text:"План-задание передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_trainloco_half",alignHeader:"center"},{text:"на 18:00 ч",value:"plan_trainloco",alignHeader:"center"}]},{text:"Факт передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_trainloco_half",alignHeader:"center"},{text:"на 18:00 ч",value:"fact_trainloco",alignHeader:"center"}]},{text:"Отклонение от факта\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_train_ot_half",alignHeader:"center"},{text:"на 18:00 ч",value:"fact_train_ot",alignHeader:"center"}]},{text:"Отклонение от факта передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_trainloco_ot_half",alignHeader:"center"},{text:"на 18:00 ч",value:"fact_trainloco_ot",alignHeader:"center"}]}]}}},Wt=Jt,Kt=(a("cc37"),Object(u["a"])(Wt,qt,Gt,!1,null,"fa7b19f4",null)),Qt=Kt.exports;p()(Kt,{VExpansionPanel:mt["a"],VExpansionPanelContent:ht["a"],VExpansionPanelHeader:xt["a"],VExpansionPanels:_t["a"],VIcon:y["a"],VRow:Ue["a"]});var Xt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},Yt=[],Zt={name:"Control"},ea=Zt,ta=Object(u["a"])(ea,Xt,Yt,!1,null,null,null),aa=ta.exports,na=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},la=[],ra={name:"Normalization"},ia=ra,oa=Object(u["a"])(ia,na,la,!1,null,null,null),sa=oa.exports,ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},ua=[],da={name:"Regulation"},pa=da,fa=Object(u["a"])(pa,ca,ua,!1,null,null,null),va=fa.exports;n["a"].use(S["a"]);var ma=[{path:"/",name:"Home",component:A},{path:"/control/",component:aa,children:[{path:"norm/",component:sa,children:[{path:"section",component:gt},{path:"depo",component:Vt},{path:"ratio",component:Mt}]},{path:"reg/",component:va,children:[{path:"joint",component:It},{path:"section",component:Ut},{path:"analysis",component:Qt}]}]}],ha=new S["a"]({mode:"history",base:"/arm-isujt/",routes:ma}),xa=ha,_a=a("2f62");n["a"].use(_a["a"]);var ba=new _a["a"].Store({state:{filterOpen:!0,menuMini:!1,menuItems:[{icon:"mdi-file-check-outline",text:"Задачи",path:"/tasks/",model:!1,isMiniView:!0},{icon:"mdi-tune",text:"Управление",path:"/control/",model:!0,children:[{icon:"mdi-trending-up",text:"Нормирование",path:"/control/norm/",model:!0,isClosed:!1,isMiniView:!0,children:[{text:"Участки",model:!0,path:"/control/norm/section"},{text:"Депо",model:!1,path:"/control/norm/depo"},{text:"Процентное соотношение локомотивов",model:!1,path:"/control/norm/ratio"}]},{icon:"mdi-calendar-text-outline",text:"Планирование",path:"/plan/",model:!0,isClosed:!1,isMiniView:!0,children:[{text:"Задание тех. станций",model:!1,path:"/plan/planning1"},{text:"Задание по стыкам",model:!1,path:"/plan/planning2"},{text:"План",model:!1,path:"/plan/planning3"},{text:"Наряд-задание по локомотивным бригадам",model:!1,path:"/plan/planning4"},{text:"Показатели плана",model:!1,path:"/plan/planning5"},{text:"График оборота локомотивов",model:!1,path:"/plan/planning6"}]},{icon:"mdi-cog-outline",text:"Регулирование",path:"/control/reg/",model:!0,isClosed:!1,isMiniView:!0,children:[{text:"Стыки",model:!1,path:"/control/reg/joint"},{text:"Участки",model:!1,path:"/control/reg/section"},{text:"Анализ",model:!1,path:"/control/reg/analysis"}]}]},{icon:"mdi-format-list-bulleted",text:"Приказы",path:"order",isMiniView:!0,model:!1},{icon:"mdi-information-outline",text:"Информация",path:"info",model:!1,children:[{icon:"mdi-cube-outline",text:"Моделирование",path:"model",model:!0,isClosed:!1,isMiniView:!0,children:[{text:"Участки",model:!1,path:"model1"},{text:"Депо",model:!1,path:"model2"},{text:"Процентное соотношение",model:!1,path:"model3"},{text:"Корректировка НСИ",model:!1,path:"model4"},{text:"Сравнение",model:!1,path:"model5"}]},{icon:"mdi-layers-triple-outline",text:"Отчеты",path:"report",model:!1,isMiniView:!0}]}]},mutations:{},actions:{},modules:{}}),ga=a("f309"),ya=a("2992"),Ca=a.n(ya);n["a"].use(ga["a"]);var Fa=new ga["a"]({icons:{iconfont:"mdi"},lang:{locales:{ru:Ca.a},current:"ru"},theme:{themes:{light:{primary:"#00194d"}}}});n["a"].config.productionTip=!1,new n["a"]({router:xa,store:ba,vuetify:Fa,render:function(e){return e(B)}}).$mount("#app")},"59b2":function(e,t,a){"use strict";a("b179")},"673c":function(e,t,a){},6807:function(e,t,a){"use strict";a("3194")},"6f4f":function(e,t,a){},7584:function(e,t,a){var n={"./logo-mini.svg":"0df4","./logo.svg":"e347"};function l(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}l.keys=function(){return Object.keys(n)},l.resolve=r,e.exports=l,l.id="7584"},7792:function(e,t,a){},"852c":function(e,t,a){"use strict";a("fd71")},"85ec":function(e,t,a){},"8b4b":function(e,t,a){},"8fd4":function(e,t,a){},a0ef:function(e,t,a){"use strict";a("c7c0")},a110:function(e,t,a){},b179:function(e,t,a){},bc72:function(e,t,a){"use strict";a("3c20")},c092:function(e,t,a){},c7c0:function(e,t,a){},caef:function(e,t,a){},cc37:function(e,t,a){"use strict";a("8b4b")},d538:function(e,t,a){"use strict";a("e7be")},d8d1:function(e,t,a){"use strict";a("19b9")},dac1:function(e,t,a){"use strict";a("f9ca")},e0cd:function(e,t,a){"use strict";a("2f80")},e347:function(e,t,a){e.exports=a.p+"img/logo.1d37bf74.svg"},e7be:function(e,t,a){},e948:function(e,t,a){"use strict";a("c092")},f9ca:function(e,t,a){},fd71:function(e,t,a){},ffa7:function(e,t,a){"use strict";a("caef")}});
//# sourceMappingURL=app.cc1da76e.js.map