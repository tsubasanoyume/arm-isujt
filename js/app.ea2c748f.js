(function(e){function t(t){for(var r,l,s=t[0],o=t[1],d=t[2],u=0,p=[];u<s.length;u++)l=s[u],Object.prototype.hasOwnProperty.call(i,l)&&i[l]&&p.push(i[l][0]),i[l]=0;for(r in o)Object.prototype.hasOwnProperty.call(o,r)&&(e[r]=o[r]);c&&c(t);while(p.length)p.shift()();return n.push.apply(n,d||[]),a()}function a(){for(var e,t=0;t<n.length;t++){for(var a=n[t],r=!0,s=1;s<a.length;s++){var o=a[s];0!==i[o]&&(r=!1)}r&&(n.splice(t--,1),e=l(l.s=a[0]))}return e}var r={},i={app:0},n=[];function l(t){if(r[t])return r[t].exports;var a=r[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,l),a.l=!0,a.exports}l.m=e,l.c=r,l.d=function(e,t,a){l.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},l.t=function(e,t){if(1&t&&(e=l(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(l.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)l.d(a,r,function(t){return e[t]}.bind(null,r));return a},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="/arm-isujt/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var d=0;d<s.length;d++)t(s[d]);var c=o;n.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"0226":function(e,t,a){e.exports=a.p+"img/checked.2afdb8b7.svg"},"044a":function(e,t,a){},"057d":function(e,t,a){"use strict";a("0eba")},"061d":function(e,t,a){"use strict";a("0fac")},"0683":function(e,t,a){},"075d":function(e,t,a){"use strict";a("9d67")},"096e":function(e,t,a){},"0b49":function(e,t,a){},"0df4":function(e,t,a){e.exports=a.p+"img/logo-mini.bc5ea018.svg"},"0eba":function(e,t,a){},"0f08":function(e,t,a){"use strict";a("dc16")},"0fac":function(e,t,a){},"116f":function(e,t,a){"use strict";a("a8c9")},1180:function(e,t,a){"use strict";a("bd6b")},"11d5":function(e,t,a){"use strict";a("5419")},"12a6":function(e,t,a){},"18a6":function(e,t,a){},1961:function(e,t,a){"use strict";a("ca83")},"21c7":function(e,t,a){"use strict";a("48e9")},"21d7":function(e,t,a){},"21d9":function(e,t,a){"use strict";a("f126")},2334:function(e,t,a){},"265e":function(e,t,a){},"284b":function(e,t,a){},2887:function(e,t,a){"use strict";a("67a0")},"2b4a":function(e,t,a){},"2d7c":function(e,t,a){},"2ebb":function(e,t,a){"use strict";a("fc90")},"2f4c":function(e,t,a){"use strict";a("d18d")},3007:function(e,t,a){},3074:function(e,t,a){},3461:function(e,t,a){"use strict";a("f957")},"36a5":function(e,t,a){},"371c":function(e,t,a){},"396e":function(e,t,a){},"3a16":function(e,t,a){},"3ba0":function(e,t,a){"use strict";a("ee5b")},"3f81":function(e,t,a){},"40b3":function(e,t,a){e.exports=a.p+"img/menu-item-corner.e0e81316.svg"},4255:function(e,t,a){"use strict";a("fcab")},"42cf":function(e,t,a){"use strict";a("18a6")},"442f":function(e,t,a){"use strict";a("b41a")},4652:function(e,t,a){},"47b0":function(e,t,a){"use strict";a("d2c9")},"48e9":function(e,t,a){},"4a2e":function(e,t,a){},"4b56":function(e,t,a){"use strict";a("7a69")},"4bb0":function(e,t,a){"use strict";a("396e")},"4c5a":function(e,t,a){"use strict";a("5212")},"4f0f":function(e,t,a){"use strict";a("6024")},"514a":function(e,t,a){"use strict";a("bc8d")},"515d":function(e,t,a){"use strict";a("044a")},5212:function(e,t,a){},5390:function(e,t,a){},5419:function(e,t,a){},5602:function(e,t,a){"use strict";a("3f81")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("5363"),a("284b"),a("bc32");var r=a("2b0e"),i=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("v-app",[r("v-navigation-drawer",{class:e.mini?"nav-mini":"",attrs:{id:"nav","mini-variant":e.mini,color:"#00194D",app:"",permanent:"",width:320,floating:"","mini-variant-width":"80"}},[r("div",{on:{click:e.home}},[r("img",{staticClass:"ma-5",attrs:{src:a("7584")("./"+e.changeLogo)}})]),e.mini?r("v-list",{attrs:{dark:"",dense:"",flat:""}},[e._l(this.$store.state.menuItems,(function(t){return[r("v-list-item",{key:t.text,class:e.mini?"rounded-circle":"rounded-l-lg",attrs:{to:{path:t.path},"active-class":e.mini?"active-list-mini":"active-list","prepend-icon":t.icon,ripple:!1},on:{click:function(a){return e.setChildPath(t)}},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[r("v-tooltip",{attrs:{right:"","content-class":"menu-tooltip"},scopedSlots:e._u([{key:"activator",fn:function(a){var i=a.on,n=a.attrs;return[r("v-list-item-action",e._g(e._b({class:e.mini?"ma-0":"mr-2 my-0"},"v-list-item-action",n,!1),i),[r("v-icon",[e._v(e._s(t.icon))])],1)]}}],null,!0)},[r("span",{staticClass:"menu-tooltip-content"},[e._v(" "+e._s(t.text)+" ")])])],1)]}))],2):r("v-list",{attrs:{dark:"",dense:"",flat:"",expand:""}},[e._l(this.$store.state.menuItems,(function(t){return[t.children?r("v-list-group",{key:t.text,class:{"last-nested-active":e.isChildActive(t)},attrs:{"prepend-icon":t.icon,"append-icon":t.arrow,ripple:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[r("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])]},proxy:!0}],null,!0),model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[e._l(t.children,(function(t){return[r("v-list-item",{key:t.text,staticClass:"plain-text",attrs:{"active-class":"is-active",color:"#00194d",to:{path:t.path},ripple:!1},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"child.model"}},[r("v-list-item-content",{staticClass:"py-0"},[r("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2):r("v-list-item",{key:t.text,staticClass:"item-no-children",class:e.mini?"rounded-circle":"rounded-l-lg",attrs:{to:{path:t.path},"active-class":e.mini?"active-list-mini":"active-list","prepend-icon":t.icon,ripple:!1},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[r("v-list-item-action",{class:(e.mini,"mr-0 my-0")},[r("v-icon",[e._v(e._s(t.icon))])],1),r("v-list-item-content",{staticClass:"py-0"},[r("v-list-item-title",[e._v(" "+e._s(t.text)+" ")]),e.$store.state.tasks&&e.$store.state.tasks.length>0&&"Задачи"===t.text?r("div",{staticClass:"tasksMark"},[e._v(" "+e._s(e.$store.state.tasks.length)+" ")]):e._e()],1)],1)]}))],2),r("MenuFooter",{attrs:{userInfo:e.userInfo}})],1),r("v-main",{attrs:{id:"main"}},[r("div",{on:{mousemove:function(t){return e.mouseMove(t)},mouseup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:e.mouseUpLeft(t)}}},[r("v-btn",{staticClass:"toggle-btn",class:{"is-closed":e.mini},attrs:{dark:"",small:""},on:{click:e.toggle}},[r("v-icon",[e._v("icon-arrow-dropdown")])],1),r("router-view",{attrs:{name:"tasks"}}),r("router-view"),r("Footer")],1)])],1)},n=[],l=a("b85c"),s=(a("159b"),a("caad"),a("2532"),a("bc3a")),o=a.n(s),d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"main-footer px-5",attrs:{dark:""}},[a("p",{staticClass:"main-footer-copyright ml-auto mb-0 pa-0"},[e._v("2022 © АО «НИИАС»")])])},c=[],u={name:"Footer"},p=u,h=(a("6a4d"),a("2877")),f=a("6544"),m=a.n(f),x=a("553a"),v=Object(h["a"])(p,d,c,!1,null,"24574e88",null),b=v.exports;m()(v,{VFooter:x["a"]});var _=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"menu-footer",class:this.$store.state.menuMini?"pl-6":"",attrs:{fixed:"",dark:""}},[this.$store.state.menuMini?e._e():a("p",{staticClass:"ma-0"},[e._v(e._s(e.userInfo.name))]),a("v-btn",{class:this.$store.state.menuMini?"":"ml-auto",attrs:{icon:"",color:"white"},on:{click:function(t){return e.logout()}}},[a("span",{staticClass:"icon icon-exit"})]),a("InfoModal")],1)},g=[],y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"420",persistent:""},model:{value:e.infoModal,callback:function(t){e.infoModal=t},expression:"infoModal"}},[a("v-card",[a("v-toolbar",{staticClass:"modal-text",attrs:{elevation:"0",height:"170"}},[e._v(" "+e._s(e.getModalText)+" ")]),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"modal-close",attrs:{color:"#4D6C99","min-height":"29px","min-width":"134px",small:"",dark:"",depressed:"",ripple:!1},on:{click:e.closeModal}},[e._v(" Закрыть ")])],1)],1)],1)},T=[],H={name:"InfoModal",data:function(){return{infoModal:!1}},props:["text"],methods:{closeModal:function(){this.$store.state.modalShow=!1}},computed:{getModal:function(){return this.$store.state.modalShow},getModalText:function(){return this.$store.state.textModal}},watch:{getModal:function(e){this.infoModal=e}}},w=H,k=(a("ecbb"),a("8336")),D=a("b0af"),$=a("99d9"),V=a("169a"),M=a("71d9"),C=Object(h["a"])(w,y,T,!1,null,"1a2bd66a",null),U=C.exports;m()(C,{VBtn:k["a"],VCard:D["a"],VCardActions:$["a"],VDialog:V["a"],VToolbar:M["a"]});var F={name:"MenuFooter",components:{InfoModal:U},props:["userInfo"],methods:{logout:function(){this.armAudit("arm-web",2,(function(){o.a.get("/logout").then((function(){return location.href=location.origin}))}),location.href=location.origin)},armAudit:function(e,t,a,r){var i=this;o.a.post("/ajax.php?module=ArmCA&method=save_input_system",{name_arm:e,user_event:t}).then((function(e){var t=e.data.data;"ERROR"===t.result?(i.$store.state.textModal=t.message,i.$store.state.modalShow=!0):a&&a()})).catch((function(){r()}))}}},L=F,O=(a("d127"),Object(h["a"])(L,_,g,!1,null,"3c657fc6",null)),j=O.exports;m()(O,{VBtn:k["a"],VFooter:x["a"]});var R={name:"App",components:{MenuFooter:j,Footer:b},data:function(){return{mini:!1,userUrlTest:"/server/auth.json",userUrlServer:"/ajax.php?module=ApplicationConfig&method=get",userData:[],userInfo:{}}},created:function(){"/"===this.$route.path&&this.$router.push("/tasks/"),this.getViewAccess()},methods:{getViewAccess:function(){var e=this,t=this.$store.state.isTestMode?"../.."+this.userUrlTest:this.userUrlServer;o.a.get(t).then((function(t){e.userData=t.data.data,e.userInfo=e.userData[0].user_details}))},home:function(){this.$router.push("/tasks/").catch((function(){}))},setChildPath:function(e){e.children&&this.$router.push(e.children[0].path)},toggle:function(){var e=this;this.$store.state.menuMini=this.mini=!this.mini,this.mini||this.$store.state.menuItems.forEach((function(t){t.model=e.$route.path.indexOf(t.path)>=0,t.children&&t.children.forEach((function(t){t.model=e.$route.path.indexOf(t.path)>=0}))}))},isChildActive:function(e){var t,a=!1,r=Object(l["a"])(this.$store.state.menuItems);try{for(r.s();!(t=r.n()).done;){var i=t.value;if(i.path===e.path)a=this.$route.path.indexOf(i.path)>=0;else if(i.children){var n,s=Object(l["a"])(i.children);try{for(s.s();!(n=s.n()).done;){var o=n.value;o.path===e.path&&(a=this.$route.path.indexOf(o.path)>=0)}}catch(d){s.e(d)}finally{s.f()}}}}catch(d){r.e(d)}finally{r.f()}return a},mouseMove:function(e){if(this.$store.state.resizing){var t=window.tableDetail.clientHeight,a=e.y-this.$store.state.mouseY;t-a>=this.$store.state.tableDetailMinHeight&&(window.tableDetail.style.height=t-a+"px",this.$store.state.mouseY+=a)}},mouseUpLeft:function(e){this.$store.state.resizing=!1,this.$store.state.mouseY=e.y}},computed:{changeLogo:function(){return this.mini?"logo-mini.svg":"logo.svg"}},watch:{$route:function(e,t){t.path.includes("tasks_")&&!e.path.includes("tasks_")&&this.$store.commit("setTaskTransitionProps",{})}}},N=R,S=(a("a432"),a("b184"),a("7496")),E=a("132d"),P=a("8860"),A=a("56b0"),K=a("da13"),B=a("1800"),I=a("5d23"),z=a("f6c4"),W=a("f774"),G=a("3a2f"),q=Object(h["a"])(N,i,n,!1,null,"2053a980",null),Y=q.exports;m()(q,{VApp:S["a"],VBtn:k["a"],VIcon:E["a"],VList:P["a"],VListGroup:A["a"],VListItem:K["a"],VListItemAction:B["a"],VListItemContent:I["a"],VListItemTitle:I["b"],VMain:z["a"],VNavigationDrawer:W["a"],VTooltip:G["a"]});var J=a("8c4f"),X=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"drl",filterType:"select",labelText:"Район управления ДРЛ",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/drl.json":"/ajax2.php?module=NSI&method=drl",keyText:"name",keyValue:"id"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs||e.$store.getters.tabs.normalization,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType,hasDetail:!0,hasTabs:!0,hasButtons:!0},on:{loadDetail:e.setDetail}}),a("Buttons",{attrs:{params:e.params},on:{saveChanges:function(t){return e.saveChanges()},recalcData:function(t){return e.recalcData()},cancelChanges:function(t){return e.cancelChanges()}}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Q=[],Z=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"page-title"},[a("v-icon",{staticClass:"page-title-icon",attrs:{color:"#ff7141"}},[e._v(e._s(e.params.icon))]),a("h3",{staticClass:"page-title-title"},[e._v(e._s(e.params.name))])],1)],1)},ee=[],te={name:"Title",components:{},props:{params:Object,exportUrl:String}},ae=te,re=(a("3ba0"),a("0fd9")),ie=Object(h["a"])(ae,Z,ee,!1,null,"228062a5",null),ne=ie.exports;m()(ie,{VIcon:E["a"],VRow:re["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("v-row",{staticClass:"ma-0 mb-5 page-links"},[e.params.buttons.download?a("DownloadButton",{attrs:{url:e.downloadUrl}}):e._e(),e.params.buttons.back?a("BackButton",{attrs:{url:e.params.backUrl}}):e._e(),e.params.buttons.add?a("AddButton"):e._e(),e.params.buttons.print?a("PrintButton"):e._e(),e.params.buttons.export?a("ExportButton",{attrs:{url:e.exportUrl}}):e._e()],1)],1)},se=[],oe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"print pl-0 pr-0",attrs:{"x-small":"",text:"",ripple:!1},on:{click:e.printTable}},[a("span",{staticClass:"icon-side icon icon-print"}),e._v(" Печать ")])},de=[],ce={name:"PrintButton",methods:{printTable:function(){var e=document.getElementById("table"),t=window.open("");t.document.write(e.innerHTML),t.document.close(),t.print()}}},ue=ce,pe=(a("beaf"),Object(h["a"])(ue,oe,de,!1,null,"c9891ef8",null)),he=pe.exports;m()(pe,{VBtn:k["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"export pl-0 pr-0",attrs:{"x-small":"",text:"",ripple:!1},on:{click:e.exportExcel}},[a("span",{staticClass:"icon-side icon icon-excel"}),e._v(" Выгрузить в Excel ")])},me=[],xe={name:"ExportButton",props:["url"],methods:{exportExcel:function(){window.open("/ajax2.php?module=ExcelController&"+this.url)}}},ve=xe,be=(a("3461"),Object(h["a"])(ve,fe,me,!1,null,"76343cb7",null)),_e=be.exports;m()(be,{VBtn:k["a"]});var ge=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr-5 download-menu"},[a("v-menu",{staticClass:"download-methods",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-btn",e._g({staticClass:"download pl-0 pr-0",attrs:{"x-small":"",text:"",ripple:!1}},r),[a("span",{staticClass:"icon-side icon icon-download"}),e._v(" Скачать ")])]}}])},[a("v-btn",{staticClass:"methods",attrs:{ripple:!1},on:{click:function(t){return e.openDownloadWindow()}}},[e._v("методика_оперативная.pdf")])],1)],1)},ye=[],Te={name:"DownloadButton",props:["url"],methods:{openDownloadWindow:function(){window.open(this.url)}}},He=Te,we=(a("eed5"),a("e449")),ke=Object(h["a"])(He,ge,ye,!1,null,"97e9a2de",null),De=ke.exports;m()(ke,{VBtn:k["a"],VMenu:we["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"add pl-0 pr-0",attrs:{"x-small":"",text:"",ripple:!1}},[a("span",{staticClass:"icon-side icon icon-plus-circle"}),e._v(" Добавить отчет ")])},Ve=[],Me={name:"AddButton"},Ce=Me,Ue=(a("9210"),Object(h["a"])(Ce,$e,Ve,!1,null,"8d934de4",null)),Fe=Ue.exports;m()(Ue,{VBtn:k["a"]});var Le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"back pl-0 pr-0",attrs:{to:{path:e.url},"x-small":"",text:"",ripple:!1}},[a("span",{staticClass:"icon-side icon icon-arrow-back"}),e._v(" К списку отчетов ")])},Oe=[],je={name:"BackButton",props:["url"]},Re=je,Ne=(a("1961"),Object(h["a"])(Re,Le,Oe,!1,null,"2a3082f9",null)),Se=Ne.exports;m()(Ne,{VBtn:k["a"]});var Ee={name:"Links",components:{BackButton:Se,AddButton:Fe,DownloadButton:De,PrintButton:he,ExportButton:_e},props:["params","exportUrl","downloadUrl"]},Pe=Ee,Ae=(a("99d4"),Object(h["a"])(Pe,le,se,!1,null,"6ee316d4",null)),Ke=Ae.exports;m()(Ae,{VRow:re["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panels",{staticClass:"table-filters",class:e.tableType,attrs:{focusable:"",flat:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{"hide-actions":"",ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("span",{staticClass:"mr-2 icon icon-funnel"}),a("span",[e._v("Фильтры")]),a("span",{staticClass:"icon icon-arrow-dropdown"})]),a("v-expansion-panel-content",[a("v-row",{staticClass:"filter-block",attrs:{dense:""}},[e._l(e.filters,(function(t){return["date"===t.filterType?a("DateFilter",{key:t.filterName,ref:""+t.filterName,refInFor:!0,attrs:{labelText:t.labelText,filterName:t.filterName}}):e._e(),"select"===t.filterType?a("SelectFilter",{key:t.filterName,ref:""+t.filterName,refInFor:!0,attrs:{defaultValue:t.defaultValue,isRemote:t.isRemote,localItems:t.filterData,filterUrl:t.filterUrl,labelText:t.labelText,filterName:t.filterName,keyText:t.keyText,keyValue:t.keyValue,inputWidth:t.inputWidth}}):e._e(),"multiple_select"===t.filterType?a("MultipleSelectFilter",{key:t.filterName,ref:""+t.filterName,refInFor:!0,attrs:{defaultValue:t.defaultValue,isRemote:t.isRemote,localItems:t.filterData,filterUrl:t.filterUrl,labelText:t.labelText,filterName:t.filterName,keyText:t.keyText,keyValue:t.keyValue,inputWidth:t.inputWidth}}):e._e(),"select_tree"===t.filterType?a("SelectTreeFilter",{key:t.filterName,attrs:{labelText:t.labelText,isRemote:t.isRemote,localItems:t.filterData,filterUrl:t.filterUrl,defaultValue:t.defaultValue}}):e._e(),"range_date"===t.filterType?a("RangeDateFilter",{key:t.filterName,ref:""+t.filterName,refInFor:!0,attrs:{labelText:t.labelText,filterName:t.filterName,splitted:t.splitted}}):e._e(),"choose_btn"===t.filterType?a("ChooseDialog",{key:t.filterName,on:{updateTable:function(t){return e.$emit("reloadTable")}}}):e._e(),"checkbox"===t.filterType?a("FilterCheckbox",{key:t.filterName,attrs:{"label-text":t.labelText,filterName:t.filterName}}):e._e(),"search_input"===t.filterType?a("TextfieldFilter",{key:t.filterName,attrs:{labelText:t.labelText,filterType:t.filterType,filterName:t.filterName,isntSearch:t.isntSearch}}):e._e()]}))],2),a("FilterButtons",{on:{updateTable:function(t){return e.$emit("reloadTable")},resetFilters:function(t){return e.resetAll()}}})],1)],1)],1)},Ie=[],ze=(a("b64b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr-5"},[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText))]),a("v-menu",{staticClass:"mt-2",class:{"disable-events":"rep_9"===e.$store.state.currentTableType&&1===e.$store.state.filtersValues["type_rep_9"]||"rep_15"===e.$store.state.currentTableType&&e.$store.state.filtersValues["report-15_v_1-cut"]},attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{solo:"",flat:"","hide-details":"",readonly:"",value:e.fromDateDisp},on:{"click:append":e.showC},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"cal-icon",attrs:{color:"#FF7141"},on:{click:e.showC}},[e._v("icon-calendar")])]},proxy:!0}],null,!0)},r))]}}]),model:{value:e.fromDateMenu,callback:function(t){e.fromDateMenu=t},expression:"fromDateMenu"}},[a("v-date-picker",{attrs:{color:"#4D6C99","header-color":"#4D6C99",elevation:"3","show-adjacent-months":"","weekday-format":e.getDay,"first-day-of-week":"1"},on:{input:function(t){e.setValueInStore(e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)}),We=[],Ge=a("3835"),qe=(a("1276"),a("ac1f"),a("99af"),{name:"DateFilter",props:["labelText","filterName"],data:function(e){return{isShow:!1,value:(new Date).toISOString().substring(0,10),dateFormatted:e.formatDate((new Date).toISOString().substring(0,10)),fromDateMenu:!1}},created:function(){Object.keys(this.$store.state.taskTransitionProps).length?this.value=this.$store.state.filtersValues["date"][1]:this.$store.commit("setFilterValues",{filter:this.filterName,val:["",this.value]})},computed:{fromDateDisp:function(){return this.formatDate(this.value)},getStoreFilterValue:function(){return this.$store.state.filtersValues[this.filterName]?this.$store.state.filtersValues[this.filterName][1]:""}},watch:{getStoreFilterValue:function(e){this.value!==e&&(this.value=e)}},methods:{getDay:function(e){var t=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],a=new Date(e).getDay(e);return t[a]},setValueInStore:function(e){this.$store.commit("setFilterValues",{filter:this.filterName,val:["",e]})},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2];return"".concat(n,".").concat(i,".").concat(r)},showC:function(){this.fromDateMenu=!this.fromDateMenu},closePicker:function(){this.fromDateMenu=!1}}}),Ye=qe,Je=(a("84c1"),a("dd3d"),a("2e4b")),Xe=a("8654"),Qe=Object(h["a"])(Ye,ze,We,!1,null,"d4f29dfe",null),Ze=Qe.exports;m()(Qe,{VDatePicker:Je["a"],VIcon:E["a"],VMenu:we["a"],VTextField:Xe["a"]});var et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText))]),a("v-select",{class:{"disable-events":"rep_9"===e.$store.state.currentTableType&&1===e.$store.state.filtersValues["type_rep_9"]&&"time_rep_9"===e.filterName||"rep_15"===e.$store.state.currentTableType&&e.$store.state.filtersValues["report-15_v_1-cut"]&&"report-15_v_1-timefield"===e.filterName},style:{width:e.inputWidth},attrs:{items:e.itemsRecount,color:"#FF7141","item-text":""+e.keyText,"item-value":""+e.keyValue,solo:"",flat:"","hide-details":""},on:{change:function(t){return e.changeValue()}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[a("span",{staticClass:"select-item-text"},[e._v(e._s(r[""+e.keyText]))])]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},tt=[],at=(a("d81d"),a("b0c0"),{name:"SelectFilter",created:function(){this.setModelValue(),this.isRemote?this.fetchItems():"time_rep_2"===this.filterName?this.items=this.$store.state.timeFilterCurrentValue:this.items=this.localItems,this.$store.commit("setFilterValues",{filter:this.filterName,val:this.value})},methods:{fetchItems:function(){var e=this;o.a.get(this.filterUrl).then((function(t){e.items=t.data.data}))},changeValue:function(){if("type_rep_9"===this.filterName&&3===this.value?(this.$store.state.modalShow=!0,this.$store.state.textModal="Предупреждение!\nФормирование отчета на дату может занять несколько минут."):this.$store.state.modalShow=!1,this.$store.commit("setFilterValues",{filter:this.filterName,val:this.value}),this.filterName.includes("type_rep_")&&("2"===this.filterName.substring(9)||"3"===this.filterName.substring(9)))switch(this.value){case 0:this.$store.commit("setTimeFilterCurrentValue",this.$store.state.timeFilterValues[1]);break;case 1:this.$store.commit("setTimeFilterCurrentValue",this.$store.state.timeFilterValues[0]);break}},setModelValue:function(){this.value=this.defaultValue?this.defaultValue:this.value}},props:["labelText","filterName","isRemote","filterUrl","localItems","keyText","keyValue","inputWidth","defaultValue"],data:function(){return{value:0,items:[]}},computed:{itemsRecount:function(){var e;return!this.filterName.includes("time_rep_")||"2"!==this.filterName.substring(9)&&"3"!==this.filterName.substring(9)||(e=this.localItems.map((function(e){return{id:e.id,name:e.name+":00"}}))),e||this.items}}}),rt=at,it=(a("d74b"),a("5602"),a("b974")),nt=Object(h["a"])(rt,et,tt,!1,null,"437ce2d1",null),lt=nt.exports;m()(nt,{VSelect:it["a"]});var st=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"mt-2 filter-buttons",attrs:{dense:""}},[a("v-btn",{staticClass:"update mr-5",class:{"disable-events":e.$store.state.tableUpdateProgress},attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){return e.$emit("updateTable")}}},[e._v(" Обновить ")]),a("v-btn",{staticClass:"clear mr-5",attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){return e.$emit("resetFilters")}}},[e._v(" По умолчанию ")])],1)},ot=[],dt={name:"FilterButtons"},ct=dt,ut=(a("42cf"),Object(h["a"])(ct,st,ot,!1,null,"76738b48",null)),pt=ut.exports;m()(ut,{VBtn:k["a"],VRow:re["a"]});var ht=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText))]),a("v-select",{style:{width:e.inputWidth},attrs:{items:e.items,color:"#FF7141","item-text":"name","item-value":"id",solo:"",flat:"","hide-details":"",multiple:""},on:{change:function(t){return e.changeValue()}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},ft=[],mt={name:"MultipleSelectFilter",created:function(){this.isRemote?this.fetchItems():this.items=this.localItems,this.defaultValue&&(this.value=this.defaultValue),this.$store.state.filtersValues[this.filterName]=this.value},methods:{fetchItems:function(){var e=this;o.a.get(this.filterUrl).then((function(t){e.items=t.data.data}))},changeValue:function(){this.$store.state.filtersValues[this.filterName]=this.value}},props:["labelText","filterName","isRemote","filterUrl","localItems","inputWidth","defaultValue"],data:function(){return{value:[],items:[]}}},xt=mt,vt=(a("1180"),a("5d52"),Object(h["a"])(xt,ht,ft,!1,null,"18e7d56e",null)),bt=vt.exports;m()(vt,{VSelect:it["a"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.splitted?a("div",{staticClass:"mr-5 range-date"},[a("div",{staticClass:"range-date-half"},[a("div",[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText)+" от")]),a("v-menu",{staticClass:"mt-2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{solo:"",flat:"","hide-details":"",readonly:""},on:{"click:append":function(t){return e.showCalendar("from")}},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"cal-icon",attrs:{color:"#FF7141"},on:{click:function(t){return e.showCalendar("from")}}},[e._v("icon-calendar")])]},proxy:!0}],null,!0),model:{value:e.dateRangeTextFrom,callback:function(t){e.dateRangeTextFrom=t},expression:"dateRangeTextFrom"}},r))]}}],null,!1,3251605767),model:{value:e.fromDateMenu,callback:function(t){e.fromDateMenu=t},expression:"fromDateMenu"}},[a("v-date-picker",{attrs:{color:"#4D6C99","header-color":"#4D6C99",elevation:"3","show-adjacent-months":"","weekday-format":e.getDay,"first-day-of-week":"1"},on:{input:function(t){e.setValueInStore(e.value)}},model:{value:e.value[0],callback:function(t){e.$set(e.value,0,t)},expression:"value[0]"}})],1)],1),a("v-select",{attrs:{items:e.fullTimeValues,color:"#FF7141","item-text":"name","item-value":"id",solo:"",flat:"","hide-details":""},on:{input:function(t){e.setValueInStore(e.hoursValue,"time")}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[a("span",{staticClass:"select-item-text"},[e._v(e._s(r["name"]))])]}}],null,!1,1748265779),model:{value:e.hoursValue[0],callback:function(t){e.$set(e.hoursValue,0,t)},expression:"hoursValue[0]"}})],1),a("div",{staticClass:"range-date-half"},[a("div",[a("p",{staticClass:"filter-label"},[e._v("до")]),a("v-menu",{staticClass:"mt-2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{solo:"",flat:"","hide-details":"",readonly:""},on:{"click:append":function(t){return e.showCalendar("to")}},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"cal-icon",attrs:{color:"#FF7141"},on:{click:function(t){return e.showCalendar("to")}}},[e._v("icon-calendar")])]},proxy:!0}],null,!0),model:{value:e.dateRangeTextTo,callback:function(t){e.dateRangeTextTo=t},expression:"dateRangeTextTo"}},r))]}}],null,!1,1185332202),model:{value:e.toDateMenu,callback:function(t){e.toDateMenu=t},expression:"toDateMenu"}},[a("v-date-picker",{attrs:{color:"#4D6C99","header-color":"#4D6C99",elevation:"3","show-adjacent-months":"","weekday-format":e.getDay,"first-day-of-week":"1"},on:{input:function(t){e.setValueInStore(e.value)}},model:{value:e.value[1],callback:function(t){e.$set(e.value,1,t)},expression:"value[1]"}})],1)],1),a("v-select",{attrs:{items:e.fullTimeValues,color:"#FF7141","item-text":"name","item-value":"id",solo:"",flat:"","hide-details":""},on:{input:function(t){e.setValueInStore(e.hoursValue,"time")}},scopedSlots:e._u([{key:"item",fn:function(t){var r=t.item;return[a("span",{staticClass:"select-item-text"},[e._v(e._s(r["name"]))])]}}],null,!1,1748265779),model:{value:e.hoursValue[1],callback:function(t){e.$set(e.hoursValue,1,t)},expression:"hoursValue[1]"}})],1)]):a("div",{staticClass:"mr-5"},[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText))]),a("v-menu",{staticClass:"mt-2",attrs:{"close-on-content-click":!1,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{solo:"",flat:"","hide-details":"",readonly:""},on:{"click:append":e.showCalendar},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"cal-icon",attrs:{color:"#FF7141"},on:{click:function(t){return e.showCalendar()}}},[e._v("icon-calendar")])]},proxy:!0}],null,!0),model:{value:e.dateRangeText,callback:function(t){e.dateRangeText=t},expression:"dateRangeText"}},r))]}}]),model:{value:e.fromDateMenu,callback:function(t){e.fromDateMenu=t},expression:"fromDateMenu"}},[a("v-date-picker",{attrs:{color:"#4D6C99","header-color":"#4D6C99",elevation:"3","show-adjacent-months":"","weekday-format":e.getDay,"title-date-format":e.titleDate,range:"","first-day-of-week":"1"},on:{input:function(t){e.setValueInStore(e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},gt=[],yt=(a("a15b"),{name:"RangeDateFilter",props:["labelText","filterName","splitted"],data:function(e){return{isShow:!1,value:[],dateFormatted:e.formatDate((new Date).toISOString().substring(0,10)),fromDateMenu:!1,toDateMenu:!1,hoursValue:[18,6]}},created:function(){this.value=this.$store.state.defaultFiltersValues[this.filterName]},computed:{fromDateDisp:function(){return this.formatDate(this.value)},dateRangeTextFrom:function(){return new Date(this.value[0]).toLocaleString("ru-RU",{day:"numeric",month:"numeric",year:"numeric"})},dateRangeTextTo:function(){return new Date(this.value[1]).toLocaleString("ru-RU",{day:"numeric",month:"numeric",year:"numeric"})},dateRangeText:function(){return this.dateRangeTextFrom+" - "+this.dateRangeTextTo},storeFilterValues:function(){return this.$store.state.filtersValues[this.filterName]},fullTimeValues:function(){return this.$store.state.timeFilterValues[2].map((function(e){return{id:e.id,name:e.name+":00"}}))}},watch:{storeFilterValues:function(e){this.value!==e&&(this.value=e)},hoursValue:function(e){this.dateRangeStr(e,"hour")},value:function(e){this.dateRangeStr(e,"date")}},methods:{getDay:function(e){var t=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],a=new Date(e).getDay(e);return t[a]},setValueInStore:function(e,t){this.$store.commit("setFilterValues",{filter:"time"===t?"time":this.filterName,val:e})},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2];return"".concat(n,".").concat(i,".").concat(r)},showCalendar:function(e){e&&"from"!==e?"to"===e&&(this.toDateMenu=!this.toDateMenu):this.fromDateMenu=!this.fromDateMenu},titleDate:function(e){return e.map((function(e){return new Date(e).toLocaleString("ru-RU",{weekday:"short",month:"short",day:"numeric"})})).join(" - ")},dateRangeStr:function(e,t){var a=("date"===t?e[0]:this.$store.state.filtersValues["date"][0])+" "+("hour"===t?e[0]+":00:00":this.hoursValue[0]+":00:00")+"; "+("date"===t?e[1]:this.$store.state.filtersValues["date"][1])+" "+("hour"===t?e[1]+":00:00":this.hoursValue[1]+":00:00");this.$store.commit("setFilterValues",{filter:"report-filter-interval",val:a})}}}),Tt=yt,Ht=(a("e8e6"),a("a768"),Object(h["a"])(Tt,_t,gt,!1,null,"8c6ac0c4",null)),wt=Ht.exports;m()(Ht,{VDatePicker:Je["a"],VIcon:E["a"],VMenu:we["a"],VSelect:it["a"],VTextField:Xe["a"]});var kt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr-5"},[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText))]),a("v-menu",{attrs:{transition:"slide-y-transition","offset-y":"","max-width":"290px","min-width":"420px","max-height":"400px","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{value:e.inputValue,solo:"",flat:"","hide-details":"",readonly:""},on:{"click:append":e.showTree},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"drop-icon",class:{"drop-icon-revert":e.treeView},attrs:{value:e.value},on:{click:e.showTree}},[e._v("mdi-menu-down")])]},proxy:!0}],null,!0)},r))]}}]),model:{value:e.treeView,callback:function(t){e.treeView=t},expression:"treeView"}},[a("v-treeview",{staticClass:"select-tree",attrs:{"open-all":"","open-on-click":"",selectable:"","return-object":"",activatable:!0,items:e.items,"selected-color":"#00194D"},on:{input:function(t){return e.setValue(e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},Dt=[],$t={name:"SelectTreeFilter",created:function(){this.isRemote?this.fetchItems():this.items=this.localItems,this.defaultValue&&(this.value=this.defaultValue,this.setValue(this.defaultValue)),this.$store.state.filtersValues[this.filterName]=this.value},methods:{fetchItems:function(){var e=this;o.a.get(this.filterUrl).then((function(t){e.items=e.changeKeyForItems(t.data.data)}))},changeKeyForItems:function(e){var t=this;return e.forEach((function(e){e.name=e.text,e.children&&t.changeKeyForItems(e.children)})),e},showTree:function(){this.treeView=!this.treeView},setValue:function(e){var t=e,a="";if(t.length>0){var r="";t.forEach((function(e,t){0===t?(r+=e.name,a+=e.id):(r+=","+e.name,a+=","+e.id)})),this.inputValue=r}else this.inputValue="";this.$store.state.filtersValues.types=a}},props:["labelText","filterName","isRemote","filterUrl","localItems","defaultValue"],data:function(){return{value:[],inputValue:"",treeView:!1,items:[]}}},Vt=$t,Mt=(a("2887"),a("bb7f"),a("eb2a")),Ct=Object(h["a"])(Vt,kt,Dt,!1,null,"7bfb68f9",null),Ut=Ct.exports;m()(Ct,{VIcon:E["a"],VMenu:we["a"],VTextField:Xe["a"],VTreeview:Mt["a"]});var Ft=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"450",persistent:""},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on,i=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"choose",attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1}},"v-btn",i,!1),r),[e._v("Выберите два расчета для сравнения")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{height:"80",elevation:"0"}},[e._v(" Выберите два расчета"),a("br"),e._v("для сравнения "),a("v-btn",{staticClass:"close-compare",attrs:{color:"#D2DAE7",icon:"",ripple:!1,absolute:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("DataTable",{ref:"table",staticClass:"pl-1 pr-3",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType}}),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"compare",class:{"disable-events":2!==this.$store.state.planToCompare.length},attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){e.dialog=!1,e.$emit("updateTable")}}},[e._v("Сравнить")])],1)],1)],1)},Lt=[],Ot=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"table flex",class:[{"slide-leave slide-enter-active":this.$store.state.sheet&&e.hasDetail,"slide-leave-to slide-leave-active":!this.$store.state.sheet&&e.hasDetail},e.tableType],attrs:{id:"table",elevation:"0"}},[a("div",{staticClass:"v-data-table pl-2 v-data-table--dense v-data-table--fixed-height theme--light"},[a("div",{directives:[{name:"scroll",rawName:"v-scroll:#virtual-scroll-table",value:e.onScroll,expression:"onScroll",arg:"#virtual-scroll-table"},{name:"scroll",rawName:"v-scroll:#virtual-scroll-table-details",value:e.onScrollDetails,expression:"onScrollDetails",arg:"#virtual-scroll-table-details"}],staticClass:"v-data-table__wrapper",attrs:{id:e.isDetail?"virtual-scroll-table-details":"virtual-scroll-table"}},[a("table",{staticClass:"v-data-table-body"},[a("thead",{staticClass:"v-data-table-header"},e._l(e.headerRows,(function(t,r){return a("tr",{key:r},e._l(t,(function(t,i){return a("th",{key:i,class:e.getAlign(t,t.textMinify),style:{"min-width":t.width+"px"},attrs:{rowspan:t.children?1:e.headerDeep,colspan:e.getColspan(t,r)}},[e._v(e._s(e._f("getHeaderText")(t.text)))])})),0)})),0),a("tbody",[(e.isDetail?e.startDetails:e.start)>0?a("tr",[a("td",{style:"padding-top:"+e.startHeight+"px"})]):e._e(),e._l(e.lazyTableData,(function(t){return a("tr",{key:t.origID,class:{"selected-row":t.origID===e.selectedItem,"grouping-row":t.isGroup,"grouping-row--closed":e.groupingRowsIndClose.includes(t.index),"glued-row":t.isGlued},style:t["tr_bgcolor"]?{"background-color":"#FFFF00"===t["tr_bgcolor"]?"#FFFFAA":"#BDB76B"===t["tr_bgcolor"]?"#DCD9B2":t["tr_bgcolor"]}:"",on:{click:function(a){e.selectRow(t.origID),e.gluedHighlights(a),e.collapseRow(t.origID,t)},mouseenter:function(t){return e.gluedHighlights(t)},mouseleave:function(t){return e.gluedHighlights(t)},dblclick:function(a){return e.onDblClick(t)}}},e._l(e.headersFlat,(function(r,i){return a("td",{key:i,class:[e.cellClasses[t.origID+"_"+r.value],{"close-group":t[r.value+"_grouping"]&&t[r.value]&&e.groupingRowsIndClose.some((function(e){return e===t.origID})),"hide-cell":!t.grouping_row&&e.setCollapse(t.origID)}],style:[e.setRepCellBG(t,r),i?{}:{"padding-left":20+20*t.level+"px"}],attrs:{rowspan:e.setRowspan(t,r.value),colspan:t[r.value+"_colspan"]?t[r.value+"_colspan"]:0},on:{click:function(a){return e.openDetail(a,t[r.value+"_request"],r.value,t.origID,r,t)}}},[t[r.value+"_tooltip"]?a("v-tooltip",{attrs:{right:"","max-width":"190","open-delay":"2",transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(i){var n=i.on;return[e.isEditable(t,r.editable,t[r.value])?a("div",e._g({style:{width:e.setWidth(r.width,t)}},n),[a("EditCell",{attrs:{oldValue:t[r.value],row:t,col:r,rowId:t.origID},on:{updateCell:function(a){return e.changeClass(a,t[r.value],t,r,t.origID)}}})],1):a("div",e._g({class:{"detail-cell":e.selectedCell.i===t.origID&&e.selectedCell.dataIndex===r.value},style:{width:e.setWidth(r.width,t)}},n),[e._v(" "+e._s(e._f("customizeValue")(t[r.value],r.value,t,e.tableType,e.tableData,t.origID,r.formatDate))+" ")])]}}],null,!0)},[a("span",[e._v(e._s(e.getTooltip(t[r.value+"_tooltip"],t[r.value])))])]):[e.isEditable(t,r.editable,t[r.value])&&"date"!==r.editType&&"text"!==r.editType?a("EditCell",{attrs:{oldValue:t[r.value],row:t,col:r,rowId:t.origID},on:{updateCell:function(a){return e.changeClass(a,t[r.value],t,r,t.origID)}}}):"button"===r.editType?a("AddTableButton",{attrs:{record:t},on:{forceUpdateTable:function(t){return e.$emit("forceUpdate")}}}):"date"===r.editType?a("EditCellDate",{attrs:{oldValue:t[r.value],row:t,col:r,rowId:t.origID},on:{updateCell:function(a){return e.changeClass(a,t[r.value],t,r,t.origID)}}}):"text"===r.editType?a("EditCellText",{attrs:{oldValue:t[r.value],row:t,col:r,rowId:t.origID},on:{updateCell:function(a){return e.changeClass(a,t[r.value],t,r,t.origID)}}}):a("div",["checkbox"===r.type?a("v-checkbox",{staticClass:"mb-1",attrs:{disabled:e.setCheckDisabled(t),"hide-details":"",ripple:!1,"input-value":t[r.value]},on:{click:function(a){e.setCompare(t),e.$emit("updateTable")}}}):a("div",{class:{"detail-cell":e.selectedCell.i===t.origID&&e.selectedCell.dataIndex===r.value},style:{width:e.setWidth(r.width,t)}},[e._v(" "+e._s(e._f("customizeValue")(t[r.value],r.value,t,e.tableType,e.tableData,t.origID,r.formatDate))+" ")])],1)]],2)})),0)})),(e.isDetail?e.startDetails:e.start)+e.perPage<this.tableDataAfterCollapse.length?a("tr",[a("td",{style:"padding-top:"+e.endHeight+"px"})]):e._e()],2)])])]),e.$store.state.tableUpdateProgress?a("v-progress-circular",{staticClass:"progress-circle",attrs:{indeterminate:"",color:"#00194D"}}):e._e()],1)},jt=[],Rt=a("ade3"),Nt=a("2909"),St=(a("5319"),a("498a"),a("fb6a"),a("4de4"),a("841c"),a("a630"),a("3ca3"),a("7db0"),a("a434"),a("a9e3"),a("4fad"),a("13d5"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{staticClass:"input-cell",attrs:{value:Math.trunc(e.row[e.col.value]||0===e.row[e.col.value]?e.row[e.col.value]:e.row[e.col]),"single-line":"","hide-details":"",dense:"",max:"999",min:"0",type:"number",oninput:"if(Number(this.value) > Number(this.max)) this.value = this.value.slice(0, this.max.length);\n        if (this.value === '') this.value = 0;\n        if (this.value) this.value = +this.value;"},on:{input:function(t){return e.$emit("updateCell",t)}}})}),Et=[],Pt={name:"EditCell",props:["row","col","oldValue","rowId"]},At=Pt,Kt=(a("5a25"),Object(h["a"])(At,St,Et,!1,null,null,null)),Bt=Kt.exports;m()(Kt,{VTextField:Xe["a"]});var It=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-menu",{staticClass:"mt-2",attrs:{transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var r=t.on;return[a("v-text-field",e._g({attrs:{solo:"",flat:"","hide-details":"",readonly:"",value:e.fromDateDisp},on:{"click:append":e.showC}},r))]}}]),model:{value:e.fromDateMenu,callback:function(t){e.fromDateMenu=t},expression:"fromDateMenu"}},[a("v-date-picker",{attrs:{color:"#4D6C99","header-color":"#4D6C99",elevation:"3","show-adjacent-months":"","weekday-format":e.getDay,"first-day-of-week":"1"},on:{input:function(t){e.setValueInStore(e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},zt=[],Wt={name:"EditCellDate",props:["row","col","oldValue","rowId"],computed:{fromDateDisp:function(){var e="-";return this.value&&(this.formatDateFromStore(this.value)?e=this.formatDateFromStore(this.value):this.formatDate(this.value)&&(e=this.formatDate(this.value))),e}},created:function(){this.value=this.row[this.col.value]},data:function(){return{isShow:!1,value:"",fromDateMenu:!1}},methods:{getDay:function(e){var t=["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],a=new Date(e).getDay(e);return t[a]},setValueInStore:function(e){this.value=e},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2];return"".concat(n,".").concat(i,".").concat(r)},formatDateFromStore:function(e){var t=e.split(" ")[0].split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2];return"".concat(n,".").concat(i,".").concat(r)},showC:function(){this.fromDateMenu=!this.fromDateMenu}}},Gt=Wt,qt=(a("94d2"),a("2ebb"),Object(h["a"])(Gt,It,zt,!1,null,"a11be5bc",null)),Yt=qt.exports;m()(qt,{VDatePicker:Je["a"],VMenu:we["a"],VTextField:Xe["a"]});var Jt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"add-table mr-1",attrs:{color:"#4D6C99",height:"25px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){e.addRecordToTable(),e.$emit("forceUpdateTable")}}},[e._v(" Добавить ")])},Xt=[],Qt={name:"AddTableButton",props:["record"],methods:{addRecordToTable:function(){var e=this;if(this.$store.state.tableStores["rep_control_0"]){var t=this.$store.state.tableStores["rep_control_0"].every((function(t){return t.ser_loc!==e.record.ser_loc||t.prs_loc!==e.record.prs_loc||t.zns_loc!==e.record.zns_loc}));t&&this.$store.commit("addTableStores",{key:"rep_control_0",val:this.record})}else this.$store.commit("setTableStores",{key:"rep_control_0",val:[this.record]})}}},Zt=Qt,ea=(a("7391"),Object(h["a"])(Zt,Jt,Xt,!1,null,"881839ee",null)),ta=ea.exports;m()(ea,{VBtn:k["a"]});var aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{staticClass:"input-cell",attrs:{value:e.row[e.col.value]||0===e.row[e.col.value]?e.row[e.col.value]:e.row[e.col],"single-line":"","hide-details":"",dense:""},on:{input:function(t){return e.$emit("updateCell",t)}}})},ra=[],ia={name:"EditCellText",props:["row","col","oldValue","rowId"]},na=ia,la=Object(h["a"])(na,aa,ra,!1,null,null,null),sa=la.exports;m()(la,{VTextField:Xe["a"]});var oa={name:"DataTable",components:{EditCellText:sa,AddTableButton:ta,EditCellDate:Yt,EditCell:Bt},created:function(){this.isDetail||("compare"===this.tableType&&this.fetchTableData(this.params),this.$store.state.planToCompare.length>0&&(this.$store.state.planToCompare=[]),this.$store.state.editedValues.length>0&&(this.$store.state.editedValues=[]),this.isRemote||(this.defaultHeaders=Object(Nt["a"])(this.headers)),this.setHeadersDefault(),this.$store.state.sheet=!1)},filters:{getHeaderText:function(e){var t=e;return e.indexOf("<br>")>=0&&(t=e.replace("<br>","\n")),t},customizeValue:function(e,t,a,r,i,n,l){var s=e;if("norm_depo"===r&&"sort_number"===t||"plan_ind"===r&&"row_number"===t){if(""===a.type||"plan_ind"===r&&!a.grouping_row){var o=0;return i.every((function(e){return(""===e.type||"plan_ind"===r&&!e.grouping_row)&&o++,a!==e})),o}return""}if("string"===typeof e&&(e.indexOf("<br>")>=0&&(s=e.split("<br>").join("\n ")),e.indexOf("/")>=0&&+e.split("/").join("")&&(s=e.split("/").join(" /\n"))),"plan_ind"!==r&&"row_number"===t){var d=0;if(!a.grouping_row)for(var c=0;c<n;c++)i[c].grouping_row&&d++;return n-d+1}if("plan_ind"===r&&a.grouping_row&&e&&(s=e.split(".")[1].trim()),"norm_ratio"===r&&"number"===typeof e)return Math.floor(100*s)/100;if("string"===typeof e&&e.indexOf("<b>")>=0)if(e.indexOf("</b>")>=0)s=e.substring(3,e.length-4).trim();else{var u=e.substring(3,e.length-3).trim();s=u.indexOf("<b>")>=0?u.substring(3,u.length-3).trim():u}if("string"===typeof e&&e.indexOf("<big>")>=0&&(s=e.substring(5,e.length-6).trim(),s.indexOf("<b>")>=0&&(s=s.substring(3,s.length-3).trim())),"st_tasks"!==r||"road"!==t&&"station_name"!==t||n-1>=0&&a[t]===i[n-1][t]&&(s=""),"mod_nsi"===r&&("start_date"===t||"end_date"===t)){var p=new Date(e);s=(p.getHours()<10?"0":"")+p.getHours()+":"+(p.getMinutes()<10?"0":"")+p.getMinutes()+" "+(p.getDate()<10?"0":"")+p.getDate()+"."+(p.getMonth()<10?"0":"")+(p.getMonth()+1)+"."+p.getFullYear()}if("date_start"===t&&("rep_control_0"===r||"rep_control_1"===r)){var h=e.split(" ")[0].split("-"),f=Object(Ge["a"])(h,3),m=f[0],x=f[1],v=f[2];s="".concat(v,".").concat(x,".").concat(m)}if(l&&e){var b=e.split(" "),_=b[0].split("-"),g=Object(Ge["a"])(_,3),y=g[0],T=g[1],H=g[2],w=b[1].split(":"),k=Object(Ge["a"])(w,2),D=k[0],$=k[1];s="".concat(H,".").concat(T,".").concat(y," ").concat(D,":").concat($)}return"rep_19_4"!==r&&"rep_19_5"!==r||0!==e||(s=""),s}},computed:{startHeight:function(){return(this.isDetail?this.startDetails:this.start)*this.rowHeight-32},endHeight:function(){return this.rowHeight*(this.tableDataAfterCollapse.length-(this.isDetail?this.startDetails:this.start))},lazyTableData:function(){return this.tableDataAfterCollapse.slice(this.isDetail?this.startDetails:this.start,this.perPage+(this.isDetail?this.startDetails:this.start))},filteredTableData:function(){return this.tableSearch?this.tableData.filter((function(e){return e.grouping_row||e.nom_tpe===this}),this.tableSearch).filter((function(e,t,a){return!e.grouping_row||a[t+1]&&!a[t+1].grouping_row})):this.tableData},tableDataAfterCollapse:function(){var e=this,t=this.filteredTableData,a=[];t.forEach((function(a,r){(a.isGroup||a.grouping_row)&&(e.childrenCount[r]=function(){var e=[];for(var i in t)if(i>r&&t[+i].level>a.level){if(e.push(t[+i]),+i===t.length-1)return e.length}else if(i>r&&t[+i].level<=a.level)return e.length}())}),this);var r=0;return t.forEach((function(e,t){r?r--:(this.groupingRowsIndClose.includes(t)&&(r=this.childrenCount[t]),a.push(e))}),{groupingRowsIndClose:this.groupingRowsIndClose,childrenCount:this.childrenCount,rowsToCloseCount:r}),a},tableSearch:function(){return this.$store.state.filtersValues.search}},watch:{filteredTableData:function(){this.setGroupingRowsInd(),this.setClasses()},tableDataAfterCollapse:function(){this.groupKey&&(this.setGroupingRowsInd(),this.setClasses())}},methods:{onDblClick:function(e){var t=this;"order"===this.tableType&&(o.a.get(this.$store.state.isTestMode?"/server/order_reg.json":"/ajax2.php?module=Order&method=get_order_html&id="+e.order).then((function(e){t.$store.commit("setOrderModalHtml",e.data.data[0].body)})),this.$store.commit("setOrderModalState",!0))},_previousSibling:function(e,t){return t--,t>0?this._previousSibling(e,t).previousSibling:e.previousSibling},_nextSibling:function(e,t){return t--,t>0?this._nextSibling(e,t).nextSibling:e.nextSibling},gluedHighlights:function(e){"click"===e.type&&Array.from(document.getElementsByClassName("selected")).forEach((function(e){return e.classList.remove("selected")})),this.$nextTick((function(){var t,a,r=0;if(e.currentTarget.classList.contains("glued-row"))do{r++,"mouseenter"===e.type?this._previousSibling(e.currentTarget,r).classList.add("is-hover"):"mouseleave"===e.type?this._previousSibling(e.currentTarget,r).classList.remove("is-hover"):"click"===e.type&&this._previousSibling(e.currentTarget,r).classList.add("selected")}while(this._previousSibling(e.currentTarget,r).classList.contains("glued-row"));if(null!==(t=e.currentTarget.nextSibling.classList)&&void 0!==t&&t.contains("glued-row")||null!==(a=e.currentTarget.classList)&&void 0!==a&&a.contains("glued-row")){r=1;while(this._nextSibling(e.currentTarget,r).classList.contains("glued-row"))"mouseenter"===e.type?this._nextSibling(e.currentTarget,r).classList.add("is-hover"):"mouseleave"===e.type?this._nextSibling(e.currentTarget,r).classList.remove("is-hover"):"click"===e.type&&this._nextSibling(e.currentTarget,r).classList.add("selected"),r++}}))},onScroll:function(e){var t=this;this.timeout&&clearTimeout(this.timeout),this.timeout=setTimeout((function(){var a=e.target.scrollTop,r=Math.ceil(a/t.rowHeight);t.start=r+t.perPage>t.tableDataAfterCollapse.length?t.tableDataAfterCollapse.length-t.perPage:r,t.start<0&&(t.start=0),t.$nextTick((function(){e.target.scrollTop=a}))}),10)},onScrollDetails:function(e){var t=this;this.timeoutDetails&&clearTimeout(this.timeoutDetails),this.timeoutDetails=setTimeout((function(){var a=e.target.scrollTop,r=Math.ceil(a/t.rowHeight);t.startDetails=r+t.perPage>t.tableDataAfterCollapse.length?t.tableDataAfterCollapse.length-t.perPage:r,t.startDetails<0&&(t.startDetails=0),t.$nextTick((function(){e.target.scrollTop=a}))}),10)},setHeadersDefault:function(){this.defaultHeaders&&(this.defaultHeaders.some((function(e){return"extra"===e.value}))||this.defaultHeaders.push({text:"",value:"extra"}));var e=[];if(this.headerDeep=this.deepSearch(this.defaultHeaders||this.headersRemote,0,[]),isFinite(this.headerDeep))for(var t=1;t<=this.headerDeep;t++){var a=this.getSubHeader(this.defaultHeaders||this.headersRemote,t,0,[]);e.push(a)}this.headerRows=e},setCheckDisabled:function(e){return"compare"===this.tableType&&(2===this.$store.state.planToCompare.length&&!this.$store.state.planToCompare.find((function(t){return t===e.id})))},setCompare:function(e){"compare"===this.tableType&&(this.$store.state.planToCompare.length>0&&this.$store.state.planToCompare.find((function(t){return t===e.id}))?this.$store.state.planToCompare.splice(this.$store.state.planToCompare.indexOf(e.id),1):this.$store.state.planToCompare.push(e.id))},setWidth:function(e,t){var a="";return!t.grouping_row&&e&&(a=e+"px"),a},resetData:function(){this.tableData.length>0&&(this.tableData=[])},setRowspan:function(e,t){var a="";if(t&&t.indexOf("_")>=0){var r=t.split("_"),i=r.slice(0,-1).join("_")+"_rowspan_origin";e[i]&&(a=e[i])}return a},checkRowspanRecord:function(e){return Object.keys(e).some((function(e){return e.indexOf("rowspan")>=0}))},changeClass:function(e,t,a,r,i){this.setCellStyles(a,i,r,e),this.changeValue(e,r.value,i,t,a.id,a),this.$store.state.cancelBtnActive=!this.editedValues.length>0,this.$store.state.recalcBtnActive=!this.editedValues.length>0,this.$forceUpdate()},changeValue:function(e,t,a,r,i,n){var l,s=i;"reg_join"===this.tableType&&(s=n.splice_id),this.editedValues.forEach((function(a,i,n){a.id===s&&a.name===t&&(+e!==+r?a.value=e:n.splice(i),l=!0)})),l||("norm_sec"===this.tableType?this.editedValues.push({value:e,name:t,id:i}):"norm_ratio"===this.tableType?this.editedValues.push({value:e,name:t,id:i,drl:n.drl}):"reg_join"===this.tableType&&this.editedValues.push({value:e,name:t,id:n.splice_id,direction:n.direction})),this.$store.state.editedValues=this.editedValues},highlightCell:function(e,t,a){(a[t.value+"_request"]||"duration"===t.value&&"mod_compare"!==this.tableType||t.isDetailed)&&"GG"!==a.type&&"SS"!==a.type&&"G"!==a.type&&"S"!==a.type&&"I"!==a.type&&(a[t.value]||0===a[t.value])&&(this.selectedCell.i===e&&this.selectedCell.dataIndex===t.value?(this.selectedCell.i=null,this.selectedCell.dataIndex=null,this.$store.state.sheet=!1):(this.selectedCell.i=e,this.selectedCell.dataIndex=t.value))},openDetail:function(e,t,a,r,i,n){this.highlightCell(r,i,n),(t||"duration"===a&&"mod_compare"!==this.tableType||i.isDetailed)&&this.selectedCell.i===r&&this.selectedCell.dataIndex===i.value&&(setTimeout((function(){return e.target.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})}),50),this.$store.state.sheet=!0,this.$emit("loadDetail","duration"===a?n["id"]:t,n,a))},selectRow:function(e){this.selectedItem=e},collapseRow:function(e,t){if("mod_compare"===this.tableType){var a=t.index;!this.groupingRowsIndClose.includes(a)&&this.filteredTableData[a].isGroup?this.groupingRowsIndClose.push(a):this.groupingRowsIndClose=this.groupingRowsIndClose.filter((function(e){return e!==a}))}else this.groupingRowsIndClose.some((function(t){return t===e}))?this.groupingRowsIndClose=this.groupingRowsIndClose.filter((function(t){return t!==e})):this.groupingRowsIndClose.push(e)},getAlign:function(e,t){var a="";return"mini"===t&&(a+="smaller-text "),e.border||"extra"===e.value?a+="thick-border-bottom ":a+="thin-border-bottom ",e.alignHeader||(a+="align-text-left "),e.fixedColumn&&(a+="fixed-column "),a},getTooltip:function(e,t){if(e){if("norm_sec"===this.tableType||"reg_join"===this.tableType||"reg_sec"===this.tableType){var a,r=e.split(";"),i=Number(r[0].replace(/\D+/g,"")),n=Number(r[1].replace(/\D+/g,"")),l="";return Number(r[2].replace(/\D+/g,""))&&(a=Number(r[2].replace(/\D+/g,""))),""!==r[3].split(" = ")[1]&&(l=r[3].split(" = ")[1]),r&&l&&a&&t!==a?"Данные изменены: "+l+" с "+a+" на "+t+"; мин = "+i+"; макс = "+n:"мин = "+i+"; макс = "+n}if("mod_nsi"===this.tableType){var s=e.split(";"),o="",d="";return""!==s[0].split(" = ")[1]&&(d=s[0].split(" = ")[1]),""!==s[1].split(" = ")[1]&&(o=s[1].split(" = ")[1]),"Данные изменены: "+o+" c "+d+" на "+t}return e}return""},isEditable:function(e,t,a){return(void 0!==a||"rep_control_0"===this.tableType)&&t&&"S"!==e.type&&"SS"!==e.type&&"I"!==e.type},setCellStyles:function(e,t,a,r){var i="";(+e[a.value]||0===+e[a.value]||"string"===typeof e[a.value]&&e[a.value].indexOf("<big>")>=0||"string"===typeof e[a.value]&&e[a.value].indexOf("<b>")>=0&&(+e[a.value].substring(3,e[a.value].length-4)||0===+e[a.value].substring(3,e[a.value].length-4))||"string"===typeof e[a.value]&&e[a.value].indexOf("<b><b>")>=0&&(+e[a.value].substring(6,e[a.value].length-6)||0===+e[a.value].substring(6,e[a.value].length-6))||e.grouping_row||a.isBigText||"string"===typeof e[a.value]&&e[a.value].indexOf("+")>=0&&+e[a.value].split("+")[0])&&(i+="numbers-font-size ");var n=a.value.split("_"),l=n.slice(0,-1).join("_")+"_rowspan_origin";if(0===e[l]&&(i+="hide-cell not-colored "),e.grouping_row&&!e[a.value+"_colspan"]&&(i+="hide-cell "),(a.editable||e[a.value+"_request"]||"duration"===a.value||a.isDetailed)&&"GG"!==e.type&&"SS"!==e.type&&"G"!==e.type&&"S"!==e.type&&"I"!==e.type&&(e[a.value]||0===+e[a.value]||"rep_control_0"===this.tableType)&&((e[a.value+"_request"]||"duration"===a.value||a.isDetailed)&&"mod_compare"!==this.tableType?i+="detail-cell-main ":r&&+r!==+e[a.value]?i+="edited-cell-main ":"mod_compare"!==this.tableType&&(i+="edit-cell-main ")),e[a.value+"_grouping"]&&e[a.value]&&(i+="grouping-cell-open "),"reg_join"===this.tableType&&a.editable&&0===e[a.value]&&(i+="back-pink "),!this.checkRowspanRecord(e)&&t%2===0||this.checkRowspanRecord(e)&&this.checkRowspanInd(t)%2===0&&isFinite(this.checkRowspanInd(t))?a.fixedColumn?i+="fixed-colored ":i+="colored-row ":a.fixedColumn&&(i+="fixed-column "),"rep_18"===this.tableType){if(!e.grouping_row)switch("ser_name"===a.value||"nom_tpe"===a.value?e["zona"]:"probeg1"===a.value?e["zon1"]:"probeg2"===a.value?e["zon2"]:"group"===a.value&&e["group"]){case 1:i+="colored-cell-green ";break;case 2:i+="colored-cell-yellow ";break;case 3:i+="colored-cell-red ";break}}else if(e[a.value+"_color"])switch(e[a.value+"_color"]){case"green":i+="colored-cell-green ";break;case"red":i+="colored-cell-red ";break;case"yellow":i+="back-yellow ";break}if(("GG"===e.type||"SS"===e.type||"G"===e.type||"S"===e.type||"I"===e.type||"string"===typeof e[a.value]&&e[a.value].indexOf("<b>")>=0&&e[a.value].indexOf("<big>")<0)&&(i+="bold-text "),a.rightBorder&&(i+="right_border "),e[a.value+"_tooltip"]&&"norm_depo"!==this.tableType&&"string"===typeof e[a.value+"_tooltip"]&&e[a.value+"_tooltip"].indexOf(";")>=0)if("mod_nsi"===this.tableType){var s=e[a.value+"_tooltip"].split(";"),o="";""!==s[0].split(" = ")[1]&&(o=s[0].split(" = ")[1]),+e[a.value]!==+o&&(i+="edited-cell-main ")}else{var d,c=e[a.value+"_tooltip"].split(";"),u=Number(c[0].replace(/\D+/g,"")),p=Number(c[1].replace(/\D+/g,"")),h=Math.ceil(1.1*p),f="",m=r||e[a.value];c[2]&&Number(c[2].replace(/\D+/g,""))&&(d=Number(c[2].replace(/\D+/g,""))),c[3]&&""!==c[3].split(" = ")[1]&&(f=c[3].split(" = ")[1]),c&&(f&&(d||0===d)&&m!==d?m>=u&&m<=p||!(0===m||m>h)?m>=u&&m<=p||!(0===m||m>h)?0!==m&&m>p&&m<=h&&(i+="back-yellow edited-cell-main "):i+="back-pink ":i+="back-pink edited-cell-main ":"mod_compare"!==this.tableType&&(m>=u&&m<=p||!(0===m||m>h)?m>=u&&m<=p||!(0===m||m>h)?0!==m&&m>p&&m<=h&&(i+="back-yellow edit-cell-main "):i+="back-pink ":i+="back-pink edit-cell-main "))}"plan_main"===this.tableType?i+="wrap-cell vertical-align-text ":"rep_tp_norm"!==this.tableType&&"rep_tp_reg"!==this.tableType||(i+="wrap-cell "),this.tableType&&this.tableType.includes("rep")&&(("DELTA8"===a.value||"DELTA11"===a.value||"DELTA14"===a.value)&&+e[a.value]<0||("DELTA36"===a.value||"DELTA40"===a.value)&&+e[a.value]>0)&&(i+="back-pink "),"checkbox"===a.type&&(i+="center-align "),this.cellClasses[t+"_"+a.value]=i},fetchTableData:function(e,t){var a=this;this.$store.state.editedValues=[],this.editedValues=[],this.tableData=[],"add"===e?(this.isRemote||this.createHeadersFlat(),this.tableData=this.$store.state.tableStores[this.tableType]):(this.groupingRowsIndClose=[],this.$store.commit("setTableUpdateProgress",!0),(!this.isDetail||this.isDetail&&this.$store.state.sheet)&&o.a.get(this.url||t,{params:e}).then((function(r){if(a.resetData(),"norm_sec"===a.tableType&&(1===a.$store.state.filtersValues.drl?(a.defaultHeaders=a.defaultHeaders.filter((function(e){return"k_pgre"!==e.value&&"k_pe"!==e.value&&"duration"!==e.value})),a.$forceUpdate()):a.defaultHeaders=Object(Nt["a"])(a.headers)),a.$store.state.tableStores[a.tableType]&&delete a.$store.state.tableStores[a.tableType],a.$store.commit("setTableUpdateProgress",!1),(e&&e.load||a.isDetail)&&a.setHeadersDefault(),!a.isRemote||a.isRemote&&e.load){if(a.setHeadersDefault(),a.isRemote||a.createHeadersFlat(),r.data.data.some((function(e){return a.groupKey?e[a.groupKey]:e.group})))a.tableData=a.createGroupingData(r.data.data,"row_number"!==a.headersFlat[0].value?a.headersFlat[0].value:a.headersFlat[1].value,a.groupKey?a.groupKey:"group"),a.tableData.some((function(e){return e.grouping_row}))&&a.tableData.forEach((function(e){e.grouping_row?e.level=0:e.level=1})),a.setGroupingRowsInd();else if(r.data.data.some((function(e){return e.data&&e.data.length})))a.tableData=a.createFlattenArray(r.data.data);else if("rep_15"===a.tableType){var i=["data_is","date_to2"];r.data.data=r.data.data.map((function(e){return i.forEach((function(t){e[t]=e[t].split(" +")[0].split(" ").reverse(),e[t][0]=e[t][0].substring(0,5),e[t][1]=e[t][1].split("-").reverse().join("."),e[t]=e[t].join(" ")})),0===e.gross_weight&&(e.gross_weight=""),e})),a.tableData=r.data.data}else a.tableData=r.data.data;a.tableData.forEach((function(e,t){e.origID=t,Object.entries(e).some((function(e){return e[0].includes("_rowspan_origin")&&e[1]>1}))?a.gluedRows=Object.entries(e).find((function(e){return e[0].includes("_rowspan_origin")&&e[1]>1}))[1]-1:a.gluedRows>0&&(a.gluedRows--,e.isGlued=!0)})),a.setColspanRowColor(),a.setClasses()}else a.createHeaders(r.data.settings),e.load=!0,a.fetchTableData(e,t);a.$store.commit("setTableStores",{key:a.tableType,val:a.tableData})})))},createFlattenArray:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];for(var r in t++,e)a.push(e[+r]),a[a.length-1].level=t,e[+r].data&&e[+r].data.length&&this.createFlattenArray(e[+r].data,t,a);return a.forEach((function(e,t){e.data&&(e.data.length&&(e.isGroup=!0),delete e.data),e.index=t})),a},setClasses:function(){var e=this;this.tableDataAfterCollapse.forEach((function(t){e.headersFlat.forEach((function(a){e.setCellStyles(t,t.origID,a)}))}))},setRepCellBG:function(e,t){var a="",r=e[t.value];if(!this.tableType||"rep_tp_norm"!==this.tableType&&"rep_tp_reg"!==this.tableType)"rep_15"===this.tableType&&"ser_name"===t.value?1===e.color_prob?a="#FCFFDF":2===e.color_prob&&(a="#FAC8C8"):this.tableType&&this.tableType.includes("rep")&&"rep_18"!==this.tableType&&(a=e[t.value+"_color"]);else if(r&&r.includes("/")){var i=r.split(",")[1].split("/");i[1]=i[1].split(" ")[0],0===+i[0]?a="#FAC8C8":+i[0]>0&&+i[0]<+i[1]?a="#FCFFDF":+i[0]===+i[1]&&(a="#D8F5F3")}return{"background-color":a}},setHeaders:function(e,t){for(var a in e){var r={};e[a].visible&&(e[a].child?(r={text:e[a].name,alignHeader:"center",value:a,children:[]},this.setHeaders(e[a].child,r.children)):r={text:e[a].name,alignHeader:"center",value:a,width:e[a].width,border:!0,fixedColumn:e[a].fixedColumn},t.push(r))}return t},createHeaders:function(e){this.headersRemote=this.setHeaders(e,[]),this.headersRemote.some((function(e){return"extra"===e.value}))||this.headersRemote.push({text:"",value:"extra"}),this.createHeadersFlat()},createHeadersFlat:function(){var e=this.defaultHeaders||this.headersRemote;this.headersFlat=[],this.setHeadersFlat(e)},setHeadersFlat:function(e){for(var t in e)e[t].children?this.setHeadersFlat(e[t].children):this.headersFlat.push(e[t])},onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},getSubHeader:function(e,t,a,r){var i=this;return a++,t===a?e.forEach((function(e){t>1?r.push(e):r=r.concat(e)})):e.filter((function(e){return e.children})).forEach((function(e){i.getSubHeader(e.children,t,a,r)})),r},deepSearch:function(e,t,a){for(var r in t++,e)e[r].children&&this.deepSearch(e[r].children,t,a),a&&a.push(t);return Math.max.apply(null,a)},calculateColspan:function(e,t){var a=this;if(e.children){var r=e.children.length;e.children.forEach((function(e){e.children&&(r-=1,a.calculateColspan(e,t))})),t.push(r)}return t.reduce((function(e,t){return e+t}))},getColspan:function(e){var t;return t=e.children?this.calculateColspan(e,[]):1,t},setGroupingRowsInd:function(){var e=this;this.groupingRowsInd=[],this.filteredTableData.forEach((function(t,a){t.grouping_row&&e.groupingRowsInd.push(a)}))},createGroupingData:function(e,t,a){var r=this,i=[],n="group"===a||this.groupNameKey?a:"";if("rep_14"===this.tableType){var l=[],s=[];e.forEach((function(e){l.includes(e.road)||l.push(e.road)})),l.forEach((function(t){s.push.apply(s,Object(Nt["a"])(e.filter((function(e){return e.road===t}))))})),e=s}if("rep_9"===this.tableType){var o=[],d=[];e.forEach((function(e){o.includes(e.tjaga_name)||o.push(e.tjaga_name)})),o.sort(),o.forEach((function(t){d.push.apply(d,Object(Nt["a"])(e.filter((function(e){return e.tjaga_name===t}))))})),e=d}if(e.forEach((function(e,l,s){var o;(!s[l-1]||e[a]!==s[l-1][a]||"rep_9"===r.tableType&&e["tjaga_name"]!==s[l-1]["tjaga_name"])&&i.push((o={},Object(Rt["a"])(o,t,n?("rep_9"===r.tableType?e["tjaga_name"]+" - ":"")+e[n]:e[t]),Object(Rt["a"])(o,t+"_colspan","GROUP"===a?1:r.headersFlat.length),Object(Rt["a"])(o,t+"_grouping",!0),Object(Rt["a"])(o,"grouping_row",!0),Object(Rt["a"])(o,"fixedColumn",e.GROUP),Object(Rt["a"])(o,"GROUP",e.GROUP),Object(Rt["a"])(o,"KOL_SEK_colspan",e.GROUP?r.headersFlat.length-1:0),o));i.push(e)})),this.groupSort||"rep_9"!==this.tableType){var c=this.groupSort;i.sort((function(e,t){return e[c]>t[c]?1:e[c]<t[c]?-1:0}))}return i},setCollapse:function(e){var t=Math.max.apply(Math,Object(Nt["a"])(this.groupingRowsInd.filter((function(t){return t<e}))));return this.groupingRowsIndClose.some((function(e){return e===t}))},checkRowspanInd:function(e){return Math.max.apply(Math,Object(Nt["a"])(this.rowspanRows.filter((function(t){return t<=e}))))},setColspanRowColor:function(){var e=this;this.tableData.forEach((function(t,a){var r;if(Object.keys(t).some((function(e){return e.indexOf("_rowspan")>=0})))for(var i in t)i.indexOf("_rowspan")>=0&&t[i]&&(r=a);(r||0===r)&&e.rowspanRows.push(r)}))}},props:["headers","url","params","tableType","isDetail","hasDetail","hasInfo","isRemote","groupSort","groupKey","groupNameKey","hasButtons","hasTabs","hasBigFilter","subTitleHeight"],data:function(){return{defaultHeaders:null,progress:!1,selectedCheckbox:[],editedValues:[],selectedItem:null,groupingRowsIndClose:[],groupingRowsInd:[],rowspanRows:[],cellClasses:{},selectedCell:{i:null,dataIndex:null},windowSize:{x:0,y:0},tableData:[],headersRemote:[],headersFlat:[],headerRows:[],headerDeep:1,childrenCount:{},start:0,startDetails:0,timeout:null,timeoutDetails:null,rowHeight:32,perPage:22,gluedRows:0}}},da=oa,ca=(a("9d1e"),a("af93"),a("ac7c")),ua=a("490a"),pa=a("269a"),ha=a.n(pa),fa=a("dc22"),ma=a("f977"),xa=Object(h["a"])(da,Ot,jt,!1,null,"55793988",null),va=xa.exports;m()(xa,{VCard:D["a"],VCheckbox:ca["a"],VProgressCircular:ua["a"],VTooltip:G["a"]}),ha()(xa,{Resize:fa["a"],Scroll:ma["a"]});var ba={name:"ChooseDialog",components:{DataTable:va},computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{dialog:!1,tableType:"compare",defaultUrl:"/server/CalculationList.json",serverUrl:"/ajax.php?module=Normalization&method=plans",headers:[{text:"№\nп/п",value:"row_number",border:!0,textMinify:"mini"},{text:"Наименование расчета",value:"name",border:!0,width:280,textMinify:"mini"},{text:"Выбрать",value:"checkbox",type:"checkbox",border:!0,textMinify:"mini"}]}}},_a=ba,ga=(a("83d7"),Object(h["a"])(_a,Ft,Lt,!1,null,"b22743a2",null)),ya=ga.exports;m()(ga,{VBtn:k["a"],VCard:D["a"],VCardActions:$["a"],VDialog:V["a"],VIcon:E["a"],VToolbar:M["a"]});var Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"flex mt-1"},[a("v-checkbox",{attrs:{color:"#00194D","hide-details":"",ripple:!1,label:e.labelText,disabled:e.isCheckboxDisabled},on:{click:function(t){return e.changeValue()}},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})],1)},Ha=[],wa={name:"FilterCheckbox",props:["labelText","filterName"],created:function(){this.$store.commit("setFilterValues",{filter:this.filterName,val:!1})},methods:{changeValue:function(){this.$store.commit("setFilterValues",{filter:this.filterName,val:this.checked})}},data:function(){return{checked:!1}},computed:{isCheckboxDisabled:function(){return"with_depot"===this.filterName?this.$store.state.filtersValues["with_reg"]:"with_reg"===this.filterName&&this.$store.state.filtersValues["with_depot"]}}},ka=wa,Da=(a("83a6"),Object(h["a"])(ka,Ta,Ha,!1,null,null,null)),$a=Da.exports;m()(Da,{VCheckbox:ca["a"]});var Va=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr-5"},[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText))]),a("v-text-field",{attrs:{solo:"",flat:"","hide-details":"",value:e.value,"append-icon":e.isSearchInput?"mdi-magnify":""},on:{input:e.searchTextInput}})],1)},Ma=[],Ca={name:"TextfieldFilter",props:["labelText","filterType","isntSearch","filterName"],data:function(){return{isSearchInput:"search_input"===this.filterType}},computed:{value:function(){return this.isntSearch?"":this.isSearchInput?this.$store.state.filtersValues.search:""}},methods:{searchTextInput:function(e){this.isntSearch?this.$store.state.filtersValues[this.filterName]=e:this.$store.commit("setFilterValues",{filter:"search",val:e})}}},Ua=Ca,Fa=(a("e3f6"),a("aee8"),Object(h["a"])(Ua,Va,Ma,!1,null,"534efffb",null)),La=Fa.exports;m()(Fa,{VTextField:Xe["a"]});var Oa={name:"Filters",components:{FilterCheckbox:$a,ChooseDialog:ya,DateFilter:Ze,SelectFilter:lt,FilterButtons:pt,MultipleSelectFilter:bt,RangeDateFilter:wt,SelectTreeFilter:Ut,TextfieldFilter:La},props:["filters","tableType"],data:function(){return{panel:0}},methods:{resetAll:function(){for(var e in this.$refs)this.$store.state.defaultFiltersValues&&this.$store.state.defaultFiltersValues[e]&&("date"===e&&this.setDefaultValues(e),this.$store.commit("setFilterValues",{filter:e,val:this.$store.state.defaultFiltersValues[e]}))},changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen},setDefaultValues:function(e){if("date"===e){var t="rep_14"===this.tableType?1:7,a=[new Date,new Date];a[0].setDate(a[1].getDate()-t),a=[a[0].toISOString().substring(0,10),a[1].toISOString().substring(0,10)],this.$store.commit("setDefaultFilterValues",{filter:e,val:a})}}},created:function(){this.$store.state.filterOpen=!0,this.$store.commit("setCurrentTableType",this.tableType),this.setDefaultValues("date"),Object.keys(this.$store.state.taskTransitionProps).length||this.$store.commit("setFilterValues",{filter:"date",val:this.$store.state.defaultFiltersValues["date"]}),"rep_14"===this.tableType&&this.$store.commit("setFilterValues",{filter:"time",val:[18,6]})}},ja=Oa,Ra=(a("21d9"),a("76ea"),a("cd55")),Na=a("49e2"),Sa=a("c865"),Ea=a("0393"),Pa=Object(h["a"])(ja,Be,Ie,!1,null,"644bad8a",null),Aa=Pa.exports;m()(Pa,{VExpansionPanel:Ra["a"],VExpansionPanelContent:Na["a"],VExpansionPanelHeader:Sa["a"],VExpansionPanels:Ea["a"],VRow:re["a"]});var Ka=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs",{staticClass:"main-tabs",attrs:{"hide-slider":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tableTypeArray,(function(t,r){return a("v-tab",{key:t.tab,style:e.getStyles(r),attrs:{ripple:!1,to:{path:t.tablePath},"show-arrows":""}},[e._v(" "+e._s(t.tabName))])})),1)},Ba=[],Ia={name:"Tabs",data:function(){return{tab:this.tabModel}},methods:{getStyles:function(e){var t=e>0?23:16;return"z-index:"+(8-e)+";padding-left:"+t+"px;"}},props:["tableTypeArray","tabModel"]},za=Ia,Wa=(a("47b0"),a("8845"),a("71a3")),Ga=a("fe57"),qa=Object(h["a"])(za,Ka,Ba,!1,null,"eb446412",null),Ya=qa.exports;m()(qa,{VTab:Wa["a"],VTabs:Ga["a"]});var Ja=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel?a("div",{staticClass:"buttons-container"},[e.params.buttons.recalc?a("RecalcButton",{on:{recalcData:function(t){return e.$emit("recalcData")}}}):e._e(),e.params.buttons.save?a("SaveButton",{on:{saveChanges:function(t){return e.$emit("saveChanges")}}}):e._e(),e.params.buttons.cancel?a("CancelButton",{on:{cancelChanges:function(t){return e.$emit("cancelChanges")}}}):e._e()],1):e._e()},Xa=[],Qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"recalc",staticClass:"recalc-btn mr-5",class:{"disable-events":this.$store.state.recalcBtnActive},attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){e.recalcData(),e.$emit("recalcData")}}},[e._v(" Пересчитать ")])},Za=[],er={name:"RecalcButton",methods:{recalcData:function(){this.$store.state.recalcBtnActive=!0,this.$store.state.saveBtnActive=!1}}},tr=er,ar=(a("e5f4"),Object(h["a"])(tr,Qa,Za,!1,null,"0efdc25e",null)),rr=ar.exports;m()(ar,{VBtn:k["a"]});var ir=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"save",staticClass:"save-btn mr-5",class:{"disable-events":this.$store.state.saveBtnActive},attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){e.saveData(),e.$emit("saveChanges")}}},[e._v(" Сохранить ")])},nr=[],lr={name:"SaveButton",methods:{saveData:function(){this.$store.state.saveBtnActive=!0,this.$store.state.cancelBtnActive=!0}}},sr=lr,or=(a("d05a"),Object(h["a"])(sr,ir,nr,!1,null,"70d2d3e2",null)),dr=or.exports;m()(or,{VBtn:k["a"]});var cr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"cancel",staticClass:"cancel-btn mr-auto",class:{"disable-events":this.$store.state.cancelBtnActive},attrs:{color:"#FF7141","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){e.cancelChange(),e.$emit("cancelChanges")}}},[e._v(" Отмена ")])},ur=[],pr={name:"CancelButton",methods:{cancelChange:function(){this.$store.state.cancelBtnActive=!0,this.$store.state.saveBtnActive=!0,this.$store.state.recalcBtnActive=!0}}},hr=pr,fr=(a("061d"),Object(h["a"])(hr,cr,ur,!1,null,"d3e3737e",null)),mr=fr.exports;m()(fr,{VBtn:k["a"]});var xr={name:"Buttons",components:{RecalcButton:rr,SaveButton:dr,CancelButton:mr},props:{params:Object,exportUrl:String}},vr=xr,br=(a("8888"),Object(h["a"])(vr,Ja,Xa,!1,null,"01f6608a",null)),_r=br.exports,gr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"detail-block",class:{},attrs:{elevation:"0"}},[a("v-col",{staticClass:"pa-0 detail-block__wrapper"},[a("v-btn",{staticClass:"open-btn",attrs:{color:"#00194D",dark:"",block:"",height:"20",elevation:"0",ripple:!1},on:{click:function(t){return e.toggleSheet()}}},[a("v-icon",{staticClass:"icon icon-arrow-dropdown",class:{"icon-arrow-dropdown-up":this.$store.state.sheet}})],1),a("v-row",{staticClass:"detail-header",class:{"is-opened":e.$store.state.sheet},on:{mousedown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"left",37,t.key,["Left","ArrowLeft"])||"button"in t&&0!==t.button?null:(t.preventDefault(),e.mouseDownLeft(t))}}},[a("h3",{staticClass:"detail-title mr-auto"},[e._v(" "+e._s(this.$store.state.detailInfo.detailName)+" ")]),a("transition",{attrs:{name:"fade"}},[this.$store.state.sheet&&"graf_loco"!==e.tableType?a("PrintButton",{staticClass:"mr-4"}):e._e()],1),a("transition",{attrs:{name:"fade"}},[this.$store.state.sheet&&"graf_loco"!==e.tableType?a("ExportButton"):e._e()],1)],1),a("v-expand-transition",[a("v-card",{directives:[{name:"show",rawName:"v-show",value:e.$store.state.sheet,expression:"$store.state.sheet"}],staticClass:"detail-table"},["graf_loco"!==e.tableType?a("DataTable",{ref:"tableDetail",attrs:{headers:e.headers,type:e.tableType,params:e.params,isDetail:!0,isRemote:e.isRemote}}):a("div",{staticClass:"svg-legend"})],1)],1)],1)],1)},yr=[],Tr=a("fd32"),Hr=Object.assign({},Tr),wr={name:"DetailPanel",components:{ExportButton:_e,PrintButton:he,DataTable:va},props:["headers","url","params","tableType","isRemote"],methods:{drawLegend:function(){Hr.select(".svg-legend").selectAll("svg").remove();var e="fill: #4D6C99; font-size: 12px;",t="fill: #00194D; font-size: 10px;",a="fill: #00194D; font: 14px FSRAILBold;",r="font: 14px FSRAILBold; fill: #7387A0;",i=Hr.select(".svg-legend").append("svg").attr("width",1980).attr("height",180);i.append("circle").attr("fill","#00CF00").attr("r",5).attr("cx",30).attr("cy",20),i.append("circle").attr("fill","#00CF00").attr("r",5).attr("cx",85).attr("cy",20),i.append("line").attr("style","stroke: #00CF00; stroke-width: 3px;").attr("x1",30).attr("y1",20).attr("x2",85).attr("y2",20),i.append("text").attr("style",e).attr("x",105).attr("y",17).text("Локомотив находится в движении"),i.append("text").attr("style",e).attr("x",105).attr("y",30).text("с поездом на Полигоне"),i.append("circle").attr("fill","#FFAE00").attr("r",5).attr("cx",30).attr("cy",55),i.append("circle").attr("fill","#FFAE00").attr("r",5).attr("cx",85).attr("cy",55),i.append("line").attr("style","stroke: #FFAE00; stroke-width: 3px; stroke-dasharray: 5;").attr("x1",30).attr("y1",55).attr("x2",85).attr("y2",55),i.append("text").attr("style",e).attr("x",105).attr("y",52).text("Технологический простой локомотива"),i.append("text").attr("style",e).attr("x",105).attr("y",65).text("на выбранной тех. станции"),i.append("circle").attr("fill","#2469FF").attr("r",5).attr("cx",30).attr("cy",90),i.append("circle").attr("fill","#2469FF").attr("r",5).attr("cx",85).attr("cy",90),i.append("line").attr("style","stroke: #2469FF; stroke-width: 3px; stroke-dasharray: 5;").attr("x1",30).attr("y1",90).attr("x2",85).attr("y2",90),i.append("text").attr("style",e).attr("x",105).attr("y",87).text("Локомотив находится в движении"),i.append("text").attr("style",e).attr("x",105).attr("y",100).text("резервом на Полигоне"),i.append("circle").attr("fill","#000000").attr("r",5).attr("cx",30).attr("cy",125),i.append("circle").attr("fill","#000000").attr("r",5).attr("cx",85).attr("cy",125),i.append("line").attr("style","stroke: #000000; stroke-width: 3px; stroke-dasharray: 5;").attr("x1",30).attr("y1",125).attr("x2",85).attr("y2",125),i.append("text").attr("style",e).attr("x",105).attr("y",128).text("Локомотив находится на ТО2"),i.append("circle").attr("fill","#BD0DFF").attr("r",5).attr("cx",30).attr("cy",160),i.append("circle").attr("fill","#BD0DFF").attr("r",5).attr("cx",85).attr("cy",160),i.append("line").attr("style","stroke: #BD0DFF; stroke-width: 3px; stroke-dasharray: 5;").attr("x1",30).attr("y1",160).attr("x2",85).attr("y2",160),i.append("text").attr("style",e).attr("x",105).attr("y",163).text("Локомотив находится на ТР"),i.append("circle").attr("fill","#00CF00").attr("r",5).attr("cx",455).attr("cy",20),i.append("circle").attr("fill","#00CF00").attr("r",5).attr("cx",475).attr("cy",20),i.append("line").attr("style","stroke: #00CF00; stroke-width: 3px;").attr("x1",430).attr("y1",20).attr("x2",455).attr("y2",20),i.append("line").attr("style","stroke: #00CF00; stroke-width: 3px;").attr("x1",475).attr("y1",20).attr("x2",500).attr("y2",20),i.append("text").attr("style",e).attr("x",515).attr("y",17).text("Технологический простой локомотива на иной"),i.append("text").attr("style",e).attr("x",515).attr("y",30).text("(не выбранной в данный момент) тех. станции"),i.append("line").attr("style","stroke: #00CF00; stroke-width: 3px;").attr("x1",430).attr("y1",55).attr("x2",500).attr("y2",55),i.append("circle").attr("fill","#00CF00").attr("r",5).attr("cx",465).attr("cy",55),i.append("text").attr("style",e).attr("x",515).attr("y",58).text("Время и станция начала и окончания планового состояния локомотива"),i.append("text").attr("style",t).attr("x",400).attr("y",75).text("АЗЕЙ (10:50) - ТУЛУН (12:15)"),i.append("text").attr("style",r).attr("x",445).attr("y",100).text("11:00"),i.append("text").attr("style",r).attr("x",445).attr("y",115).text("12.05"),i.append("text").attr("style",e).attr("x",515).attr("y",102).text("Временной период выбранного плана"),i.append("text").attr("style",a).attr("x",435).attr("y",140).text("3ЭС5К/3"),i.append("text").attr("style",e).attr("x",515).attr("y",138).text("Серия/секционность локомотива"),i.append("text").attr("style",e).attr("x",435).attr("y",165).text("График оборота локомотива отображается на суточном горизонте исходя"),i.append("text").attr("style",e).attr("x",435).attr("y",178).text("из выбора Версии плана (с 18:00 по 18:00), на большой период времени ГОЛ")},toggleSheet:function(){this.$store.commit("toggleSheet"),this.$store.state.sheet||(window.tableDetail.style.height=null),"graf_loco"===this.tableType&&this.$store.state.sheet&&this.drawLegend()},updateDetail:function(e,t){var a=t||{};this.isRemote&&(a={load:!1}),this.$refs.tableDetail.fetchTableData(a,e)},mouseDownLeft:function(e){this.$store.state.sheet&&(this.$store.state.resizing=!0,this.$store.state.mouseY=e.y)}},mounted:function(){window.tableDetail=document.querySelectorAll(".detail-table")[0]}},kr=wr,Dr=(a("4c5a"),a("62ad")),$r=a("0789"),Vr=Object(h["a"])(kr,gr,yr,!1,null,null,null),Mr=Vr.exports;m()(Vr,{VBtn:k["a"],VCard:D["a"],VCol:Dr["a"],VExpandTransition:$r["a"],VIcon:E["a"],VRow:re["a"]});var Cr={name:"NormalizationSections",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r,DetailPanel:Mr},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,params:{buttons:{print:!0,export:!0,recalc:!0,save:!0,cancel:!0},name:"Оперативное нормирование",icon:"icon icon-trending-up"},defaultUrl:"/server/norm_1.json",serverUrl:"/ajax2.php?module=Normalization&method=norm_1",detailHeaders:[{text:"№ п/п",value:"row_number",alignHeader:"center",border:!0},{text:"Время\nначала «Окна»",value:"time_start",border:!0,formatDate:!0},{text:"Время\nокончания «Окна»",value:"time_end",border:!0,formatDate:!0},{text:"Продолжительность\n«Окна» (час)",value:"period",border:!0},{text:"Описание места\nпроведения (перегон)",value:"descr_place",border:!0},{text:"Описание\nвыполняемых работ",value:"descr_job",border:!0}],tabModel:0,tableType:"norm_sec",headers:[{text:"Тяговый полигон",align:"start",textMinify:"mini",fixedColumn:!0,children:[{text:"Наименование\nрасчетных участков",value:"long_name",textMinify:"mini",width:"200",border:!0,rightBorder:!0,fixedColumn:!0}]},{text:"Длина\n(L,км)",value:"distance",border:!0},{text:"Коэф.\nКп.гр.э",value:"k_pgre",border:!0},{text:"Коэф.\nКп.п.э.",value:"k_pe",border:!0},{text:"Кол-во\nпоездов\nN(max)",value:"tr_num",border:!0,editable:!0,tooltip:!0},{text:"В т.ч. тяжело\nвесных N\n(2-ая тяга\nСМЕТ)",value:"tr_heavy_num",border:!0},{text:"Окна,\nчас",value:"duration",border:!0},{text:"Потребность локомотивов",value:"way",cols:15,alignHeader:"center",children:[{text:"Грузовое движение",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"ft",border:!0},{text:"Мт\n(3-х)",value:"ft3",border:!0},{text:"Мт\n(2-х)",value:"fl",border:!0}]},{text:"ПВД",alignHeader:"center",children:[{text:"Мт\n(3-х)",value:"locl3",border:!0,editable:!0},{text:"Мт\n(2-х)",value:"locl",border:!0,editable:!0}]},{text:"ТОЛКАЧИ",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"pt4",border:!0,editable:!0},{text:"Мт\n(3-х)",value:"pt",border:!0,editable:!0},{text:"Мт\n(2-х)",value:"pl",border:!0,editable:!0}]},{text:"ОПЕР, РД",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"rt4",border:!0,editable:!0},{text:"Мт\n(3-х)",value:"rt",border:!0,editable:!0},{text:"Мт\n(2-х)",value:"rl",border:!0,editable:!0}]},{text:"ВСЕГО",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"t",border:!0},{text:"Мт\n(3-х)",value:"t3",border:!0},{text:"Мт\n(2-х)",value:"l",border:!0}]},{text:"ИТОГО",alignHeader:"center",children:[{text:"Мв",value:"total",border:!0}]}]}]}},created:function(){this.$store.state.cancelBtnActive=!0,this.$store.state.saveBtnActive=!0,this.$store.state.recalcBtnActive=!0,this.$store.state.detailInfo.detailName="Планируемые окна на расчетном участке"},computed:{createExportUrl:function(){return"method=norm_1&tab=panel-reportOP&date="+this.getFormattedDate(this.$store.state.filtersValues.date[1])},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$store.state.cancelBtnActive=!0,this.$store.state.saveBtnActive=!0,this.$store.state.recalcBtnActive=!0,this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl?this.$store.state.filtersValues.drl:""})},checkButtons:function(){o.a.get("../.."+this.defaultUrl,{params:{action:"ok",drl:this.$store.state.filtersValues.drl?this.$store.state.filtersValues.drl:"",date:this.getFormattedDate(this.$store.state.filtersValues.date[1])}}).then((function(e){console.log(e)}))},setDetail:function(e){this.detailUrl="/ajax2.php?module=Normalization&method=durations&date="+this.getFormattedDate(this.$store.state.filtersValues.date[1])+"&id="+e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/analize_details.json":this.detailUrl)},saveChanges:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl||"",type:"normalization",action:"save"})},recalcData:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl||"",type:"normalization",action:"update",data:[this.$store.state.editedValues]})},cancelChanges:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl||"",action:"cancel"})}}},Ur=Cr,Fr=Object(h["a"])(Ur,X,Q,!1,null,null,null),Lr=Fr.exports,Or=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs||e.$store.getters.tabs.normalization,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params}})],1)],1)},jr=[],Rr={name:"NormalizationDepo",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:1})}},props:["tabs"],computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/norm_depo.json",serverUrl:"/ajax2.php?module=Normalization&method=norm_depo",tableType:"norm_depo",params:{buttons:{print:!0},name:"Оперативное нормирование",icon:"icon icon-trending-up"},tabModel:1,headers:[{text:"№",align:"start",value:"sort_number",textMinify:"mini",border:!0},{text:"Депо приписки локомотивов",align:"start",alignHeader:"center",value:"depot_name",textMinify:"mini",width:"200",border:!0,rightBorder:!0},{text:"Потребное количество эксплуатируемого\nпарка локомотивов на следующие сутки",align:"start",cols:4,alignHeader:"center",children:[{text:"Т (4-х), т.ед.",value:"s",alignHeader:"center",border:!0},{text:"Т (3-х), т.ед.",value:"t",alignHeader:"center",border:!0},{text:"Л (2-х), т.ед.",value:"l",alignHeader:"center",border:!0},{text:"Всего, т.ед.",value:"sum",alignHeader:"center",border:!0}]}]}}},Nr=Rr,Sr=Object(h["a"])(Nr,Or,jr,!1,null,null,null),Er=Sr.exports,Pr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs||e.$store.getters.tabs.normalization,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params},on:{saveChanges:function(t){return e.saveChanges()},recalcData:function(t){return e.recalcData()},cancelChanges:function(t){return e.cancelChanges()}}})],1)],1)},Ar=[],Kr={name:"NormalizationRatio",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},created:function(){this.$store.state.cancelBtnActive=!0,this.$store.state.saveBtnActive=!0,this.$store.state.recalcBtnActive=!0},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$store.state.cancelBtnActive=!0,this.$store.state.saveBtnActive=!0,this.$store.state.recalcBtnActive=!0,this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:1})},saveChanges:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:1,type:"normalization",action:"save"})},recalcData:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:1,type:"normalization",action:"update",data:[this.$store.state.editedValues]})},cancelChanges:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:1,action:"cancel"})}},props:["tabs"],computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{panel:0,defaultUrl:"/server/norm_minmax.json",serverUrl:"/ajax2.php?module=Normalization&method=percent_loco",tableType:"norm_ratio",params:{buttons:{print:!0,recalc:!0,save:!0,cancel:!0},name:"Оперативное нормирование",icon:"icon icon-trending-up"},tabModel:2,headers:[{text:"Депо приписки локомотивов",align:"start",value:"depo",textMinify:"mini",width:"200",border:!0,rightBorder:!0,fixedColumn:!0},{text:"Инвентарный парк",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х), т.ед.",value:"park_t4",alignHeader:"center",border:!0,editable:!0},{text:"Т (3-х), т.ед.",value:"park_t3",alignHeader:"center",border:!0,editable:!0},{text:"Л (2-х), т.ед.",value:"park_l2",alignHeader:"center",border:!0,editable:!0}]},{text:"Плановая доля неисправных локомотивов",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"neisp_t4",alignHeader:"center",border:!0,editable:!0},{text:"Т (3-х)",value:"neisp_t3",alignHeader:"center",border:!0,editable:!0},{text:"Л (2-х)",value:"neisp_l2",alignHeader:"center",border:!0,editable:!0}]},{text:"Макс. содержание",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х), т.ед.",value:"max_t4",alignHeader:"center",border:!0},{text:"Т (3-х), т.ед.",value:"max_t3",alignHeader:"center",border:!0},{text:"Л (2-х), т.ед.",value:"max_l2",alignHeader:"center",border:!0}]},{text:"% содержания от общего по участку",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"uch_t4",alignHeader:"center",border:!0},{text:"Т (3-х)",value:"uch_t3",alignHeader:"center",border:!0},{text:"Л (2-х)",value:"uch_l2",alignHeader:"center",border:!0}]}]}}},Br=Kr,Ir=Object(h["a"])(Br,Pr,Ar,!1,null,null,null),zr=Ir.exports,Wr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs||e.$store.getters.tabs.regulation,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params,exportUrl:e.createExportUrl},on:{saveChanges:function(t){return e.saveChanges()},recalcData:function(t){return e.recalcData()},cancelChanges:function(t){return e.cancelChanges()}}})],1)],1)},Gr=[],qr={name:"RegulationJoints",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},created:function(){this.$store.state.cancelBtnActive=!0,this.$store.state.saveBtnActive=!0,this.$store.state.recalcBtnActive=!0},methods:{getFormattedDate:function(e){var t=e;return"string"===typeof t&&(t=t.split("-").reverse().join(".")),t},updateTable:function(){this.$store.state.cancelBtnActive=!0,this.$store.state.saveBtnActive=!0,this.$store.state.recalcBtnActive=!0,this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1])})},saveChanges:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),action:"save"})},recalcData:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),action:"update",data:[this.$store.state.editedValues]})},cancelChanges:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),action:"cancel"})}},computed:{createExportUrl:function(){return"method=regulation&tab=splice-view&date="+Math.floor(new Date(this.$store.state.filtersValues.date[1]))},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,dateValue:Math.floor(Date.now()/1e3),defaultUrl:"/server/splices.json",serverUrl:"/ajax2.php?module=Regulation&method=splices",tableType:"reg_join",tabModel:0,params:{buttons:{print:!0,export:!0,recalc:!0,save:!0,cancel:!0},name:"Оперативное регулирование",icon:"icon icon-settings"},headers:[{text:"№ п/п",align:"start",value:"sort_number",textMinify:"mini",border:!0},{text:"Междорожные стыковые пункты",align:"start",value:"long_name",textMinify:"mini",border:!0,rightBorder:!0},{text:"План-задание передачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_half",alignHeader:"center",border:!0,editable:!0},{text:"на 18:00 ч",value:"plan_train",alignHeader:"center",border:!0,editable:!0}]},{text:"План-задание передачи локомотивов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_loco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_loco",alignHeader:"center",border:!0}]},{text:"План-задание передачи поездо-локомотивов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_loco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_train_loco",alignHeader:"center",border:!0}]}]}}},Yr=qr,Jr=Object(h["a"])(Yr,Wr,Gr,!1,null,null,null),Xr=Jr.exports,Qr=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs||e.$store.getters.tabs.regulation,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params}})],1)],1)},Zr=[],ei={name:"RegulationSections",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},methods:{getFormattedDate:function(e){var t=e;return"string"===typeof t&&(t=t.split("-").reverse().join(".")),t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1])})}},computed:{createExportUrl:function(){return"method=regulation&tab=region-view&date="+Math.floor(new Date(this.$store.state.filtersValues.date[1]))},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/regions.json",serverUrl:"/ajax2.php?module=Regulation&method=regions",tabModel:1,params:{buttons:{print:!0,export:!0},name:"Оперативное регулирование",icon:"icon icon-settings"},tableType:"reg_sec",headers:[{text:"Участок",align:"start",width:"250",value:"long_name",textMinify:"mini",border:!0,fixedColumn:!0,rightBorder:!0},{text:"Опер. нормир,\nрасчет т.ед.",align:"start",value:"oper_norm_calc",border:!0},{text:"% от итого",align:"start",value:"total_percent",border:!0},{text:"Прогнозное наличие\nсрез на 18:00 тек.сут,\nт.ед.",align:"start",value:"existence_forecast",border:!0},{text:"Фактическое наличие\nсрез на 18:00 тек.сут,\nт.ед.",align:"start",value:"existence_fact",border:!0},{text:"План-задание\nпередачи поездов, нечет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"plan_odd_direction_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"plan_odd_direction",alignHeader:"center",border:!0}]},{text:"План-задание\nпередачи локомотивов, чет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"plan_even_direction_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"plan_even_direction",alignHeader:"center",border:!0}]},{text:"Постановка на ремонт,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"staging_for_repairs_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"staging_for_repairs",alignHeader:"center",border:!0}]},{text:"Выдача в работу\nс ремонта, т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"work_from_repairs_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"work_from_repairs",alignHeader:"center",border:!0}]},{text:"Прогноз дисл.\nна сл. сутки, т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"dislocation_forecast_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"dislocation_forecast",alignHeader:"center",border:!0}]},{text:"План на след. сутки,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"next_day_plan_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"next_day_plan",alignHeader:"center",border:!0}]},{text:"План на след. сутки (скорр. на\nоснове факт.данных), т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"next_day_plan_half_data_fact",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"next_day_plan_data_fact",alignHeader:"center",border:!0}]},{text:"Дефицит / Избыток,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"deficit_excess_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"deficit_excess",alignHeader:"center",border:!0}]},{text:"Стык",align:"end",alignHeader:"center",value:"splice_name",border:!0},{text:"Рег. задание передачи\nлокомотивов резервом, нечет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"reg_task_odd_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"reg_task_odd",alignHeader:"center",border:!0}]},{text:"Рег. задание передачи\nлокомотивов резервом, чет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"reg_task_even_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"reg_task_even",alignHeader:"center",border:!0}]}]}}},ti=ei,ai=Object(h["a"])(ti,Qr,Zr,!1,null,null,null),ri=ai.exports,ii=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs||e.$store.getters.tabs.regulation,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,hasDetail:!0,hasTabs:!0},on:{loadDetail:e.setDetail}}),a("Buttons",{attrs:{params:e.params}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},ni=[],li={name:"RegulationAnalysis",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;return"string"===typeof t&&(t=t.split("-").reverse().join(".")),t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1])})},setDetail:function(e){this.detailUrl="/ajax2.php?module=NSI&method=transfer_train_on_road"+e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/analize_details.json":this.detailUrl)}},computed:{createExportUrl:function(){return"method=regulation&tab=analize-view&date="+Math.floor(new Date(this.$store.state.filtersValues.date[1]))},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,detailUrl:"",defaultUrl:"/server/analize.json",serverUrl:"/ajax2.php?module=Regulation&method=analize",tabModel:2,params:{buttons:{print:!0,export:!0},name:"Оперативное регулирование",icon:"icon icon-settings"},detailHeaders:[{text:"№ п/п",value:"row_number",alignHeader:"center",border:!0},{text:"Номер\nпоезда",value:"train_num",alignHeader:"center",border:!0},{text:"Индекс\nпоезда",value:"train_ind",alignHeader:"center",border:!0},{text:"Краткое название\nтипа операции",value:"short_oper",alignHeader:"center",border:!0},{text:"Дата и время\nсовершения\nоперации",value:"time_oper",alignHeader:"center",border:!0},{text:"Название места\nдислокации",value:"location",alignHeader:"center",border:!0},{text:"Дорога\nсдачи",value:"self_road",alignHeader:"center",border:!0},{text:"Дорога\nприема",value:"target_road",alignHeader:"center",border:!0},{text:"Название серии\nлокомотива",value:"loco_name",alignHeader:"center",border:!0},{text:"Серийный номер\nлокомотива",value:"loco_num",alignHeader:"center",border:!0},{text:"Название депо\nприписки локомотива",value:"depo_prip",alignHeader:"center",border:!0},{text:"Краткое название\nтипа состояния",value:"loco_state",alignHeader:"center",border:!0}],headers:[{text:"№ п/п",align:"start",value:"sort_number",textMinify:"mini",border:!0,fixedColumn:!0},{text:"Междорожные\nстыковые пункты",align:"start",width:"200",value:"long_name",textMinify:"mini",border:!0,fixedColumn:!0,rightBorder:!0},{text:"План-задание\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_train",alignHeader:"center",border:!0}]},{text:"Факт\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_train_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_train",alignHeader:"center",border:!0}]},{text:"План-задание\nпередачи локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_loco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_loco",alignHeader:"center",border:!0}]},{text:"Факт передачи\nлокомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_reserv_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_reserv",alignHeader:"center",border:!0}]},{text:"План-задание передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_trainloco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_trainloco",alignHeader:"center",border:!0}]},{text:"Факт передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_trainloco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_trainloco",alignHeader:"center",border:!0}]},{text:"Отклонение от факта\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_train_ot_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_train_ot",alignHeader:"center",border:!0}]},{text:"Отклонение от факта передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_trainloco_ot_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_trainloco_ot",alignHeader:"center",border:!0}]}]}}},si=li,oi=Object(h["a"])(si,ii,ni,!1,null,null,null),di=oi.exports,ci=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{attrs:{tabs:e.tablesForTabs}})},ui=[],pi={name:"Normalization",data:function(){return{tablesForTabs:[{tabName:"Участки",tablePath:"/norm/section"},{tabName:"Депо",tablePath:"/norm/depo"},{tabName:"Процентное соотношение локомотивов",tablePath:"/norm/ratio"}]}}},hi=pi,fi=Object(h["a"])(hi,ci,ui,!1,null,null,null),mi=fi.exports,xi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{attrs:{tabs:e.tablesForTabs}})},vi=[],bi={name:"Regulation",data:function(){return{tablesForTabs:[{tabName:"Стыки",tablePath:"/reg/joint"},{tabName:"Участки",tablePath:"/reg/section"},{tabName:"Анализ",tablePath:"/reg/analysis"}]}}},_i=bi,gi=Object(h["a"])(_i,xi,vi,!1,null,null,null),yi=gi.exports,Ti=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{attrs:{tabs:e.tablesForTabs}})},Hi=[],wi={name:"Planning",data:function(){return{tablesForTabs:[{tabName:"Задание тех. станций",tablePath:"/plan/st_tasks"},{tabName:"Задание по стыкам",tablePath:"/plan/join_tasks"},{tabName:"План",tablePath:"/plan/plan_main"},{tabName:"Наряд-задание ЛБ",tablePath:"/plan/lc_task"},{tabName:"План по ЛБ",tablePath:"/plan/lc_plan"},{tabName:"Показатели плана",tablePath:"/plan/plan_ind"},{tabName:"График оборота локомотивов",tablePath:"/plan/graf_loco"}]}}},ki=wi,Di=Object(h["a"])(ki,Ti,Hi,!1,null,null,null),$i=Di.exports,Vi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"road",filterType:"select",labelText:"Дорога",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/road_filter.json":"/ajax2.php?module=CarFlow&method=get_roads_by_decision_polygon_web",keyText:"name",keyValue:"id"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" План работы технических станций Восточный полигон на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.getDate))])]),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{url:e.getUrl,tableType:e.tableType,hasDetail:!0,hasInfo:!0,isRemote:!0,hasTabs:!0},on:{loadDetail:e.setDetail}}),a("Buttons",{attrs:{params:e.params}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{isRemote:!0}})],1)},Mi=[],Ci={name:"PlanningTechStationTasks",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Форма раскрытия"},computed:{getDate:function(){var e=this.$store.state.filtersValues.date[1]||(new Date).toISOString().substring(0,10),t=e.split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2];return"".concat(n,".").concat(i,".").concat(r)},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(e);t=e+" "+"".concat(a.getHours()<10?"0"+a.getHours():a.getHours(),":").concat(a.getMinutes()<10?"0"+a.getMinutes():a.getMinutes())}return t},updateTable:function(){this.$refs.table.fetchTableData({plandate:this.getFormattedDate(this.$store.state.filtersValues.date[1]),road_id:this.$store.state.filtersValues.road,load:!1})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/work_station_detail.json":"/arm-isujt/server/work_station_detail.json")}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/work_station.json",serverUrl:"/ajax2.php?module=CarFlow&method=tbl_get_techstationworkplans",tableType:"st_tasks",params:{buttons:{print:!0,titleTop:30},name:"Планирование",icon:"icon icon-calendar"},tabModel:0,detailHeaders:[]}}},Ui=Ci,Fi=Object(h["a"])(Ui,Vi,Mi,!1,null,null,null),Li=Fi.exports,Oi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{url:e.getUrl,tableType:e.tableType,hasDetail:!0,isRemote:!0,hasTabs:!0},on:{loadDetail:e.setDetail}}),a("Buttons",{attrs:{params:e.params}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{isRemote:!0}})],1)},ji=[],Ri={name:"PlanningJointsTasks",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Форма раскрытия"},computed:{getDate:function(){var e=this.$store.state.filtersValues.date.split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];return"".concat(i,".").concat(r,".").concat(a)},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),load:!1})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/work_station_detail.json":"/arm-isujt/server/work_station_detail.json")}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/get_plan_priem_sdacha.json",serverUrl:"/ajax2.php?module=CarFlow&method=get_plan_priem_sdacha",tableType:"join_tasks",params:{buttons:{print:!0},name:"Планирование",icon:"icon icon-calendar"},tabModel:1,detailHeaders:[]}}},Ni=Ri,Si=Object(h["a"])(Ni,Oi,ji,!1,null,null,null),Ei=Si.exports,Pi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"station",filterType:"select",labelText:"Станция",isRemote:!0,keyText:"long_name",keyValue:"id",inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/stations.json":"/ajax2.php?module=NSI&method=road_stations"},{filterName:"type_movement",filterType:"multiple_select",labelText:"Тип движения",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/type_movement.json":"/ajax2.php?module=NSI&method=type_motion_train",keyText:"name",keyValue:"id"},{filterName:"category_train",filterType:"multiple_select",labelText:"Тип поезда",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/category_train.json":"/ajax2.php?module=NSI&method=category_train_for_current_planner",keyText:"name",keyValue:"id"},{filterName:"horiz",filterType:"select",inputWidth:"190px",labelText:"Горизонт\nпланирования",isRemote:!1,keyText:"name",keyValue:"id",filterData:[{id:2,name:"сменно-суточное"},{id:1,name:"многосуточное"},{id:0,name:"текущее"}]},{filterName:"interval",filterType:"select",inputWidth:"190px",labelText:"Глубина\nпланирования",isRemote:!1,filterData:[{id:3,name:"3 часа"},{id:6,name:"6 часов"},{id:12,name:"12 часов"},{id:24,name:"24 часа"}],keyText:"name",keyValue:"id"},{filterName:"date",filterType:"date",labelText:"\nНа ж/д сутки"},{filterName:"version",filterType:"select",labelText:"\nВерсия",inputWidth:"120px",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/version_1.json":"/ajax2.php?module=Planner&method=revisions",keyText:"name",keyValue:"id"},{filterName:"even-odd",filterType:"select",labelText:"\nЧет / Нечет",inputWidth:"120px",isRemote:!1,filterData:[{id:2,name:"ЧЕТ"},{id:1,name:"НЕЧЕТ"},{id:0,name:"ВСЕ"}],keyText:"name",keyValue:"id"}],tableType:e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasDetail:!0,hasTabs:!0},on:{loadDetail:e.setDetail}}),a("Buttons",{attrs:{params:e.params}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Ai=[],Ki={name:"PlanningMain",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Детализация"},computed:{getDate:function(){var e=this.$store.state.filtersValues.date.split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];return"".concat(i,".").concat(r,".").concat(a)},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({method:"load",horizon:this.$store.state.filtersValues.horiz,id:this.$store.state.filtersValues.version,station:this.$store.state.filtersValues.station,interval:this.$store.state.filtersValues.interval,"even-odd":this.$store.state.filtersValues["even-odd"],category_train:this.$store.state.filtersValues.category_train.join(","),type_motion_train:this.$store.state.filtersValues.type_movement.join(",")})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/work_station_detail.json":"/arm-isujt/server/work_station_detail.json")}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/current_test.json",serverUrl:"/ajax2.php?module=Planner",tableType:"plan_main",params:{buttons:{print:!0},name:"Планирование",icon:"icon icon-calendar"},tabModel:2,detailHeaders:[],headers:[{text:"№",align:"start",value:"number_origin",border:!0,textMinify:"mini"},{text:"Индекс",value:"index_origin",border:!0,alignHeader:"center",isBigText:!0},{text:"Масса /\nДлина",value:"weight_origin",border:!0,alignHeader:"center",isBigText:!0},{text:"Последняя операция",value:"last_oper_origin",border:!0,alignHeader:"center"},{text:"Прибытие",cols:6,alignHeader:"center",children:[{text:"Время",alignHeader:"center",value:"arriv_time_origin",border:!0,isBigText:!0},{text:"Локомотив",alignHeader:"center",children:[{text:"Серия",textMinify:"mini",alignHeader:"center",value:"arriv_loc_series_origin",border:!0},{text:"Номер",textMinify:"mini",alignHeader:"center",value:"arriv_loc_number_origin",border:!0,isBigText:!0},{text:"Депо",textMinify:"mini",alignHeader:"center",value:"arriv_loc_depot_origin",border:!0}]},{text:"Бригада",alignHeader:"center",children:[{text:"Депо\nприписки",textMinify:"mini",alignHeader:"center",value:"arriv_brig_depot_trailer_origin",border:!0},{text:"Машинист",textMinify:"mini",alignHeader:"center",value:"arriv_brig_mach_origin",border:!0}]}]},{text:"Отправление",cols:7,alignHeader:"center",children:[{text:"№",alignHeader:"center",value:"depart_number_origin",border:!0},{text:"Время",alignHeader:"center",value:"depart_time_origin",border:!0,isBigText:!0},{text:"Локомотив",alignHeader:"center",children:[{text:"Серия",textMinify:"mini",alignHeader:"center",value:"depart_loc_series_origin",border:!0},{text:"Номер",textMinify:"mini",alignHeader:"center",value:"depart_loc_number_origin",border:!0,isBigText:!0},{text:"Депо",textMinify:"mini",alignHeader:"center",value:"depart_loc_depot_origin",border:!0}]},{text:"Бригада",alignHeader:"center",children:[{text:"Депо\nприписки",textMinify:"mini",alignHeader:"center",value:"depart_brig_depot_trailer_origin",border:!0},{text:"Машинист",textMinify:"mini",alignHeader:"center",value:"depart_brig_mach_origin",border:!0}]}]}]}}},Bi=Ki,Ii=Object(h["a"])(Bi,Pi,Ai,!1,null,null,null),zi=Ii.exports,Wi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"На ж/д сутки"},{filterName:"drl",filterType:"select",labelText:"Район управления ДРЛ",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/drl.json":"/ajax2.php?module=NSI&method=drl",keyText:"name",keyValue:"id"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType,hasDetail:!0,hasTabs:!0},on:{loadDetail:e.setDetail}}),a("Buttons",{attrs:{params:e.params}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Gi=[],qi={name:"PlanningIndicators",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Детализация"},computed:{getDate:function(){var e=this.$store.state.filtersValues.date.split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];return"".concat(i,".").concat(r,".").concat(a)},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl})},setDetail:function(e,t,a){this.detailUrl=e,"ind_uth"===a&&this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/work_station_detail.json":"/ajax2.php?",t[a+"_params"])}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/plan_indicators.json",serverUrl:"/ajax2.php?module=Planner&method=indicators",tableType:"lc_task",params:{buttons:{print:!0},name:"Планирование",icon:"icon icon-calendar"},tabModel:3,detailHeaders:[{text:"Табельный номер",value:"tab_num"},{text:"ФИО",value:"name"},{text:"Депо приписки",value:"depo"},{text:"Наименование УОЛБ",value:"uolb"},{text:"Код УОЛБ",value:"code_uolb"},{text:"Запланированное время явки",value:"uth_time"}],headers:[{text:"Район управления",alignHeader:"center",value:"st_short_name",width:"200",isDetailed:!0,border:!0},{text:"Наряд-задание\n(ОУЭР)",value:"ind_vol",border:!0,alignHeader:"center",width:"200",isDetailed:!0,isBigText:!0},{text:"Обеспечение\nнаряд-задание (УТХ)",value:"ind_uth",border:!0,alignHeader:"center",width:"200",isDetailed:!0,isBigText:!0}]}}},Yi=qi,Ji=Object(h["a"])(Yi,Wi,Gi,!1,null,null,null),Xi=Ji.exports,Qi=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"time",filterType:"select",labelText:"Время",inputWidth:"120px",isRemote:!1,keyText:"name",keyValue:"id",filterData:[{id:3,name:"6:00"},{id:6,name:"8:00"},{id:0,name:"10:00"},{id:24,name:"12:00"}]},{filterName:"selected_depot",filterType:"select",labelText:"Выбранное депо",inputWidth:"260px",isRemote:!1,keyText:"name",keyValue:"id",filterData:[{id:0,name:"Все"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Сменно-суточный план содержания локомотивных бригад с "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.getDate)+" ")]),e._v(" по "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.getDate)+" ")])]),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3),time:0,selected_depot:0},tableType:e.tableType,hasDetail:!0,hasInfo:!0,hasTabs:!0},on:{loadDetail:e.setDetail}}),a("Buttons",{attrs:{params:e.params}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Zi=[],en={name:"PlanningMidLocoCrew",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Детализация"},computed:{getDate:function(){var e=this.$store.state.filtersValues.date[1]||(new Date).toISOString().substring(0,10),t=e.split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2];return"".concat(n,".").concat(i,".").concat(r)},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:"/arm-isujt"+this.defaultUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),time:this.$store.state.filtersValues.time,selected_depot:this.$store.state.filtersValues.selected_depot})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/work_station_detail.json":"/arm-isujt/server/work_station_detail.json")}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/get_input_train.json",tableType:"lc_plan",params:{buttons:{print:!0,titleTop:30},name:"Планирование",icon:"icon icon-calendar"},tabModel:4,detailHeaders:[],headers:[{text:"Участок работы",alignHeader:"center",value:"train_index_tooltip",border:!0},{text:"Количество ЛБ",cols:12,alignHeader:"center",isBigText:!0,children:[{text:"1-я смена",alignHeader:"center",isBigText:!0,children:[{text:"Наряд-\nзадание",border:!0,textMinify:"mini",value:"gr_cars",alignHeader:"center"},{text:"Расчет-\nзаставка",border:!0,textMinify:"mini",value:"gr_pv",alignHeader:"center"},{text:"Текущая\nзаставка",border:!0,textMinify:"mini",value:"gr_cs",alignHeader:"center"},{text:"Факт",border:!0,textMinify:"mini",value:"por_cars",alignHeader:"center"}]},{text:"2-я смена",alignHeader:"center",isBigText:!0,children:[{text:"Наряд-\nзадание",border:!0,textMinify:"mini",value:"por_pl",alignHeader:"center"},{text:"Расчет-\nзаставка",border:!0,textMinify:"mini",value:"por_pv",alignHeader:"center"},{text:"Текущая\nзаставка",border:!0,textMinify:"mini",value:"por_cs",alignHeader:"center"},{text:"Факт",border:!0,textMinify:"mini",value:"por_pr",alignHeader:"center"}]},{text:"Сутки",alignHeader:"center",isBigText:!0,children:[{text:"Наряд-\nзадание",border:!0,textMinify:"mini",value:"nrp_cars",alignHeader:"center"},{text:"Расчет-\nзаставка",border:!0,textMinify:"mini",value:"usl_length",alignHeader:"center"},{text:"Текущая\nзаставка",border:!0,textMinify:"mini",value:"priority",alignHeader:"center"},{text:"Факт",border:!0,textMinify:"mini",value:"npp",alignHeader:"center"}]}]}]}}},tn=en,an=Object(h["a"])(tn,Qi,Zi,!1,null,null,null),rn=an.exports,nn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"version",filterType:"select",labelText:"Версия",inputWidth:"260px",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/version_1.json":"/ajax2.php?module=Planner&method=revisions",keyText:"name",keyValue:"id"},{filterName:"road",filterType:"select",labelText:"Дороги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]},{filterName:"date",filterType:"range_date",labelText:"За период"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params}})],1)],1)},ln=[],sn={name:"PlanningStatistics",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{updateTable:function(){this.$refs.table.fetchTableData({id:this.$store.state.filtersValues.version,road:this.$store.state.filtersValues.road,category:"CUTR"})}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/statistic.json",serverUrl:"/ajax2.php?module=Planner&method=analysis",serverUrlPeriod:"/ajax2.php?module=Planner&method=analysis_several_plans",tableType:"plan_ind",params:{buttons:{print:!0},name:"Планирование",icon:"icon icon-calendar"},tabModel:3,headers:[{text:"№",value:"row_number",textMinify:"mini",isBigText:!0,width:"50",border:!0},{text:"Критерий",value:"description",border:!0,width:"250",alignHeader:"center"},{text:"Ед.",value:"units",border:!0,width:"100",alignHeader:"center"},{text:"Значение",value:"value",width:"100",border:!0,alignHeader:"center"}]}}},on=sn,dn=Object(h["a"])(on,nn,ln,!1,null,null,null),cn=dn.exports,un=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"version",filterType:"select",labelText:"Версия",inputWidth:"260px",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/version_1.json":"/ajax2.php?module=Planner&method=revisions",keyText:"name",keyValue:"id"},{filterName:"station",filterType:"select",labelText:"Станция",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/stations.json":"/ajax2.php?module=NSI&method=road_stations",keyText:"long_name",keyValue:"id"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("GrafTable",{ref:"graf",attrs:{url:e.getUrl}}),a("Buttons",{attrs:{params:e.params}}),a("DetailPanel",{attrs:{tableType:e.tableType}})],1)],1)},pn=[],hn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"table",class:{"slide-leave slide-enter-active":this.$store.state.sheet&&e.hasDetail,"slide-leave-to slide-leave-active":!this.$store.state.sheet&&e.hasDetail},style:e.getTableHeight,attrs:{id:"table",elevation:"0"}},[a("div",{staticClass:"graf"},[a("div",{attrs:{id:"planTime"}},[a("svg")]),a("div",{staticClass:"graf-container"},[a("div",{attrs:{id:"planNumber"}},[a("svg")]),a("div",{attrs:{id:"locoPlan"}},[a("svg")])])]),e.progress?a("v-progress-circular",{staticClass:"progress-circle",attrs:{indeterminate:"",color:"#00194D"}}):e._e()],1)},fn=[],mn=(a("4d63"),a("25f0"),Object.assign({},Tr)),xn={name:"GrafTable",props:["hasDetail","url"],data:function(){return{windowSize:{x:0,y:0,progress:!1}}},computed:{getTableHeight:function(){var e=138,t=276,a=65,r=190,i=this.windowSize.y-t;return this.hasDetail&&(i-=a),this.$store.state.filterOpen&&(i-=e),this.$store.state.sheet&&(i-=r),"height: ".concat(i,"px")}},methods:{onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},fetchData:function(e){var t=this;this.progress=!0,this.$forceUpdate(),o.a.get(this.url,{params:e}).then((function(e){t.progress=!1,t.$forceUpdate(),t.drawReverseListGraph("#locoPlan","loco",e.data)}))},convertStringToDate:function(e){var t=e.split(" ")[0],a=e.split(" ")[1],r=+t.split(":")[0],i=+t.split(":")[1],n=+a.split(".")[0],l=+a.split(".")[1]-1,s=+a.split(".")[2];return new Date(s,l,n,r,i)},drawReverseListGraph:function(e,t,a){var r=this;if(Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var a in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substring(4-RegExp.$1.length))),t)new RegExp("("+a+")").test(e)&&(e=e.replace(RegExp.$1,1===RegExp.$1.length?t[a]:("00"+t[a]).substring((""+t[a]).length)));return e},mn.select(e).selectAll("svg").remove(),mn.select("#planNumber").selectAll("svg").remove(),mn.select("#planTime").selectAll("svg").remove(),a.data&&0!==a.data.length){var i="fill: #00194D; font: 14px FSRAILBold;",n="fill: #00194D; font: 10px FSRAILBook;",l="font: 14px FSRAILBold; fill: #7387A0;",s=150*a.timeLine.length,o=50*a.totalCount,d=mn.select("#planNumber").append("svg").attr("width",150).attr("height",o+100),c=mn.select("#planTime").append("svg").attr("width",s).attr("height",50),u=mn.select(e).append("svg").attr("width",s).attr("height",o+100),p=parseInt(u.style("width")),h=100,f=70,m=o/a.totalCount,x={},v=(p-50)/a.timeLine.length;c.append("rect").attr("fill","white").attr("style","box-shadow: 10px 10px grey;").attr("x",0).attr("y",0).attr("width",s).attr("height",50);var b=(this.convertStringToDate(a.timeLine[1])-this.convertStringToDate(a.timeLine[0]))/6e4,_=[];a.timeLine.map((function(e,t){if(e){var a=e.split(" ")[0],i=e.split(" ")[1];c.append("text").attr("style",l).attr("text-anchor","middle").attr("x",85+t*v).attr("y",f-45).text(a),c.append("text").attr("style",l).attr("text-anchor","middle").attr("x",85+t*v).attr("y",f-30).text(i.split(".")[0]+"."+i.split(".")[1]),u.append("line").attr("stroke","#D2DAE7").attr("stroke-dasharray","4").attr("stroke-width","1.5").attr("x1",h+50+t*v).attr("y1",f-15).attr("x2",h+50+t*v).attr("y2",o+15);for(var n=0;n<b;n++){var s=r.convertStringToDate(e);_.push(new Date(s.setMinutes(s.getMinutes()+n)).format("hh:mm dd.MM.yyyy"))}}})),_.map((function(e,t){x[e]=h+50+t*v/b})),d.append("rect").attr({fill:"white",x:0,y:0,width:110,height:o+100}),a.data.map((function(e,t){e.number&&(e.series&&d.append("text").attr("style",i).attr("text-anchor","start").attr("x",h-90).attr("y",f+t*m).text(e.series),d.append("text").attr("style",i).attr("text-anchor","end").attr("x",h+40).attr("y",f+t*m).text(e.number),e.states.map((function(e){var a,r,i=!0,l=!0;if("0"===e.state?(r="#2469FF",a="stroke: "+r+"; stroke-width: 3; stroke-dasharray: 5; cursor: pointer;"):"1"===e.state?(r="#00CF00",a="stroke: "+r+"; stroke-width: 3; cursor: pointer;"):"8"===e.state?(r="black",a="stroke: "+r+"; stroke-width: 3; stroke-dasharray: 5; cursor: pointer;"):"4"===e.state?(r="#FFAE00",a="stroke: "+r+"; stroke-width: 3; stroke-dasharray: 5; cursor: pointer;"):"9"===e.state?(r="red",a="stroke: "+r+"; stroke-width: 3; stroke-dasharray: 5; cursor: pointer;"):(r="#BD0DFF",a="stroke: "+r+"; stroke-width: 3; stroke-dasharray: 5; cursor: pointer;"),e.time_from&&e.time_to){var s=e.station_from+" ("+e.time_from.split(" ")[0]+") - "+e.station_to+" ("+e.time_to.split(" ")[0]+")",o=u.append("line").attr("style",a).attr("x1",x[e.time_from]).attr("y1",f+t*m).attr("x2",x[e.time_to]).attr("y2",f+t*m);if(o.on("mouseover",(function(){e.station_from&&e.station_to&&u.append("text").text(s).attr("class","tooltip").attr("style",n).attr("text-anchor","middle").attr("x",x[e.time_from]+(x[e.time_to]-x[e.time_from])/2).attr("y",f+t*m+30)})),o.on("mouseout",(function(){u.selectAll(".tooltip").remove()})),x[e.time_from]&&e.station_from&&i){var d=u.append("circle").attr("style","cursor: pointer;").attr("fill",r).attr("r",5).attr("cx",x[e.time_from]+5).attr("cy",f+t*m);d.on("mouseover",(function(){u.append("text").text(s).attr("class","tooltip").attr("style",n).attr("text-anchor","middle").attr("x",x[e.time_from]).attr("y",f+t*m+30)})),d.on("mouseout",(function(){u.selectAll(".tooltip").remove()}))}if(x[e.time_to]&&e.station_to&&l){var c=u.append("circle").attr("style","cursor: pointer;").attr("fill",r).attr("r",5).attr("cx",x[e.time_to]-5).attr("cy",f+t*m);c.on("mouseover",(function(){u.append("text").text(s).attr("class","tooltip").attr("style",n).attr("text-anchor","middle").attr("x",x[e.time_to]).attr("y",f+t*m+30)})),c.on("mouseout",(function(){u.selectAll(".tooltip").remove()}))}}})))})),d.append("text").attr("style",l).attr("text-anchor","start").attr("x",h-85).attr("y",o+70).text("Всего: "+a.totalCount)}}}},vn=xn,bn=(a("4255"),Object(h["a"])(vn,hn,fn,!1,null,"df9f30b6",null)),_n=bn.exports;m()(bn,{VCard:D["a"],VProgressCircular:ua["a"]}),ha()(bn,{Resize:fa["a"]});var gn={name:"PlanningGraf",components:{DetailPanel:Mr,Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,Buttons:_r,GrafTable:_n},created:function(){this.$store.state.detailInfo.detailName="Легенда ГОЛ (график оборота локомотива на суточном горизонте)"},computed:{getDate:function(){var e=this.$store.state.filtersValues.date.split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];return"".concat(i,".").concat(r,".").concat(a)},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{updateTable:function(){this.$refs.graf.fetchData({mp_id:this.$store.state.filtersValues.version,station:this.$store.state.filtersValues.station})}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/temp.json",serverUrl:"/ajax2.php?module=TurnoverSheet&method=loco",tableType:"graf_loco",params:{buttons:{print:!0},name:"Планирование",icon:"icon icon-calendar"},tabModel:6,headers:[]}}},yn=gn,Tn=(a("057d"),Object(h["a"])(yn,un,pn,!1,null,"28d02bfb",null)),Hn=Tn.exports,wn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{attrs:{tabs:e.tablesForTabs}})},kn=[],Dn={name:"Modeling",data:function(){return{tablesForTabs:[{tabName:"Участки",tablePath:"/model/section"},{tabName:"Депо",tablePath:"/model/depo"},{tabName:"Процентное соотношение локомотивов",tablePath:"/model/ratio"},{tabName:"Корректировка НСИ",tablePath:"/model/nsi"},{tabName:"Сравнение",tablePath:"/model/compare"}]}}},$n=Dn,Vn=Object(h["a"])($n,wn,kn,!1,null,null,null),Mn=Vn.exports,Cn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl,downloadUrl:e.downloadUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"drl",filterType:"select",labelText:"Район управления ДРЛ",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/drl.json":"/ajax2.php?module=NSI&method=drl",keyText:"name",keyValue:"id"},{filterName:"calc",filterType:"select",labelText:"Расчет",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/CalculationList.json":"/ajax2.php?module=Normalization&method=plans",keyText:"name",keyValue:"id"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasTabs:!0,hasButtons:!0}}),a("Buttons",{attrs:{params:e.params}})],1)],1)},Un=[],Fn={name:"ModelingSections",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,params:{buttons:{print:!0,export:!0,recalc:!0,save:!0,download:!0},name:"Моделирование",icon:"icon icon-trending-up"},defaultUrl:"/server/uchastki.json",serverUrl:"/ajax2.php?module=Normalization&method=norm_1&form=1",tabModel:0,downloadUrl:"/ajax2.php?module=ExcelController&method=rep_operative_technique_pdf",tableType:"mod_sec",headers:[{text:"Тяговый полигон",align:"start",textMinify:"mini",fixedColumn:!0,children:[{text:"Наименование\nрасчетных участков",value:"long_name",textMinify:"mini",width:"200",border:!0,rightBorder:!0,fixedColumn:!0}]},{text:"Длина\n(L,км)",value:"distance",border:!0},{text:"Кол-во\nпоездов\nN(max)",value:"tr_num",border:!0,editable:!0,tooltip:!0},{text:"В т.ч. тяжело\nвесных N\n(2-ая тяга\nСМЕТ)",value:"tr_heavy_num",border:!0},{text:"Потребность локомотивов",value:"way",cols:15,alignHeader:"center",children:[{text:"Грузовое движение",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"ft",border:!0},{text:"Мт\n(3-х)",value:"ft3",border:!0},{text:"Мл\n(2-х)",value:"fl",border:!0}]},{text:"ПВД",alignHeader:"center",children:[{text:"Мт\n(3-х)",value:"locl3",border:!0,editable:!0},{text:"Мл\n(2-х)",value:"locl",border:!0,editable:!0}]},{text:"ТОЛКАЧИ",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"pt4",border:!0,editable:!0},{text:"Мт\n(3-х)",value:"pt",border:!0,editable:!0},{text:"Мл\n(2-х)",value:"pl",border:!0,editable:!0}]},{text:"ОПЕР, РД",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"rt4",border:!0,editable:!0},{text:"Мт\n(3-х)",value:"rt",border:!0,editable:!0},{text:"Мл\n(2-х)",value:"rl",border:!0,editable:!0}]},{text:"ВСЕГО",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"t",border:!0},{text:"Мт\n(3-х)",value:"t3",border:!0},{text:"Мл\n(2-х)",value:"l",border:!0}]},{text:"ИТОГО",alignHeader:"center",children:[{text:"Мв",value:"total",border:!0}]}]}]}},created:function(){this.$store.state.detailInfo.detailName="Планируемые окна на расчетном участке"},computed:{createExportUrl:function(){return"method=norm_1&form=1&tab=panel-reportOP-test&plan="+this.$store.state.filtersValues.calc+"&date="+this.getFormattedDate(this.$store.state.filtersValues.date)},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl||"",plan:this.$store.state.filtersValues.calc})}}},Ln=Fn,On=Object(h["a"])(Ln,Cn,Un,!1,null,null,null),jn=On.exports,Rn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,downloadUrl:e.downloadUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"drl",filterType:"select",labelText:"Район управления ДРЛ",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/drl.json":"/ajax2.php?module=NSI&method=drl",keyText:"name",keyValue:"id"},{filterName:"calc",filterType:"select",labelText:"Расчет",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/CalculationList.json":"/ajax2.php?module=Normalization&method=plans",keyText:"name",keyValue:"id"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params}})],1)],1)},Nn=[],Sn={name:"ModelingDepo",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl||"",plan:this.$store.state.filtersValues.calc})}},props:["tabs"],computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/norm_depo.json",serverUrl:"/ajax2.php?module=Normalization&method=norm_depo&form=1",tableType:"norm_depo",params:{buttons:{print:!0,download:!0},name:"Моделирование",icon:"icon icon-trending-up"},downloadUrl:"/ajax2.php?module=ExcelController&method=rep_operative_technique_pdf",tabModel:1,headers:[{text:"№",align:"start",value:"sort_number",textMinify:"mini",border:!0},{text:"Депо приписки локомотивов",align:"start",alignHeader:"center",value:"depot_name",textMinify:"mini",width:"200",border:!0,rightBorder:!0},{text:"Потребное количество эксплуатируемого\nпарка локомотивов на 2",align:"start",cols:4,alignHeader:"center",children:[{text:"Т (4-х)",value:"s",alignHeader:"center",border:!0},{text:"Т (3-х)",value:"t",alignHeader:"center",border:!0},{text:"Л (2-х)",value:"l",alignHeader:"center",border:!0},{text:"Всего",value:"sum",alignHeader:"center",border:!0}]}]}}},En=Sn,Pn=Object(h["a"])(En,Rn,Nn,!1,null,null,null),An=Pn.exports,Kn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,downloadUrl:e.downloadUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"drl",filterType:"select",labelText:"Район управления ДРЛ",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/drl.json":"/ajax2.php?module=NSI&method=drl",keyText:"name",keyValue:"id"},{filterName:"calc",filterType:"select",labelText:"Расчет",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/CalculationList.json":"/ajax2.php?module=Normalization&method=plans",keyText:"name",keyValue:"id"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params}})],1)],1)},Bn=[],In={name:"ModelingRatio",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl||"",plan:this.$store.state.filtersValues.calc})}},props:["tabs"],computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{panel:0,defaultUrl:"/server/norm_minmax.json",serverUrl:"/ajax2.php?module=Normalization&method=percent_loco&form=1",tableType:"norm_ratio",params:{buttons:{print:!0,download:!0},name:"Моделирование",icon:"icon icon-trending-up"},tabModel:2,downloadUrl:"/ajax2.php?module=ExcelController&method=rep_operative_technique_pdf",headers:[{text:"Депо приписки локомотивов",align:"start",value:"depo",textMinify:"mini",width:"200",border:!0,rightBorder:!0,fixedColumn:!0},{text:"Инвентарный парк",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"park_t4",alignHeader:"center",border:!0,editable:!0},{text:"Т (3-х)",value:"park_t3",alignHeader:"center",border:!0,editable:!0},{text:"Л (2-х)",value:"park_l2",alignHeader:"center",border:!0,editable:!0}]},{text:"Плановая доля неисправных локомотивов",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"neisp_t4",alignHeader:"center",border:!0,editable:!0},{text:"Т (3-х)",value:"neisp_t3",alignHeader:"center",border:!0,editable:!0},{text:"Л (2-х)",value:"neisp_l2",alignHeader:"center",border:!0,editable:!0}]},{text:"Макс. содержание",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"max_t4",alignHeader:"center",border:!0},{text:"Т (3-х)",value:"max_t3",alignHeader:"center",border:!0},{text:"Л (2-х)",value:"max_l2",alignHeader:"center",border:!0}]},{text:"% содержания от общего по участку",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"uch_t4",alignHeader:"center",border:!0},{text:"Т (3-х)",value:"uch_t3",alignHeader:"center",border:!0},{text:"Л (2-х)",value:"uch_l2",alignHeader:"center",border:!0}]}]}}},zn=In,Wn=Object(h["a"])(zn,Kn,Bn,!1,null,null,null),Gn=Wn.exports,qn=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,downloadUrl:e.downloadUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"drl",filterType:"select",labelText:"Район управления ДРЛ",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/drl.json":"/ajax2.php?module=NSI&method=drl",keyText:"name",keyValue:"id"},{filterName:"calc",filterType:"select",labelText:"Расчет",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/CalculationList.json":"/ajax2.php?module=Normalization&method=plans",keyText:"name",keyValue:"id"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params}})],1)],1)},Yn=[],Jn={name:"ModelingNSI",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl||"",plan:this.$store.state.filtersValues.calc})}},props:["tabs"],computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{panel:0,defaultUrl:"/server/percent_loco.json",serverUrl:"/ajax2.php?module=Normalization&method=graph_section&form=1",tableType:"mod_nsi",downloadUrl:"/ajax2.php?module=ExcelController&method=rep_operative_technique_pdf",params:{buttons:{print:!0,download:!0},name:"Моделирование",icon:"icon icon-trending-up"},tabModel:3,headers:[{text:"Расчетный участок",align:"start",width:"250",textMinify:"mini",value:"section_id",rightBorder:!0,fixedColumn:!0},{text:"Время начала\nдействия показателя",align:"start",value:"start_date",textMinify:"mini"},{text:"Время окончания\nдействия показателя",align:"start",value:"end_date",textMinify:"mini"},{text:"Участковая графиковая\nскорость движения",align:"start",value:"local_speed",textMinify:"mini",editable:!0},{text:"Ходовая графиковая\nскорость движения",align:"start",value:"local_speed2",textMinify:"mini"},{text:"Графиковое количество\nпассажирских поездов",align:"start",value:"passenger_train",textMinify:"mini",editable:!0},{text:"Коэф. потребности\nлокомотивов на пару\nпоездов эксплуат. парка",align:"start",value:"loc_need",textMinify:"mini",editable:!0},{text:"Среднее время поезда\nна однопутных, оборудованных\nавтоблокировкой (АБ) линиях\nпри скрещении и обгоне",align:"start",value:"some",textMinify:"mini"},{text:"Среднее время стоянки поезда\nна однопутных, не оборудованных\nавтоблокировкой (АБ) линиях\nпри обгоне",align:"start",value:"some1",textMinify:"mini"},{text:"Коэффициент, зависящий от уровня\nтех. надежности локомотивов,\nобращающихся в границах дирекции\nуправления движением",align:"start",value:"some2",textMinify:"mini"},{text:"Коэффициент, зависящий от уровня\nтехнической надежности постоянных\nустройств, обращающихся в границах\nдирекции управления движением",align:"start",value:"some3",textMinify:"mini"},{text:"% тяжелых поездов\nк общему количеству",align:"start",value:"percent",textMinify:"mini",editable:!0},{text:"Графиковое количество\nгрузовых поездов",align:"start",value:"freight_train",textMinify:"mini",editable:!0},{text:"Плановое количество\nпассажирских поездов\nчет",align:"start",value:"train_count_even",textMinify:"mini",editable:!0},{text:"Плановое количество\nпассажирских поездов\nнечет",align:"start",value:"train_count_odd",textMinify:"mini",editable:!0},{text:"Коэффициенты\nтолкачей (2х)",align:"start",value:"pl",textMinify:"mini",editable:!0},{text:"Коэффициенты\nтолкачей (3х)",align:"start",value:"pt",textMinify:"mini",editable:!0},{text:"Коэффициенты\nтолкачей (4х)",align:"start",value:"pt4",textMinify:"mini",editable:!0},{text:"Длина\nучастка",align:"start",value:"distance",textMinify:"mini",editable:!0}]}}},Xn=Jn,Qn=Object(h["a"])(Xn,qn,Yn,!1,null,null,null),Zn=Qn.exports,el=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,downloadUrl:e.downloadUrl,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"drl",filterType:"select",labelText:"Район управления ДРЛ",isRemote:!0,inputWidth:"260px",filterUrl:this.$store.state.isTestMode?"../../server/drl.json":"/ajax2.php?module=NSI&method=drl",keyText:"name",keyValue:"id"},{filterType:"choose_btn"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType,hasTabs:!0}}),a("Buttons",{attrs:{params:e.params}})],1)],1)},tl=[],al={name:"ModelingComparison",components:{Title:ne,Links:Ke,Filters:Aa,Tabs:Ya,DataTable:va,Buttons:_r},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date[1]),drl:this.$store.state.filtersValues.drl||"",selected_plans:this.$store.state.planToCompare.join(",")})}},props:["tabs"],computed:{createExportUrl:function(){return"method=rep_compare_modelling&form=1&drl="+this.$store.state.filtersValues.drl+"&date="+this.getFormattedDate(this.$store.state.filtersValues.date)+"&selected_plans="+this.$store.state.planToCompare.join(",")},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{panel:0,defaultUrl:"/server/compare.json",serverUrl:"/ajax2.php?module=Normalization&method=compare&form=1",tableType:"mod_compare",downloadUrl:"/ajax2.php?module=ExcelController&method=rep_operative_technique_pdf",params:{buttons:{export:!0,download:!0},name:"Моделирование",icon:"icon icon-trending-up"},tabModel:4,headers:[{text:"Расчет",align:"start",width:"250",value:"long_name",rightBorder:!0,border:!0,fixedColumn:!0},{text:"Длина\n(L,км)",value:"distance",border:!0},{text:"Коэф.\nКп.гр.э",value:"k_pgre",border:!0},{text:"Коэф.\nКп.п.э.",value:"k_pe",border:!0},{text:"Кол-во\nпоездов\nN (max)",value:"tr_num",border:!0,editable:!1,tooltip:!0},{text:"В т.ч. тяжело\nвесных N\n(2-ая тяга\nСМЕТ)",value:"tr_heavy_num",border:!0},{text:"Окна,\nчас",value:"duration",border:!0},{text:"Потребность локомотивов",value:"way",cols:15,alignHeader:"center",children:[{text:"Грузовое движение",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"ft",border:!0},{text:"Мт\n(3-х)",value:"ft3",border:!0},{text:"Мт\n(2-х)",value:"fl",border:!0}]},{text:"ПВД",alignHeader:"center",children:[{text:"Мт\n(3-х)",value:"locl3",border:!0,editable:!1},{text:"Мт\n(2-х)",value:"locl",border:!0,editable:!1}]},{text:"ТОЛКАЧИ",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"pt4",border:!0,editable:!1},{text:"Мт\n(3-х)",value:"pt",border:!0,editable:!1},{text:"Мт\n(2-х)",value:"pl",border:!0,editable:!1}]},{text:"ОПЕР, РД",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"rt4",border:!0,editable:!1},{text:"Мт\n(3-х)",value:"rt",border:!0,editable:!1},{text:"Мт\n(2-х)",value:"rl",border:!0,editable:!1}]},{text:"ВСЕГО",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"t",border:!0},{text:"Мт\n(3-х)",value:"t3",border:!0},{text:"Мт\n(2-х)",value:"l",border:!0}]},{text:"ИТОГО",alignHeader:"center",children:[{text:"Мв",value:"total",border:!0}]}]}]}}},rl=al,il=Object(h["a"])(rl,el,tl,!1,null,"5cd34d9c",null),nl=il.exports,ll=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"range_date",labelText:"За период"},{filterName:"types",filterType:"select_tree",labelText:"Тип приказа",isRemote:!1,defaultValue:[{id:"ed",name:"Электровозы по депо"},{id:"td",name:"Тепловозы по депо"},{id:"ey",name:"Электровозы по участкам"},{id:"ty",name:"Тепловозы по участкам"},{id:"regulation",name:"Передислокация по стыковым станциям"},{id:"lb_depo",name:"Заставка локомотивных бригад"},{id:"lb_pas",name:"Следование ЛБ пассажиром"}],filterData:[{id:"Нормирование",name:"Нормирование",children:[{id:"ed",name:"Электровозы по депо"},{id:"td",name:"Тепловозы по депо"},{id:"ey",name:"Электровозы по участкам"},{id:"ty",name:"Тепловозы по участкам"}]},{id:"Регулирование",name:"Регулирование",children:[{id:"regulation",name:"Передислокация по стыковым станциям"}]},{id:"Планирование",name:"Планирование",children:[{id:"lb_depo",name:"Заставка локомотивных бригад"},{id:"lb_pas",name:"Следование ЛБ пассажиром"}]}]},{filterName:"context_search",filterType:"search_input",labelText:"По ключевым словами",isntSearch:!0,isRemote:!1}],"table-type":e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"table-container",class:{"pb-15":e.params.buttons.recalc||e.params.buttons.save||e.params.buttons.cancel}},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType}}),a("Buttons",{attrs:{params:e.params}})],1),a("OrderModal")],1)},sl=[],ol=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-dialog",{attrs:{width:"1024",persistent:"","content-class":"order-dialog"},model:{value:e.orderModal,callback:function(t){e.orderModal=t},expression:"orderModal"}},[a("v-card",[a("v-toolbar",{attrs:{elevation:"0",height:"50"}},[a("v-btn",{staticClass:"modal-print",attrs:{color:"#4D6C99","min-height":"29px","min-width":"134px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){return e.orderPrint()}}},[e._v(" Печать ")]),a("v-btn",{staticClass:"close-compare",attrs:{color:"#D2DAE7",icon:"",ripple:!1,absolute:""},on:{click:function(t){return e.$store.commit("setOrderModalState",!1)}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card",{attrs:{elevation:"0",height:"extended"},domProps:{innerHTML:e._s(e.$store.state.orderModalHtml)}})],1)],1)},dl=[],cl={name:"OrderModal",data:function(){return{}},computed:{orderModal:function(){return this.$store.state.orderModalState}},methods:{orderPrint:function(){var e='<link rel="stylesheet" href="/order/resources/orders/style_portrait.css" type="text/css" /><br><link rel="stylesheet" href="/order/resources/orders/style.css" type="text/css" />',t=document.getElementsByClassName("a4")[0].innerHTML,a=window.open("");a.document.write(e),a.document.write(t),a.document.close(),setTimeout((function(){a.print(),a.close()}),180)}}},ul=cl,pl=(a("63a2"),a("116f"),Object(h["a"])(ul,ol,dl,!1,null,"dc25665a",null)),hl=pl.exports;m()(pl,{VBtn:k["a"],VCard:D["a"],VDialog:V["a"],VIcon:E["a"],VToolbar:M["a"]});var fl={name:"Order",components:{Title:ne,Links:Ke,Filters:Aa,DataTable:va,Buttons:_r,OrderModal:hl},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e={dateBegin:this.getFormattedDate(this.$store.state.filtersValues.date[0]),dateEnd:this.getFormattedDate(this.$store.state.filtersValues.date[1])};7!==this.$store.state.filtersValues.types.split(",").length&&(e.types=this.$store.state.filtersValues.types),this.$store.state.filtersValues.context_search&&(e.context_search=this.$store.state.filtersValues.context_search),this.$refs.table.fetchTableData(e)}},props:["tabs"],computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{panel:0,isFilterOpen:!0,defaultUrl:"/server/orders.json",serverUrl:"/ajax2.php?module=Order&method=get_orders",tableType:"order",params:{buttons:{print:!0},name:"Журнал приказов",icon:"icon icon-list-alt"},headers:[{text:"Номер",align:"start",alignHeader:"center",value:"number"},{text:"Дата",align:"start",width:"110",alignHeader:"center",value:"dateFor"},{text:"Тип приказа",align:"start",width:"400",value:"type",alignHeader:"center"},{text:"Согласовал",align:"start",value:"agreed",alignHeader:"center"},{text:"Утвердил",align:"start",value:"approved",alignHeader:"center"},{text:"Адресаты",align:"start",width:"320",value:"recipient",alignHeader:"center"}]}}},ml=fl,xl=Object(h["a"])(ml,ll,sl,!1,null,null,null),vl=xl.exports,bl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},_l=[],gl={name:"Report"},yl=gl,Tl=Object(h["a"])(yl,bl,_l,!1,null,null,null),Hl=Tl.exports,wl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("v-row",{staticClass:"report-list-body",attrs:{"no-gutters":""}},[a("v-col",{staticClass:"pa-0"},[a("h3",{staticClass:"report-main-titles"},[e._v("Локомотивы")]),a("ul",{staticClass:"report-loco-list"},[e._l(e.reportsLoco,(function(t){return[a("div",{key:t.text,staticClass:"items-div"},[t.children?a("li",{staticClass:"report-loco-list-item report-parent-style",on:{click:function(e){t.model=!t.model}}},[a("div",[e._v(e._s(t.text))]),t.children?a("span",{staticClass:"list-drop-icon icon icon-arrow-filled",class:{"icon-drop-rotate":t.model}}):e._e()]):a("li",{key:t.text,staticClass:"report-loco-list-item report-link-style"},[a("router-link",{attrs:{to:{path:t.path}}},[e._v(e._s(t.text))])],1),t.children&&t.model?a("ul",{staticClass:"report-loco-list report-loco-child-list"},[e._l(t.children,(function(t){return[a("li",{key:t.text,staticClass:"report-loco-list-item report-link-style",attrs:{to:{path:t.path}}},[a("router-link",{attrs:{to:{path:t.path}}},[e._v(e._s(t.text))])],1)]}))],2):e._e()])]}))],2)]),a("v-col",{staticClass:"pa-0"},[a("h3",{staticClass:"report-main-titles"},[e._v("Справки о ходе процессов")]),a("ul",{staticClass:"report-loco-list"},[e._l(e.reportsProcess,(function(t){return[a("li",{key:t.text,staticClass:"report-loco-list-item report-link-style"},[a("router-link",{attrs:{to:{path:t.path}}},[e._v(e._s(t.text))])],1)]}))],2)])],1)],1)},kl=[],Dl={name:"ReportMain",components:{Links:Ke,Title:ne},data:function(){return{params:{buttons:{add:!0},name:"Отчеты",icon:"icon icon-reports"},reportsLoco:[{model:!1,text:"Распределение локомотивов по Восточному\nполигону",children:[{path:"/report/rep_02_loco",text:"Локомотивы выделенного контроля"},{path:"/report/rep_02_3",text:"Распределение тепловозов"},{path:"/report/rep_02_1",text:"Распределение электровозов"},{path:"/report/rep_02_tech",text:"Технический план"}]},{model:!1,text:"Справка о наличии и состоянии парка магистральных\nлокомотивов",children:[{path:"/report/rep_03_2",text:"Аналог сокращенного отчета ТО-32ВЦ по тепловозам"},{path:"/report/rep_03_1",text:"Аналог сокращенного отчета ТО-32ВЦ\nпо электровозам"},{path:"/report/rep_03_2sm",text:"Среднемесячное значение отчета ТО-32ВЦ\nпо тепловозам"},{path:"/report/rep_03_1sm",text:"Среднемесячное значение отчета ТО-32ВЦ\nпо электровозам"},{path:"/report/rep_03_2sr",text:"Среднесуточное значение отчета ТО-32ВЦ\nпо тепловозам"},{path:"/report/rep_03_1sr",text:"Среднесуточное значение отчета ТО-32ВЦ\nпо электровозам"}]},{model:!1,text:"Справка о нормативном времени нахождения\nлокомотивов на участках Восточного полигона",children:[{path:"/report/rep_06_s",text:"Справка о нормативном времени нахождения\nлокомотивов на участках Восточного полигона"},{path:"/report/rep_06_request",text:"Управление запросами"}]},{path:"/report/rep_09",text:"Справка о дислокации локомотивов на основных\nстанциях"},{path:"/report/rep_10",text:"Справка о простое локомотивов ЭП в пунктах\nосновных и оборотных депо"},{path:"/report/rep_14",text:"Справка о выполнении ТО-2"},{path:"/report/rep_15",text:"Справка о следовании локомотивов в ремонт"},{path:"/report/rep_18",text:"Справка по локомотивам с перепробегом"},{model:!1,text:"Справка по сходам локомотива с кольца",children:[{path:"/report/rep_19_1",text:"Сходы с кольца"},{path:"/report/rep_19_2",text:"По плечам обслуживания"},{path:"/report/rep_19_4",text:"По дирекциям"},{path:"/report/rep_19_5",text:"По причинам непланового ремонта"}]},{path:"/report/rep_20",text:"Справка о нахождении локомотивов на МПР"}],reportsProcess:[{path:"/report/rep_tp_norm",text:"ТП - Нормирование"},{path:"/report/rep_tp_reg",text:"ТП - Регулирование"}]}}},$l=Dl,Vl=(a("cbca"),Object(h["a"])($l,wl,kl,!1,null,"6794e026",null)),Ml=Vl.exports;m()(Vl,{VCol:Dr["a"],VRow:re["a"]});var Cl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("v-expansion-panels",{staticClass:"table-filters",attrs:{focusable:"",flat:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{"hide-actions":"",ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("span",{staticClass:"mr-2 icon icon-funnel"}),a("span",[e._v("Фильтры")]),a("span",{staticClass:"icon icon-arrow-dropdown"})]),a("v-expansion-panel-content",[a("v-row",[a("v-col",{staticClass:"first-filter"},[a("v-row",{staticClass:"filter-block",attrs:{dense:""}},[a("SelectFilter",{ref:"filter-control-type",attrs:{defaultValue:0,isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/filters_control_type.json":"/ajax2.php?module=ReportFilterController&method=control_type",labelText:"Тип контроля",keyText:"name",keyValue:"id",filterName:"filter-control-type",inputWidth:"190px"}}),a("DateFilter",{ref:"filter-datefield",attrs:{labelText:"Дата",filterName:"filter-datefield"}})],1),a("FilterButtons",{on:{updateTable:function(t){return e.reloadTable_0()},resetFilters:function(t){return e.resetAll()}}})],1),a("v-col",{staticClass:"pr-0 pl-0"},[a("v-row",{staticClass:"filter-block",attrs:{dense:""}},[a("SelectFilter",{ref:"filter-seria",attrs:{isRemote:"true",filterUrl:this.$store.state.isTestMode?"../../server/filters_seria.json":"/ajax2.php?module=ReportFilterController&method=seria",labelText:"Серия",keyText:"name",keyValue:"id",filterName:"filter-seria",inputWidth:"120px"}}),a("TextfieldFilter",{attrs:{labelText:"Номер"}}),a("SelectFilter",{ref:"filter-road-registry",attrs:{defaultValue:e.defaultValueRoad,keyText:"name",keyValue:"id",localItems:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}],labelText:"Дорога приписки",filterName:"filter-road-registry",inputWidth:"190px"}}),a("SelectFilter",{ref:"filter-depo-prip",attrs:{isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/filters_depot.json":"/ajax2.php?module=ReportFilterController&method=depot",labelText:"Депо приписки",keyText:"name",keyValue:"id",filterName:"filter-depo-prip",inputWidth:"190px"}})],1),a("FilterButtons",{on:{updateTable:function(t){return e.reloadTable_1()},resetFilters:function(t){return e.resetAll()}}})],1)],1)],1)],1)],1),a("v-row",{staticClass:"rep02-control"},[a("v-col",{staticClass:"col-6"},[a("DataTable",{ref:"table_0",attrs:{headers:e.headers_0,url:e.getUrl_0,hasBigFilter:!0,tableType:"rep_control_0"}})],1),a("v-col",{staticClass:"col-6"},[a("DataTable",{ref:"table_1",attrs:{headers:e.headers_1,url:e.getUrl_1,hasBigFilter:!0,tableType:"rep_control_1"},on:{forceUpdate:function(t){return e.forceUpdateFirstTable()}}})],1)],1)],1)},Ul=[],Fl={name:"LocoControl_02",components:{TextfieldFilter:La,Links:Ke,Title:ne,DateFilter:Ze,SelectFilter:lt,FilterButtons:pt,DataTable:va},methods:{forceUpdateFirstTable:function(){this.$refs.table_0.fetchTableData("add"),this.$refs.table_0.setClasses()},reloadTable_0:function(){this.$refs.table_0.fetchTableData({"filter-control-type":this.$store.state.filtersValues["filter-control-type"],"filter-datefield":this.$store.state.filtersValues["filter-datefield"],action:"load"})},reloadTable_1:function(){this.$refs.table_1.fetchTableData({"filter-seria":this.$store.state.filtersValues["filter-seria"],"filter-number":this.$store.state.filtersValues["filter-number"],"filter-road-registry":this.$store.state.filtersValues["filter-road-registry"],"filter-depo-prip":this.$store.state.filtersValues["filter-depo-prip"]})},resetAll:function(){for(var e in this.$refs)this.$store.state.defaultFiltersValues&&this.$store.state.defaultFiltersValues[e]&&("date"===e&&(this.$store.state.defaultFiltersValues[e]=(new Date).toISOString().substring(0,10)),this.$refs[e][0].value=this.$store.state.defaultFiltersValues[e])},changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen}},created:function(){this.$store.state.filterOpen=!0},computed:{getUrl_0:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl_0:this.serverUrl_0},getUrl_1:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl_1:this.serverUrl_1}},data:function(){return{params:{buttons:{add:!0,back:!0},backUrl:"/report/main",name:"Отчеты: локомотивы выделенного контроля",icon:"icon icon-reports"},panel:0,defaultUrl_0:"/server/fakeReports_2_test.json",serverUrl_0:"/ajax2.php?module=Report&method=rep_2_control",defaultUrl_1:"/server/fakeReports_2_test2.json",serverUrl_1:"/ajax2.php?module=Report&method=rep_2_search",defaultValueRoad:9991,headers_0:[{text:"№",textMinify:"mini",alignHeader:"center",value:"row_index"},{text:"Серия",alignHeader:"center",value:"ser_name"},{text:"Номер",alignHeader:"center",value:"num"},{text:"Депо\nприписки",alignHeader:"center",value:"depo_prip"},{text:"Основ.\nвид движ.",alignHeader:"center",value:"primary_vd_name"},{text:"Текущ.\nвид движ.",alignHeader:"center",value:"actual_vd_name"},{text:"Дата\nначала",alignHeader:"center",isBigText:!0,value:"date_start"},{text:"Дата\nокончания",alignHeader:"center",editable:!0,editType:"date",value:"date_end"}],headers_1:[{text:"№",textMinify:"mini",alignHeader:"center",value:"row_index"},{text:"Серия",alignHeader:"center",value:"ser_name"},{text:"Номер",alignHeader:"center",value:"num"},{text:"Депо\nприписки",alignHeader:"center",value:"depo_prip"},{text:"Основ.\nвид движ.",alignHeader:"center",value:"primary_vd_name"},{text:"Текущ.\nвид движ.",alignHeader:"center",value:"actual_vd_name"},{text:"Дата\nначала",alignHeader:"center",editable:!0,width:100,editType:"date",value:"date_start"},{text:"Добавить",value:"add",editType:"button",alignHeader:"center"}]}}},Ll=Fl,Ol=(a("11d5"),Object(h["a"])(Ll,Cl,Ul,!1,null,"3e86d322",null)),jl=Ol.exports;m()(Ol,{VCol:Dr["a"],VExpansionPanel:Ra["a"],VExpansionPanelContent:Na["a"],VExpansionPanelHeader:Sa["a"],VExpansionPanels:Ea["a"],VRow:re["a"]});var Rl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"type_rep_2",filterType:"select",inputWidth:"190px",labelText:"Тип отчета",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:e.type,filterData:[{id:0,name:"срезовой"},{id:1,name:"моментальный"}]},{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"time_rep_2",filterType:"select",inputWidth:"120px",labelText:"Время",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:e.time,filterData:this.$store.state.timeFilterCurrentValue}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(' Выдача тепловозов по "Восточному" региону предварительная '),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))]),a("br"),e._v(" Тепловозы депо КРСН, ВСИБ, ЗАБ, ДВСТ Ж.Д. ")]),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3),load:!1},tableType:e.tableType,hasDetail:!0,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Nl=[],Sl={name:"Report02_3",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr},created:function(){this.setTimeDefaultTimeFilterData(),this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e=this.$store.state.filtersValues["date"][1].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a)+" "+this.$store.state.filtersValues["time_rep_2"]+":00",this.$refs.table.fetchTableData({"report-2-datefield":new Date(this.$store.state.filtersValues.date),"report-2-timefield":this.$store.state.filtersValues.time_rep_2,"filter-type-report":this.$store.state.filtersValues.type_rep_2})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_2_1_fr_test.json":"/ajax2.php?module=Report&method=rep_2_fr&"+this.detailUrl)},setTimeDefaultTimeFilterData:function(){var e=new Date,t=e.getHours(),a=e.getMinutes();t<6?(e=new Date(e.setHours(0,0,0).valueOf()-864e5),this.type=0,this.time=18):t>=6&&t<18?(this.time=6,6===t&&a<=50?(this.type=1,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[0]):(this.type=0,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[1])):t>=18&&(this.time=18,18===t&&a<=50?(this.type=1,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[0]):(this.type=0,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[1])),e.setHours(0,0,0)}},computed:{createExportUrl:function(){return"method=rep_2_all&report-2-datefield="+new Date(this.$store.state.filtersValues.date)+"&report-2-timefield="+this.$store.state.filtersValues.time_rep_2+"&filter-type-report="+this.$store.state.filtersValues.type_rep_2},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: распределение тепловозов",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_2_3.json",serverUrl:"/ajax2.php?module=Report&method=rep_2_3",tableType:"rep_02_1",time:18,type:0,detailHeaders:[{text:"№\nп/п",value:"row_number",width:55},{text:"Серия",value:"serial",width:80},{text:"Номер",value:"number",width:160},{text:"Депо\nприписки",value:"depot",width:100},{text:"Осн.вид\nдвиж.",value:"movement",width:100},{text:"Дислокация",value:"location",width:100},{text:"Операция",value:"operation",width:100},{text:"Состояние",value:"condition",width:100},{text:"Дата",value:"date",width:80},{text:"№\nпоезда",value:"train_tag",width:100},{text:"Индекс\nпоезда",value:"train_index",width:100},{text:"Участок",value:"uch",width:100}],headers:[{text:"Депо",value:"depo_name",border:!0,width:200,rightBorder:!0,alignHeader:"center",fixedColumn:!0},{text:"ТЕПЛОВОЗЫ в рабочем парке ",alignHeader:"center",children:[{text:"Таксимо\n-\nХани",alignHeader:"center",children:[{text:"2-сек",value:"taksimo_hani_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"taksimo_hani_3sek",alignHeader:"center",width:60}]},{text:"Хани\n-\nТында",alignHeader:"center",children:[{text:"2-сек",value:"hani_tinda_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"hani_tinda_3sek",alignHeader:"center",width:60}]},{text:"Тында\n-\nУргал",alignHeader:"center",children:[{text:"2-сек",value:"tinda_urgal_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"tinda_urgal_3sek",alignHeader:"center",width:60}]},{text:"Тында\n-\nСковородино",alignHeader:"center",children:[{text:"2-сек",value:"tinda_skovorodino_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"tinda_skovorodino_3sek",alignHeader:"center",width:60}]},{text:"Тында\n-\nБеркакит",alignHeader:"center",children:[{text:"2-сек",value:"tinda_berkakit_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"tinda_berkakit_3sek",alignHeader:"center",width:60}]},{text:"Известковая\n-\nУргал",alignHeader:"center",children:[{text:"2-сек",value:"izvestkovaya_urgal_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"izvestkovaya_urgal_3sek",alignHeader:"center",width:60}]},{text:"Ургал\n-\nПостышево",alignHeader:"center",children:[{text:"2-сек",value:"urgal_postishevo_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"urgal_postishevo_3sek",alignHeader:"center",width:60}]},{text:"Постышево\n-\nКомсомольск",alignHeader:"center",children:[{text:"2-сек",value:"postishevo_komsomolsk_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"postishevo_komsomolsk_3sek",alignHeader:"center",width:60}]},{text:"Комсомольск\n-\nВолочаевка",alignHeader:"center",children:[{text:"2-сек",value:"komsomolsk_volochaevka_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"komsomolsk_volochaevka_3sek",alignHeader:"center",width:60}]},{text:"Комсомольск\n-\nВысокогорная",alignHeader:"center",children:[{text:"2-сек",value:"komsomolsk_visokogornaya_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"komsomolsk_visokogornaya_3sek",alignHeader:"center",width:60}]},{text:"Высокогорная\n-\nВанино",alignHeader:"center",children:[{text:"2-сек",value:"visokogornaya_vanino_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"visokogornaya_vanino_3sek",alignHeader:"center",width:60}]},{text:"Прочие",alignHeader:"center",children:[{text:"2-сек",value:"prohue_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"prohue_3sek",alignHeader:"center",width:60}]},{text:"Итоги\nпо\nсериям",alignHeader:"center",children:[{text:"2-сек",value:"res_ser_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"res_ser_3sek",alignHeader:"center",width:60}]},{text:"Всего\nв\nпарке\nФАКТ",value:"res_park_fact",alignHeader:"center",width:60},{text:"ТО-2",value:"to2",alignHeader:"center",width:60},{text:"Расчет\nV план",alignHeader:"center",children:[{text:"2-сек",value:"norm_col_2sek",alignHeader:"center",width:60},{text:"3-сек",value:"norm_col_3sek",alignHeader:"center",width:60},{text:"2+3+4 сек",value:"norm_col_234sek",alignHeader:"center",width:60},{text:"+/- факт",value:"norm_col_fact",alignHeader:"center",width:60}]}]}]}}},El=Sl,Pl=(a("63dc"),Object(h["a"])(El,Rl,Nl,!1,null,"b352102e",null)),Al=Pl.exports,Kl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"type_rep_2",filterType:"select",inputWidth:"190px",labelText:"Тип отчета",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:e.type,filterData:[{id:0,name:"срезовой"},{id:1,name:"моментальный"}]},{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"time_rep_2",filterType:"select",inputWidth:"120px",labelText:"Время",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:e.time,filterData:this.$store.state.timeFilterCurrentValue}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Распределение грузовых локомотивов по Восточному полигону на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))]),a("br"),e._v(" Электровозы депо КРСН, ВСИБ, ЗАБ, ДВС Ж.Д. ")]),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3),time_rep_2:this.$store.state.filtersValues["time_rep_2"]},tableType:e.tableType,hasDetail:!0,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Bl=[],Il={name:"Report02_1",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr},created:function(){this.setTimeDefaultTimeFilterData(),this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e=this.$store.state.filtersValues["date"][1].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a)+" "+this.$store.state.filtersValues["time_rep_2"]+":00",this.$refs.table.fetchTableData({"report-2-datefield":new Date(this.$store.state.filtersValues.date),"report-2-timefield":this.$store.state.filtersValues.time_rep_2,"filter-type-report":this.$store.state.filtersValues.type_rep_2})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_2_1_fr_test.json":"/ajax2.php?module=Report&method=rep_2_fr&"+this.detailUrl)},setTimeDefaultTimeFilterData:function(){var e=new Date,t=e.getHours(),a=e.getMinutes();t<6?(e=new Date(e.setHours(0,0,0).valueOf()-864e5),this.type=0,this.time=18):t>=6&&t<18?(this.time=6,6===t&&a<=50?(this.type=1,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[0]):(this.type=0,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[1])):t>=18&&(this.time=18,18===t&&a<=50?(this.type=1,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[0]):(this.type=0,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[1])),e.setHours(0,0,0)}},computed:{createExportUrl:function(){return"method=rep_2_all&report-2-datefield="+new Date(this.$store.state.filtersValues.date)+"&report-2-timefield="+this.$store.state.filtersValues.time_rep_2+"&filter-type-report="+this.$store.state.filtersValues.type_rep_2},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: распределение электровозов",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_2_1.json",serverUrl:"/ajax2.php?module=Report&method=rep_2_all",tableType:"rep_02_1",time:18,type:0,detailHeaders:[{text:"№\nп/п",value:"row_number",width:55},{text:"Серия",value:"serial",width:80},{text:"Номер",value:"number",width:160},{text:"Депо\nприписки",value:"depot",width:100},{text:"Осн.вид\nдвиж.",value:"movement",width:100},{text:"Дислокация",value:"location",width:100},{text:"Операция",value:"operation",width:100},{text:"Состояние",value:"condition",width:100},{text:"Дата",value:"date",width:80},{text:"№\nпоезда",value:"train_tag",width:100},{text:"Индекс\nпоезда",value:"train_index",width:100},{text:"Участок",value:"uch",width:100}],headers:[{text:"",value:"col_0",border:!0,width:200,rightBorder:!0,fixedColumn:!0},{text:"Эксплуатируемый парк",alignHeader:"center",children:[{text:"Мариинск\n-\nЮрты",alignHeader:"center",value:"col_1",border:!0},{text:"Юрты\n-\nП.Завод",alignHeader:"center",value:"col_2",border:!0},{text:"П.Завод\n-\nКарымская",alignHeader:"center",value:"col_3",border:!0},{text:"Карымская\n-\nЗабайкальск",alignHeader:"center",value:"col_4",border:!0},{text:"Карымская\n-\nАрхара",alignHeader:"center",value:"col_5",border:!0},{text:"Архара\n-\nХабаровск",alignHeader:"center",value:"col_6",border:!0},{text:"Хабаровск\n-\nСмоляниново",alignHeader:"center",value:"col_7",border:!0},{text:"Смоляниново\n-\nНаходка",alignHeader:"center",value:"col_8",border:!0},{text:"Междурече..\n-\nТайшет",alignHeader:"center",value:"col_9",border:!0},{text:"Тайшет\n-\nТаксимо",alignHeader:"center",value:"col_10",border:!0},{text:"Без участка",alignHeader:"center",value:"col_11",border:!0},{text:"Всего в парке\nФАКТ",alignHeader:"center",value:"col_12",border:!0},{text:"Техплан /\nрасчет",alignHeader:"center",value:"col_14",border:!0},{text:"+/- факт\nк техплану",alignHeader:"center",value:"col_15",border:!0}]},{text:"Рабочий парк",alignHeader:"center",children:[{text:"Техплан\n(РП)",alignHeader:"center",value:"col_16",border:!0},{text:"Всего в РП\nФАКТ",alignHeader:"center",value:"col_17",border:!0},{text:"+/- факт\nк техплану",alignHeader:"center",value:"col_18",border:!0},{text:"Коэф. эф.\nисп. РП",alignHeader:"center",value:"col_19",border:!0},{text:"Расчет\nV план",alignHeader:"center",value:"col_20",border:!0}]},{text:"Грузовое движение",alignHeader:"center",children:[{text:"Техплан /\nрасчет",alignHeader:"center",value:"col_21",border:!0},{text:"Всего в гр. дв.\nФАКТ",alignHeader:"center",value:"col_22",border:!0},{text:"+/- факт\nк техплану\nгр.движение",alignHeader:"center",value:"col_23",border:!0}]},{text:"НЭП",alignHeader:"center",children:[{text:"Депо\nприписки",alignHeader:"center",value:"col_23",border:!0},{text:"на тяг. тер.\nДепо",alignHeader:"center",value:"col_24",border:!0}]}]}}},zl=Il,Wl=(a("79bf"),Object(h["a"])(zl,Kl,Bl,!1,null,"f6a94e64",null)),Gl=Wl.exports,ql=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"report-2-tech_datefield",filterType:"date",labelText:"Действуют с:"},{filterName:"report-2-tech_timefield",filterType:"select",inputWidth:"120px",labelText:"Время",isRemote:!1,keyText:"name",keyValue:"id",filterData:e.setTimeFilterData}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" "+e._s(e.tableTitle)+" ")]),[a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"table pl-3",class:{"slide-leave slide-enter-active":this.$store.state.sheet,"slide-leave-to slide-leave-active":!this.$store.state.sheet},style:e.getTableHeight,attrs:{id:"table",elevation:"0"}},[e._l(this.$store.state.techPlanReport.tableArr,(function(e,t){return a("DynamicTable",{key:t,attrs:{tableData:e}})})),e.progress?a("v-progress-circular",{staticClass:"progress-circle",attrs:{indeterminate:"",color:"#00194D"}}):e._e()],2)]],2)},Yl=[],Jl=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"v-data-table v-data-table--dense v-data-table--fixed-height theme--light"},[a("div",{staticClass:"v-data-table__wrapper"},[a("table",{staticClass:"v-data-table-body"},[a("thead",{staticClass:"v-data-table-header"},e._l(e.createHeaderArray(),(function(t,r){return a("tr",{key:r},e._l(t,(function(t,i){return a("th",{key:i,class:{"thin-border-bottom":0===r&&"tableName"===i},attrs:{colspan:0===r&&"tableName"===i?Object.keys(e.tableData[1]).length-1:0,rowspan:0===r&&"name"===i?2:1}},[e._v(" "+e._s(1===r&&"name"!==i?t.split("(").join("\n("):t)+" ")])})),0)})),0),a("tbody",e._l(e.tableData[2],(function(t,r){return a("tr",{key:r,class:{"selected-row":r===e.selectedItem},on:{click:function(t){return e.selectRow(r)}}},e._l(t,(function(i,n){return a("td",{key:n,class:{"edit-cell-main":"name"!==n&&r!==e.tableData[2].length-1,"edited-cell-main":e.cellClasses[r+"_"+n]}},["name"!==n&&r!==e.tableData[2].length-1?a("EditCell",{attrs:{oldValue:t[n],row:t,col:n,rowId:r},on:{updateCell:function(a){return e.changeClass(a,t[n],t,n,r)}}}):a("div",{class:{"number-sum":"name"!==n&&r===e.tableData[2].length-1},style:{width:"name"===n?"150px":"auto"}},[e._v(" "+e._s(t[n])+" ")])],1)})),0)})),0)])])])},Xl=[],Ql={name:"DynamicTable",components:{EditCell:Bt},props:["tableData"],data:function(){return{selectedItem:null,editedValues:[],cellClasses:{}}},methods:{changeClass:function(e,t,a,r,i){this.cellClasses[i+"_"+r]?+e===t&&delete this.cellClasses[i+"_"+r]:this.cellClasses[i+"_"+r]=!0,this.changeValue(e,r.value,i,t),this.$forceUpdate()},changeValue:function(e,t,a,r){var i;this.editedValues.forEach((function(n,l,s){n.id===a&&n.col===t&&(+e!==+r?n.value=e:s.splice(l),i=!0)})),i||this.editedValues.push({value:e,col:t,id:a})},selectRow:function(e){this.selectedItem=e},createHeaderArray:function(){var e=Object.assign({},this.tableData[1]);return delete e[" name"],[{name:this.tableData[1][" name"],tableName:this.tableData[0]},e]}}},Zl=Ql,es=(a("62c9"),a("8c7c"),Object(h["a"])(Zl,Jl,Xl,!1,null,"6c5ef07c",null)),ts=es.exports,as={name:"Report02_tech",components:{Links:Ke,Title:ne,Filters:Aa,DynamicTable:ts},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},getTableData:function(){var e=this;this.progress=!0,o.a.get(this.getUrl,{params:{time:this.getFormattedDate(this.$store.state.filtersValues["report-2-tech_datefield"][1]),timefield:this.$store.state.filtersValues["report-2-tech_timefield"]}}).then((function(t){e.progress=!1,e.$store.state.techPlanReport.tableArr=t.data.data,e.tableTitle=e.setFormattedTableTitle(t.data.alert)}))},updateTable:function(){this.getTableData(),this.isTableTitle=!0},setFormattedTableTitle:function(e){var t=e.split("дату "),a=t[1].split(" "),r=a[0].split("-"),i=Object(Ge["a"])(r,3),n=i[0],l=i[1],s=i[2],o="".concat(s,".").concat(l,".").concat(n);return t[0]+"дату "+o+" "+a[1]},onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}}},computed:{getTableHeight:function(){var e=138,t=210,a=this.windowSize.y-t;return this.$store.state.filterOpen&&(a-=e),"height: ".concat(a,"px")},setTimeFilterData:function(){for(var e=[],t=0;t<24;t++)e.push({id:t,name:t<10?"0"+t+":00":t+":00"});return e},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{defaultUrl:"/server/fakeReports_02_02.json",serverUrl:"/ajax2.php?module=TechPlanController&method=get",progress:!1,isTableTitle:!1,tableTitle:"",params:{buttons:{add:!0,back:!0},backUrl:"/report/main",name:"Отчеты: технический план",icon:"icon icon-reports"},windowSize:{x:0,y:0}}}},rs=as,is=(a("cfc4"),Object(h["a"])(rs,ql,Yl,!1,null,"2ea632e6",null)),ns=is.exports;m()(is,{VCard:D["a"],VProgressCircular:ua["a"]}),ha()(is,{Resize:fa["a"]});var ls=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"type_rep_3",filterType:"select",inputWidth:"190px",labelText:"Тип отчета",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:e.type,filterData:[{id:0,name:"срезовой"},{id:1,name:"моментальный"}]},{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"time_rep_3",filterType:"select",inputWidth:"120px",labelText:"Время",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:e.time,filterData:this.$store.state.timeFilterCurrentValue},{filterName:"report-3-roadchoice",filterType:"select",inputWidth:"120px",labelText:"Дорога",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Сокращенный отчет ТО-32-ВЦ о наличии и состоянии парка магистральных локомотивов в грузовом"),a("br"),e._v("движении по их приписке для электровозов на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,hasDetail:!0,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},ss=[],os={name:"Report03_1",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr},created:function(){this.setTimeDefaultTimeFilterData(),this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e=this.$store.state.filtersValues["date"][1].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a),this.$refs.table.fetchTableData({"filter-type-report":this.$store.state.filtersValues["type_rep_3"],"report-3-datefield":this.$store.state.filtersValues.date[1],"report-3-timefield":this.$store.state.filtersValues["time_rep_3"],"report-3-roadchoice":this.$store.state.filtersValues["report-3-roadchoice"]})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_3_fr.json":"/ajax2.php?module=Report&method=rep_3fr&"+this.detailUrl)},setTimeDefaultTimeFilterData:function(){var e=new Date,t=e.getHours(),a=e.getMinutes();t<6?(e=new Date(e.setHours(0,0,0).valueOf()-864e5),this.type=0,this.time=18):t>=6&&t<18?(this.time=6,6===t&&a<=50?(this.type=1,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[0]):(this.type=0,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[1])):t>=18&&(this.time=18,18===t&&a<=50?(this.type=1,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[0]):(this.type=0,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[1])),e.setHours(0,0,0)}},computed:{createExportUrl:function(){return"method=rep_3new_1&filter-type-report="+new Date(this.$store.state.filtersValues["type_rep_3"])+"&report-3-datefield="+this.$store.state.filtersValues.date[1]+"&report-3-timefield="+this.$store.state.filtersValues["time_rep_3"]+"&report-3-roadchoice="+this.$store.state.filtersValues["report-3-roadchoice"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: аналог сокращенного отчета ТО-32ВЦ по электровозам",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_3_new.json",serverUrl:"/ajax2.php?module=Report&method=rep_3new_1",tableType:"rep_03_1",time:18,type:0,detailHeaders:[{text:"№",value:"row_index",width:50},{text:"Локомотив",value:"sostavn",width:200},{text:"Дата/Время операции",value:"date_op",width:150},{text:"Операция",value:"naim_oper",width:120},{text:"Состояние",value:"naim_sost",width:120},{text:"Номер поезда",value:"nom_poezd",width:70},{text:"Индекс поезда",value:"index_poezd",width:120},{text:"Дислокация",value:"naim_object",width:180},{text:"Депо приписки",value:"naim_depo",width:180},{text:"Дорога приписки",value:"dor_prip",width:80},{text:"Преимущественный вид движения",value:"naim_vid_dv_pr",width:140}],headers:[{text:"Наименование депо",value:"NAIM_DEPO",width:250,fixedColumn:!0,rightBorder:!0,align:"start",border:!0,textMinify:"mini"},{text:"Число секций\n(т.е.)",alignHeader:"center",value:"KOL_SEK",border:!0,width:60},{text:"Инвен.\nнали\n(к.е.)",alignHeader:"center",value:"KOL_INV",border:!0,width:55},{text:"Арен. на путях\nнеобщ. польз.\n(к.е.)",alignHeader:"center",value:"KOL3",border:!0,width:60},{text:"На\nконсервации\n(к.е.)",alignHeader:"center",border:!0,value:"KOL4",width:60},{text:"Всг. ЭП и НЭП\n(т.е.)",alignHeader:"center",border:!0,value:"KOL5",width:55},{text:"Эксплуатируемый парк",alignHeader:"center",children:[{text:"Всего(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN6",border:!0,width:50},{text:"Расчет\nV план",alignHeader:"center",textMinify:"mini",value:"norm_col",border:!0,width:70},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL7",width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA8",width:60}]},{text:"В т.ч. груз.движ.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",border:!0,value:"PLAN9",width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL10",width:50},{text:"+,- факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA11",width:60}]},{text:"Рабочий парк(т.е.)",alignHeader:"center",children:[{text:"в т.ч.груз.движ.вкл. передат.,вывоз,и подт.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN12",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL13",border:!0,width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA14",border:!0,width:52},{text:"в т.ч.ож.\nраб. на стан.\nс бриг.",alignHeader:"center",textMinify:"mini",value:"KOL48",border:!0,width:60}]},{text:"Пасс.вкл.приг.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN15",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL16",border:!0,width:50}]},{text:"Хоз. движ.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN17",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL18",border:!0,width:50}]},{text:"Спец.манев.работа",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN19",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL20",border:!0,width:50}]},{text:"Пр.ман.р.,\nпр.в.раб.",alignHeader:"center",textMinify:"mini",value:"KOL21",border:!0,width:60}]},{text:"Нерабочий парк (т.е.)",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL22",border:!0,width:55},{text:"Груз.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL23",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL24",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL25",border:!0,width:55},{text:"Простои",alignHeader:"center",children:[{text:"В ожид.\nраб.",alignHeader:"center",textMinify:"mini",value:"KOL26A",width:55},{text:"В опер.\nс лок. бриг.",alignHeader:"center",textMinify:"mini",value:"KOL49",width:55},{text:"В т.ч.\nболее 12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL27",width:55}]}]},{text:"Хоз/пасс./ман.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL28",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL29",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL30",border:!0,width:55},{text:"Ожид. раб.",alignHeader:"center",textMinify:"mini",value:"KOL45",border:!0,width:55},{text:"Простой\n>12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL46",border:!0,width:55}]}]},{text:"Резерв ЦД\n(т.е.)",alignHeader:"center",value:"KOL47",border:!0,width:50}]},{text:"НЭП(т.е.)",alignHeader:"center",children:[{text:"Всг. НЭП",alignHeader:"center",textMinify:"mini",value:"KOL31",border:!0,width:50},{text:"Резер ЦТ",alignHeader:"center",textMinify:"mini",value:"KOL32",border:!0,width:50},{text:"Деп.рем,ТО(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN33",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL34",border:!0,width:55},{text:"В т.ч. внеп.\nрем.",alignHeader:"center",textMinify:"mini",value:"KOL35",border:!0,width:55},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA36",width:55}]},{text:"Завод.рем.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN37",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL38",border:!0,width:55},{text:'В т.ч. факт\nОАО\n"ЖДРМ"',alignHeader:"center",textMinify:"mini",value:"KOL39",border:!0,width:65},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA40",border:!0,width:55},{text:"Рекламация",alignHeader:"center",textMinify:"mini",value:"KOL41",border:!0,width:55}]},{text:"Пересылка\nи техн. опер\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL42",border:!0,width:55},{text:"Ожид. искл.\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL43",border:!0,width:55}]}]}}},ds=os,cs=(a("ba63"),Object(h["a"])(ds,ls,ss,!1,null,"c5ccaef6",null)),us=cs.exports,ps=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"type_rep_3",filterType:"select",inputWidth:"190px",labelText:"Тип отчета",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:e.type,filterData:[{id:0,name:"срезовой"},{id:1,name:"моментальный"}]},{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"time_rep_3",filterType:"select",inputWidth:"120px",labelText:"Время",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:e.time,filterData:this.$store.state.timeFilterCurrentValue},{filterName:"report-3-roadchoice",filterType:"select",inputWidth:"120px",labelText:"Дорога",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Сокращенный отчет ТО-32-ВЦ о наличии и состоянии парка магистральных локомотивов в грузовом"),a("br"),e._v("движении по их приписке для тепловозов на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,hasDetail:!0,groupSort:e.groupSort,groupKey:e.groupKey,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},hs=[],fs={name:"Report03_2",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr},created:function(){this.setTimeDefaultTimeFilterData(),this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e=this.$store.state.filtersValues["date"][1].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a),this.$refs.table.fetchTableData({"filter-type-report":this.$store.state.filtersValues["type_rep_3"],"report-3-datefield":this.$store.state.filtersValues.date[1],"report-3-timefield":this.$store.state.filtersValues["time_rep_3"],"report-3-roadchoice":this.$store.state.filtersValues["report-3-roadchoice"]})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_3_fr.json":"/ajax2.php?module=Report&method=rep_3fr&"+this.detailUrl)},setTimeDefaultTimeFilterData:function(){var e=new Date,t=e.getHours(),a=e.getMinutes();t<6?(e=new Date(e.setHours(0,0,0).valueOf()-864e5),this.type=0,this.time=18):t>=6&&t<18?(this.time=6,6===t&&a<=50?(this.type=1,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[0]):(this.type=0,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[1])):t>=18&&(this.time=18,18===t&&a<=50?(this.type=1,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[0]):(this.type=0,this.$store.state.timeFilterCurrentValue=this.$store.state.timeFilterValues[1])),e.setHours(0,0,0)}},computed:{createExportUrl:function(){return"method=rep_3new_2&filter-type-report="+new Date(this.$store.state.filtersValues["type_rep_3"])+"&report-3-datefield="+this.$store.state.filtersValues.date[1]+"&report-3-timefield="+this.$store.state.filtersValues["time_rep_3"]+"&report-3-roadchoice="+this.$store.state.filtersValues["report-3-roadchoice"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: аналог сокращенного отчета ТО-32ВЦ по тепловозам",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_3_2.json",serverUrl:"/ajax2.php?module=Report&method=rep_3new_2",tableType:"rep_03_2",time:18,type:0,groupSort:"GROUP",groupKey:"GROUP",detailHeaders:[{text:"№",value:"row_index",width:50},{text:"Локомотив",value:"sostavn",width:200},{text:"Дата/Время операции",value:"date_op",width:150},{text:"Операция",value:"naim_oper",width:120},{text:"Состояние",value:"naim_sost",width:120},{text:"Номер поезда",value:"nom_poezd",width:70},{text:"Индекс поезда",value:"index_poezd",width:120},{text:"Дислокация",value:"naim_object",width:180},{text:"Депо приписки",value:"naim_depo",width:180},{text:"Дорога приписки",value:"dor_prip",width:80},{text:"Преимущественный вид движения",value:"naim_vid_dv_pr",width:140}],headers:[{text:"Наименование депо",value:"NAIM_DEPO",width:250,fixedColumn:!0,rightBorder:!0,align:"start",border:!0,textMinify:"mini"},{text:"Серия",value:"NAME_GRUP_SER",alignHeader:"center",border:!0},{text:"Число секций\n(т.е.)",alignHeader:"center",value:"KOL_SEK",border:!0,width:60},{text:"Инвен.\nнали\n(к.е.)",alignHeader:"center",value:"KOL_INV",border:!0,width:55},{text:"Арен. на путях\nнеобщ. польз.\n(к.е.)",alignHeader:"center",value:"KOL3",border:!0,width:60},{text:"На\nконсервации\n(к.е.)",alignHeader:"center",border:!0,value:"KOL4",width:60},{text:"Всг. ЭП и НЭП\n(т.е.)",alignHeader:"center",border:!0,value:"KOL5",width:55},{text:"Эксплуатируемый парк",alignHeader:"center",children:[{text:"Всего(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN6",border:!0,width:50},{text:"Расчет\nV план",alignHeader:"center",textMinify:"mini",value:"norm_col",border:!0,width:70},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL7",width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA8",width:60}]},{text:"В т.ч. груз.движ.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",border:!0,value:"PLAN9",width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL10",width:50},{text:"+,- факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA11",width:60}]},{text:"Рабочий парк(т.е.)",alignHeader:"center",children:[{text:"в т.ч.груз.движ.вкл. передат.,вывоз,и подт.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN12",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL13",border:!0,width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA14",border:!0,width:52},{text:"в т.ч.ож.\nраб. на стан.\nс бриг.",alignHeader:"center",textMinify:"mini",value:"KOL48",border:!0,width:60}]},{text:"Пасс.вкл.приг.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN15",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL16",border:!0,width:50}]},{text:"Хоз. движ.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN17",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL18",border:!0,width:50}]},{text:"Спец.манев.работа",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN19",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL20",border:!0,width:50}]},{text:"Пр.ман.р.,\nпр.в.раб.",alignHeader:"center",textMinify:"mini",value:"KOL21",border:!0,width:60}]},{text:"Нерабочий парк (т.е.)",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL22",border:!0,width:55},{text:"Груз.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL23",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL24",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL25",border:!0,width:55},{text:"Простои",alignHeader:"center",children:[{text:"В ожид.\nраб.",alignHeader:"center",textMinify:"mini",value:"KOL26A",width:55},{text:"В опер.\nс лок. бриг.",alignHeader:"center",textMinify:"mini",value:"KOL49",width:55},{text:"В т.ч.\nболее 12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL27",width:55}]}]},{text:"Хоз/пасс./ман.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL28",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL29",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL30",border:!0,width:55},{text:"Ожид. раб.",alignHeader:"center",textMinify:"mini",value:"KOL45",border:!0,width:55},{text:"Простой\n>12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL46",border:!0,width:55}]}]},{text:"Резерв ЦД\n(т.е.)",alignHeader:"center",value:"KOL47",border:!0,width:50}]},{text:"НЭП(т.е.)",alignHeader:"center",children:[{text:"Всг. НЭП",alignHeader:"center",textMinify:"mini",value:"KOL31",border:!0,width:50},{text:"Резер ЦТ",alignHeader:"center",textMinify:"mini",value:"KOL32",border:!0,width:50},{text:"Деп.рем,ТО(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN33",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL34",border:!0,width:55},{text:"В т.ч. внеп.\nрем.",alignHeader:"center",textMinify:"mini",value:"KOL35",border:!0,width:55},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA36",width:55}]},{text:"Завод.рем.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN37",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL38",border:!0,width:55},{text:'В т.ч. факт\nОАО\n"ЖДРМ"',alignHeader:"center",textMinify:"mini",value:"KOL39",border:!0,width:65},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA40",border:!0,width:55},{text:"Рекламация",alignHeader:"center",textMinify:"mini",value:"KOL41",border:!0,width:55}]},{text:"Пересылка\nи техн. опер\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL42",border:!0,width:55},{text:"Ожид. искл.\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL43",border:!0,width:55}]}]}}},ms=fs,xs=(a("4f0f"),Object(h["a"])(ms,ps,hs,!1,null,"2cfc988a",null)),vs=xs.exports,bs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"report-3-roadchoice",filterType:"select",inputWidth:"120px",labelText:"Дорога",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Сокращенный отчет ТО-32-ВЦ о наличии и состоянии парка магистральных локомотивов в грузовом"),a("br"),e._v("движении по их приписке для электровозов. Среднемесячное значение за "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,hasDetail:!0,groupSort:e.groupSort,groupKey:e.groupKey,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},_s=[],gs={name:"Report03_1sm",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e=this.$store.state.filtersValues["date"][1].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a),this.$refs.table.fetchTableData({"report-3-datefield":this.$store.state.filtersValues.date[1],"report-3-roadchoice":this.$store.state.filtersValues["report-3-roadchoice"]})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_3_fr.json":"/ajax2.php?module=Report&method=rep_3fr&"+this.detailUrl)}},computed:{createExportUrl:function(){return"method=rep_3new_1_mn&report-3-datefield="+this.$store.state.filtersValues.date[1]+"&report-3-roadchoice="+this.$store.state.filtersValues["report-3-roadchoice"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: среднемесячное значение отчета ТО-32ВЦ по электровозам",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_3_1s.json",serverUrl:"/ajax2.php?module=Report&method=rep_3new_1_mn",tableType:"rep_03_1sm",groupSort:"GROUP",groupKey:"GROUP",detailHeaders:[{text:"№",value:"row_index",width:50},{text:"Локомотив",value:"sostavn",width:200},{text:"Дата/Время операции",value:"date_op",width:150},{text:"Операция",value:"naim_oper",width:120},{text:"Состояние",value:"naim_sost",width:120},{text:"Номер поезда",value:"nom_poezd",width:70},{text:"Индекс поезда",value:"index_poezd",width:120},{text:"Дислокация",value:"naim_object",width:180},{text:"Депо приписки",value:"naim_depo",width:180},{text:"Дорога приписки",value:"dor_prip",width:80},{text:"Преимущественный вид движения",value:"naim_vid_dv_pr",width:140}],headers:[{text:"Наименование депо",value:"NAIM_DEPO",width:250,fixedColumn:!0,rightBorder:!0,align:"start",border:!0,textMinify:"mini"},{text:"Серия",value:"NAME_GRUP_SER",alignHeader:"center",border:!0,width:60},{text:"Число секций\n(т.е.)",alignHeader:"center",value:"KOL_SEK",border:!0,width:60},{text:"Инвен.\nнали\n(к.е.)",alignHeader:"center",value:"KOL_INV",border:!0,width:55},{text:"Арен. на путях\nнеобщ. польз.\n(к.е.)",alignHeader:"center",value:"KOL3",border:!0,width:60},{text:"На\nконсервации\n(к.е.)",alignHeader:"center",border:!0,value:"KOL4",width:60},{text:"Всг. ЭП и НЭП\n(т.е.)",alignHeader:"center",border:!0,value:"KOL5",width:55},{text:"Эксплуатируемый парк",alignHeader:"center",children:[{text:"Всего(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN6",border:!0,width:50},{text:"Расчет\nV план",alignHeader:"center",textMinify:"mini",value:"norm_col",border:!0,width:70},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL7",width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA8",width:60}]},{text:"В т.ч. груз.движ.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",border:!0,value:"PLAN9",width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL10",width:50},{text:"+,- факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA11",width:60}]},{text:"Рабочий парк(т.е.)",alignHeader:"center",children:[{text:"в т.ч.груз.движ.вкл. передат.,вывоз,и подт.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN12",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL13",border:!0,width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA14",border:!0,width:52},{text:"в т.ч.ож.\nраб. на стан.\nс бриг.",alignHeader:"center",textMinify:"mini",value:"KOL48",border:!0,width:60}]},{text:"Пасс.вкл.приг.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN15",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL16",border:!0,width:50}]},{text:"Хоз. движ.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN17",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL18",border:!0,width:50}]},{text:"Спец.манев.работа",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN19",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL20",border:!0,width:50}]},{text:"Пр.ман.р.,\nпр.в.раб.",alignHeader:"center",textMinify:"mini",value:"KOL21",border:!0,width:60}]},{text:"Нерабочий парк (т.е.)",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL22",border:!0,width:55},{text:"Груз.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL23",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL24",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL25",border:!0,width:55},{text:"Простои",alignHeader:"center",children:[{text:"В ожид.\nраб.",alignHeader:"center",textMinify:"mini",value:"KOL26A",width:55},{text:"В опер.\nс лок. бриг.",alignHeader:"center",textMinify:"mini",value:"KOL49",width:55},{text:"В т.ч.\nболее 12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL27",width:55}]}]},{text:"Хоз/пасс./ман.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL28",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL29",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL30",border:!0,width:55},{text:"Ожид. раб.",alignHeader:"center",textMinify:"mini",value:"KOL45",border:!0,width:55},{text:"Простой\n>12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL46",border:!0,width:55}]}]},{text:"Резерв ЦД\n(т.е.)",alignHeader:"center",value:"KOL47",border:!0,width:50}]},{text:"НЭП(т.е.)",alignHeader:"center",children:[{text:"Всг. НЭП",alignHeader:"center",textMinify:"mini",value:"KOL31",border:!0,width:50},{text:"Резер ЦТ",alignHeader:"center",textMinify:"mini",value:"KOL32",border:!0,width:50},{text:"Деп.рем,ТО(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN33",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL34",border:!0,width:55},{text:"В т.ч. внеп.\nрем.",alignHeader:"center",textMinify:"mini",value:"KOL35",border:!0,width:55},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA36",width:55}]},{text:"Завод.рем.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN37",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL38",border:!0,width:55},{text:'В т.ч. факт\nОАО\n"ЖДРМ"',alignHeader:"center",textMinify:"mini",value:"KOL39",border:!0,width:65},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA40",border:!0,width:55},{text:"Рекламация",alignHeader:"center",textMinify:"mini",value:"KOL41",border:!0,width:55}]},{text:"Пересылка\nи техн. опер\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL42",border:!0,width:55},{text:"Ожид. искл.\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL43",border:!0,width:55}]}]}}},ys=gs,Ts=(a("a203"),Object(h["a"])(ys,bs,_s,!1,null,"48cbe2d3",null)),Hs=Ts.exports,ws=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"report-3-roadchoice",filterType:"select",inputWidth:"120px",labelText:"Дорога",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Сокращенный отчет ТО-32-ВЦ о наличии и состоянии парка магистральных локомотивов в грузовом"),a("br"),e._v("движении по их приписке для тепловозов. Среднемесячное значение за "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,hasDetail:!0,groupSort:e.groupSort,groupKey:e.groupKey,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},ks=[],Ds={name:"Report03_2sm",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e=this.$store.state.filtersValues["date"][1].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a),this.$refs.table.fetchTableData({"report-3-datefield":this.$store.state.filtersValues.date[1],"report-3-roadchoice":this.$store.state.filtersValues["report-3-roadchoice"]})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_3_fr.json":"/ajax2.php?module=Report&method=rep_3fr&"+this.detailUrl)}},computed:{createExportUrl:function(){return"method=rep_3new_2_mn&report-3-datefield="+this.$store.state.filtersValues.date[1]+"&report-3-roadchoice="+this.$store.state.filtersValues["report-3-roadchoice"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: среднемесячное значение отчета ТО-32ВЦ по тепловозам",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_3_1s.json",serverUrl:"/ajax2.php?module=Report&method=rep_3new_2_mn",tableType:"rep_03_2sm",groupSort:"GROUP",groupKey:"GROUP",detailHeaders:[{text:"№",value:"row_index",width:50},{text:"Локомотив",value:"sostavn",width:200},{text:"Дата/Время операции",value:"date_op",width:150},{text:"Операция",value:"naim_oper",width:120},{text:"Состояние",value:"naim_sost",width:120},{text:"Номер поезда",value:"nom_poezd",width:70},{text:"Индекс поезда",value:"index_poezd",width:120},{text:"Дислокация",value:"naim_object",width:180},{text:"Депо приписки",value:"naim_depo",width:180},{text:"Дорога приписки",value:"dor_prip",width:80},{text:"Преимущественный вид движения",value:"naim_vid_dv_pr",width:140}],headers:[{text:"Наименование депо",value:"NAIM_DEPO",width:250,fixedColumn:!0,rightBorder:!0,align:"start",border:!0,textMinify:"mini"},{text:"Серия",value:"NAME_GRUP_SER",alignHeader:"center",border:!0,width:60},{text:"Число секций\n(т.е.)",alignHeader:"center",value:"KOL_SEK",border:!0,width:60},{text:"Инвен.\nнали\n(к.е.)",alignHeader:"center",value:"KOL_INV",border:!0,width:55},{text:"Арен. на путях\nнеобщ. польз.\n(к.е.)",alignHeader:"center",value:"KOL3",border:!0,width:60},{text:"На\nконсервации\n(к.е.)",alignHeader:"center",border:!0,value:"KOL4",width:60},{text:"Всг. ЭП и НЭП\n(т.е.)",alignHeader:"center",border:!0,value:"KOL5",width:55},{text:"Эксплуатируемый парк",alignHeader:"center",children:[{text:"Всего(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN6",border:!0,width:50},{text:"Расчет\nV план",alignHeader:"center",textMinify:"mini",value:"norm_col",border:!0,width:70},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL7",width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA8",width:60}]},{text:"В т.ч. груз.движ.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",border:!0,value:"PLAN9",width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL10",width:50},{text:"+,- факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA11",width:60}]},{text:"Рабочий парк(т.е.)",alignHeader:"center",children:[{text:"в т.ч.груз.движ.вкл. передат.,вывоз,и подт.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN12",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL13",border:!0,width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA14",border:!0,width:52},{text:"в т.ч.ож.\nраб. на стан.\nс бриг.",alignHeader:"center",textMinify:"mini",value:"KOL48",border:!0,width:60}]},{text:"Пасс.вкл.приг.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN15",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL16",border:!0,width:50}]},{text:"Хоз. движ.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN17",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL18",border:!0,width:50}]},{text:"Спец.манев.работа",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN19",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL20",border:!0,width:50}]},{text:"Пр.ман.р.,\nпр.в.раб.",alignHeader:"center",textMinify:"mini",value:"KOL21",border:!0,width:60}]},{text:"Нерабочий парк (т.е.)",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL22",border:!0,width:55},{text:"Груз.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL23",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL24",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL25",border:!0,width:55},{text:"Простои",alignHeader:"center",children:[{text:"В ожид.\nраб.",alignHeader:"center",textMinify:"mini",value:"KOL26A",width:55},{text:"В опер.\nс лок. бриг.",alignHeader:"center",textMinify:"mini",value:"KOL49",width:55},{text:"В т.ч.\nболее 12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL27",width:55}]}]},{text:"Хоз/пасс./ман.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL28",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL29",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL30",border:!0,width:55},{text:"Ожид. раб.",alignHeader:"center",textMinify:"mini",value:"KOL45",border:!0,width:55},{text:"Простой\n>12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL46",border:!0,width:55}]}]},{text:"Резерв ЦД\n(т.е.)",alignHeader:"center",value:"KOL47",border:!0,width:50}]},{text:"НЭП(т.е.)",alignHeader:"center",children:[{text:"Всг. НЭП",alignHeader:"center",textMinify:"mini",value:"KOL31",border:!0,width:50},{text:"Резер ЦТ",alignHeader:"center",textMinify:"mini",value:"KOL32",border:!0,width:50},{text:"Деп.рем,ТО(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN33",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL34",border:!0,width:55},{text:"В т.ч. внеп.\nрем.",alignHeader:"center",textMinify:"mini",value:"KOL35",border:!0,width:55},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA36",width:55}]},{text:"Завод.рем.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN37",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL38",border:!0,width:55},{text:'В т.ч. факт\nОАО\n"ЖДРМ"',alignHeader:"center",textMinify:"mini",value:"KOL39",border:!0,width:65},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA40",border:!0,width:55},{text:"Рекламация",alignHeader:"center",textMinify:"mini",value:"KOL41",border:!0,width:55}]},{text:"Пересылка\nи техн. опер\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL42",border:!0,width:55},{text:"Ожид. искл.\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL43",border:!0,width:55}]}]}}},$s=Ds,Vs=(a("a93f"),Object(h["a"])($s,ws,ks,!1,null,"3b508e32",null)),Ms=Vs.exports,Cs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"report-3-roadchoice",filterType:"select",inputWidth:"120px",labelText:"Дорога",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Сокращенный отчет ТО-32-ВЦ о наличии и состоянии парка магистральных локомотивов в грузовом"),a("br"),e._v("движении по их приписке для электровозов. Средсуточное значение за "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,hasDetail:!0,groupSort:e.groupSort,groupKey:e.groupKey,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Us=[],Fs={name:"Report03_1sr",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e=this.$store.state.filtersValues["date"][1].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a),this.$refs.table.fetchTableData({"report-3-datefield":this.$store.state.filtersValues.date[1],"report-3-roadchoice":this.$store.state.filtersValues["report-3-roadchoice"]})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_3_fr.json":"/ajax2.php?module=Report&method=rep_3fr&"+this.detailUrl)}},computed:{createExportUrl:function(){return"method=rep_3new_1_day&report-3-datefield="+this.$store.state.filtersValues.date[1]+"&report-3-roadchoice="+this.$store.state.filtersValues["report-3-roadchoice"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: среднесуточное значение отчета ТО-32ВЦ по электровозам",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_3_1s.json",serverUrl:"/ajax2.php?module=Report&method=rep_3new_1_day",tableType:"rep_03_1sr",groupSort:"GROUP",groupKey:"GROUP",detailHeaders:[{text:"№",value:"row_index",width:50},{text:"Локомотив",value:"sostavn",width:200},{text:"Дата/Время операции",value:"date_op",width:150},{text:"Операция",value:"naim_oper",width:120},{text:"Состояние",value:"naim_sost",width:120},{text:"Номер поезда",value:"nom_poezd",width:70},{text:"Индекс поезда",value:"index_poezd",width:120},{text:"Дислокация",value:"naim_object",width:180},{text:"Депо приписки",value:"naim_depo",width:180},{text:"Дорога приписки",value:"dor_prip",width:80},{text:"Преимущественный вид движения",value:"naim_vid_dv_pr",width:140}],headers:[{text:"Наименование депо",value:"NAIM_DEPO",width:250,fixedColumn:!0,rightBorder:!0,align:"start",border:!0,textMinify:"mini"},{text:"Серия",value:"NAME_GRUP_SER",alignHeader:"center",border:!0,width:60},{text:"Число секций\n(т.е.)",alignHeader:"center",value:"KOL_SEK",border:!0,width:60},{text:"Инвен.\nнали\n(к.е.)",alignHeader:"center",value:"KOL_INV",border:!0,width:55},{text:"Арен. на путях\nнеобщ. польз.\n(к.е.)",alignHeader:"center",value:"KOL3",border:!0,width:60},{text:"На\nконсервации\n(к.е.)",alignHeader:"center",border:!0,value:"KOL4",width:60},{text:"Всг. ЭП и НЭП\n(т.е.)",alignHeader:"center",border:!0,value:"KOL5",width:55},{text:"Эксплуатируемый парк",alignHeader:"center",children:[{text:"Всего(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN6",border:!0,width:50},{text:"Расчет\nV план",alignHeader:"center",textMinify:"mini",value:"norm_col",border:!0,width:70},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL7",width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA8",width:60}]},{text:"В т.ч. груз.движ.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",border:!0,value:"PLAN9",width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL10",width:50},{text:"+,- факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA11",width:60}]},{text:"Рабочий парк(т.е.)",alignHeader:"center",children:[{text:"в т.ч.груз.движ.вкл. передат.,вывоз,и подт.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN12",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL13",border:!0,width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA14",border:!0,width:52},{text:"в т.ч.ож.\nраб. на стан.\nс бриг.",alignHeader:"center",textMinify:"mini",value:"KOL48",border:!0,width:60}]},{text:"Пасс.вкл.приг.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN15",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL16",border:!0,width:50}]},{text:"Хоз. движ.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN17",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL18",border:!0,width:50}]},{text:"Спец.манев.работа",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN19",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL20",border:!0,width:50}]},{text:"Пр.ман.р.,\nпр.в.раб.",alignHeader:"center",textMinify:"mini",value:"KOL21",border:!0,width:60}]},{text:"Нерабочий парк (т.е.)",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL22",border:!0,width:55},{text:"Груз.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL23",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL24",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL25",border:!0,width:55},{text:"Простои",alignHeader:"center",children:[{text:"В ожид.\nраб.",alignHeader:"center",textMinify:"mini",value:"KOL26A",width:55},{text:"В опер.\nс лок. бриг.",alignHeader:"center",textMinify:"mini",value:"KOL49",width:55},{text:"В т.ч.\nболее 12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL27",width:55}]}]},{text:"Хоз/пасс./ман.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL28",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL29",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL30",border:!0,width:55},{text:"Ожид. раб.",alignHeader:"center",textMinify:"mini",value:"KOL45",border:!0,width:55},{text:"Простой\n>12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL46",border:!0,width:55}]}]},{text:"Резерв ЦД\n(т.е.)",alignHeader:"center",value:"KOL47",border:!0,width:50}]},{text:"НЭП(т.е.)",alignHeader:"center",children:[{text:"Всг. НЭП",alignHeader:"center",textMinify:"mini",value:"KOL31",border:!0,width:50},{text:"Резер ЦТ",alignHeader:"center",textMinify:"mini",value:"KOL32",border:!0,width:50},{text:"Деп.рем,ТО(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN33",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL34",border:!0,width:55},{text:"В т.ч. внеп.\nрем.",alignHeader:"center",textMinify:"mini",value:"KOL35",border:!0,width:55},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA36",width:55}]},{text:"Завод.рем.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN37",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL38",border:!0,width:55},{text:'В т.ч. факт\nОАО\n"ЖДРМ"',alignHeader:"center",textMinify:"mini",value:"KOL39",border:!0,width:65},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA40",border:!0,width:55},{text:"Рекламация",alignHeader:"center",textMinify:"mini",value:"KOL41",border:!0,width:55}]},{text:"Пересылка\nи техн. опер\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL42",border:!0,width:55},{text:"Ожид. искл.\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL43",border:!0,width:55}]}]}}},Ls=Fs,Os=(a("617f"),Object(h["a"])(Ls,Cs,Us,!1,null,"1e3cc839",null)),js=Os.exports,Rs=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"report-3-roadchoice",filterType:"select",inputWidth:"120px",labelText:"Дорога",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Сокращенный отчет ТО-32-ВЦ о наличии и состоянии парка магистральных локомотивов в грузовом"),a("br"),e._v("движении по их приписке для тепловозов. Средсуточное значение за "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,hasDetail:!0,groupSort:e.groupSort,groupKey:e.groupKey,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Ns=[],Ss={name:"Report03_2sr",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr},created:function(){this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){var e=this.$store.state.filtersValues["date"][1].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a),this.$refs.table.fetchTableData({"report-3-datefield":this.$store.state.filtersValues.date[1],"report-3-roadchoice":this.$store.state.filtersValues["report-3-roadchoice"]})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_3_fr.json":"/ajax2.php?module=Report&method=rep_3fr&"+this.detailUrl)}},computed:{createExportUrl:function(){return"method=rep_3new_2_day&report-3-datefield="+this.$store.state.filtersValues.date[1]+"&report-3-roadchoice="+this.$store.state.filtersValues["report-3-roadchoice"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: среднесуточное значение отчета ТО-32ВЦ по тепловозам",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_3_1s.json",serverUrl:"/ajax2.php?module=Report&method=rep_3new_2_day",tableType:"rep_03_2sr",groupSort:"GROUP",groupKey:"GROUP",detailHeaders:[{text:"№",value:"row_index",width:50},{text:"Локомотив",value:"sostavn",width:200},{text:"Дата/Время операции",value:"date_op",width:150},{text:"Операция",value:"naim_oper",width:120},{text:"Состояние",value:"naim_sost",width:120},{text:"Номер поезда",value:"nom_poezd",width:70},{text:"Индекс поезда",value:"index_poezd",width:120},{text:"Дислокация",value:"naim_object",width:180},{text:"Депо приписки",value:"naim_depo",width:180},{text:"Дорога приписки",value:"dor_prip",width:80},{text:"Преимущественный вид движения",value:"naim_vid_dv_pr",width:140}],headers:[{text:"Наименование депо",value:"NAIM_DEPO",width:250,fixedColumn:!0,rightBorder:!0,align:"start",border:!0,textMinify:"mini"},{text:"Серия",value:"NAME_GRUP_SER",alignHeader:"center",border:!0,width:60},{text:"Число секций\n(т.е.)",alignHeader:"center",value:"KOL_SEK",border:!0,width:60},{text:"Инвен.\nнали\n(к.е.)",alignHeader:"center",value:"KOL_INV",border:!0,width:55},{text:"Арен. на путях\nнеобщ. польз.\n(к.е.)",alignHeader:"center",value:"KOL3",border:!0,width:60},{text:"На\nконсервации\n(к.е.)",alignHeader:"center",border:!0,value:"KOL4",width:60},{text:"Всг. ЭП и НЭП\n(т.е.)",alignHeader:"center",border:!0,value:"KOL5",width:55},{text:"Эксплуатируемый парк",alignHeader:"center",children:[{text:"Всего(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN6",border:!0,width:50},{text:"Расчет\nV план",alignHeader:"center",textMinify:"mini",value:"norm_col",border:!0,width:70},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL7",width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA8",width:60}]},{text:"В т.ч. груз.движ.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",border:!0,value:"PLAN9",width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",border:!0,value:"KOL10",width:50},{text:"+,- факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA11",width:60}]},{text:"Рабочий парк(т.е.)",alignHeader:"center",children:[{text:"в т.ч.груз.движ.вкл. передат.,вывоз,и подт.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN12",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL13",border:!0,width:50},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA14",border:!0,width:52},{text:"в т.ч.ож.\nраб. на стан.\nс бриг.",alignHeader:"center",textMinify:"mini",value:"KOL48",border:!0,width:60}]},{text:"Пасс.вкл.приг.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN15",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL16",border:!0,width:50}]},{text:"Хоз. движ.",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN17",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL18",border:!0,width:50}]},{text:"Спец.манев.работа",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN19",border:!0,width:50},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL20",border:!0,width:50}]},{text:"Пр.ман.р.,\nпр.в.раб.",alignHeader:"center",textMinify:"mini",value:"KOL21",border:!0,width:60}]},{text:"Нерабочий парк (т.е.)",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL22",border:!0,width:55},{text:"Груз.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL23",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL24",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL25",border:!0,width:55},{text:"Простои",alignHeader:"center",children:[{text:"В ожид.\nраб.",alignHeader:"center",textMinify:"mini",value:"KOL26A",width:55},{text:"В опер.\nс лок. бриг.",alignHeader:"center",textMinify:"mini",value:"KOL49",width:55},{text:"В т.ч.\nболее 12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL27",width:55}]}]},{text:"Хоз/пасс./ман.",alignHeader:"center",children:[{text:"ТО-2 / экипир.",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",textMinify:"mini",value:"KOL28",width:55},{text:"В т.ч.ожид.",alignHeader:"center",textMinify:"mini",value:"KOL29",width:55}]},{text:"Перемещ.",alignHeader:"center",textMinify:"mini",value:"KOL30",border:!0,width:55},{text:"Ожид. раб.",alignHeader:"center",textMinify:"mini",value:"KOL45",border:!0,width:55},{text:"Простой\n>12 ч.",alignHeader:"center",textMinify:"mini",value:"KOL46",border:!0,width:55}]}]},{text:"Резерв ЦД\n(т.е.)",alignHeader:"center",value:"KOL47",border:!0,width:50}]},{text:"НЭП(т.е.)",alignHeader:"center",children:[{text:"Всг. НЭП",alignHeader:"center",textMinify:"mini",value:"KOL31",border:!0,width:50},{text:"Резер ЦТ",alignHeader:"center",textMinify:"mini",value:"KOL32",border:!0,width:50},{text:"Деп.рем,ТО(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN33",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL34",border:!0,width:55},{text:"В т.ч. внеп.\nрем.",alignHeader:"center",textMinify:"mini",value:"KOL35",border:!0,width:55},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",border:!0,value:"DELTA36",width:55}]},{text:"Завод.рем.(т.е.)",alignHeader:"center",children:[{text:"План",alignHeader:"center",textMinify:"mini",value:"PLAN37",border:!0,width:55},{text:"Факт",alignHeader:"center",textMinify:"mini",value:"KOL38",border:!0,width:55},{text:'В т.ч. факт\nОАО\n"ЖДРМ"',alignHeader:"center",textMinify:"mini",value:"KOL39",border:!0,width:65},{text:"+,-факт\nк плану",alignHeader:"center",textMinify:"mini",value:"DELTA40",border:!0,width:55},{text:"Рекламация",alignHeader:"center",textMinify:"mini",value:"KOL41",border:!0,width:55}]},{text:"Пересылка\nи техн. опер\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL42",border:!0,width:55},{text:"Ожид. искл.\n(т.е.)",alignHeader:"center",textMinify:"mini",value:"KOL43",border:!0,width:55}]}]}}},Es=Ss,Ps=(a("c5fc"),Object(h["a"])(Es,Rs,Ns,!1,null,"757033be",null)),As=Ps.exports,Ks=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{ref:"filters",attrs:{filters:[{filterName:"report-filter-datetime",filterType:"date",labelText:"Дата"},{filterName:"type_rep_6",filterType:"select",inputWidth:"120px",labelText:"Срез",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"6:00"},{id:1,name:"18:00"}]},{filterName:"with_depot",filterType:"checkbox",labelText:"Обороты по локомотивам, заходившим в депо"},{filterName:"with_reg",filterType:"checkbox",labelText:"Обороты локомотивов, с поосным регулированием"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:0}}),a("div",{staticClass:"table-container"},[a("Svg_report",{ref:"svg_report",attrs:{url:e.getUrl},on:{setDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Bs=[],Is=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"table",class:{"slide-leave slide-enter-active":this.$store.state.sheet&&e.hasDetail,"slide-leave-to slide-leave-active":!this.$store.state.sheet&&e.hasDetail},attrs:{id:"table",elevation:"0"}},[a("div",{attrs:{id:"svg"}}),e.progress?a("v-progress-circular",{staticClass:"progress-circle",attrs:{indeterminate:"",color:"#00194D"}}):e._e(),a("v-dialog",{attrs:{width:"450",persistent:""},model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{height:"80",elevation:"0"}},[e._v(" Схема обновлена "),a("v-btn",{staticClass:"close-dialog",attrs:{color:"#D2DAE7",icon:"",ripple:!1,absolute:""},on:{click:function(t){e.dialog=!1}}},[a("v-icon",[e._v("mdi-close")])],1)],1),a("v-card-actions",{staticClass:"justify-center"},[a("v-btn",{staticClass:"close",attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){e.dialog=!1}}},[e._v("OK")])],1)],1)],1)],1)},zs=[],Ws=a("898b"),Gs=(a("883e"),{name:"Svg_report",props:["hasDetail","url"],data:function(){return{windowSize:{x:0,y:0},dialog:!1,progress:!1,defaultUrl:"/server/fakeReports_06_diagram_points.json",dx:200,dy:150,styleFontHead:16,styleFontStation:12,styleTableFontSize:12,styleTableFontSizeIns:12,styleColorHead:"#00194D",styleColorStation:"#00194D",styleColorPoint:"#EE3129",styleColorLine:"#EE3129",styleControlLine:"#4D6C99",styleColorRect:"#32AFA5",styleBackgroundColorRect:"#FDFFEA",styleColorRectBetween:"blue",styleBackgroundColorRectBetween:"#F4FFFE"}},computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:"/arm-isujt"+this.defaultUrl}},methods:{formatDate:function(e){var t=e.split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2];return"".concat(n,".").concat(i,".").concat(r)},onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},fetchData:function(){var e=this;this.progress=!0,o.a.get(this.url).then((function(t){var a={};t.data.svg1&&(a.svg1=t.data.svg1),t.data.svg2&&(a.svg2=t.data.svg2),e.progress=!1,e.dialog=!0;var r={};r.svg1=e.parsingData(a.svg1),r.svg2=e.parsingData(a.svg2),e.clear();var i=3258,n=2115;Ws["c"]("#svg").append("svg").attr("width",i).attr("height",n);var l=e.dx,s=e.dy;e.text({style:"font: "+e.styleFontHead+"px FSRAILBook;",fill:e.styleColorHead,"text-anchor":"start",x:l-160,y:-120+s},"Нормативное время нахождения локомотивов на участках Восточного полигона на "),e.text({style:"font: "+e.styleFontHead+"px FSRAILBold;",fill:e.styleColorHead,"text-anchor":"start",x:490+l,y:-120+s},(e.$store.state.filtersValues["type_rep_6"]?"18:00 ":"6:00 ")+e.formatDate(e.$store.state.filtersValues.date[1])),e.line({stroke:e.styleControlLine,"stroke-width":"2",x1:l-160,y1:927+s,x2:3e3+l,y2:927+s}),e.text({style:"font: "+e.styleFontHead+"px FSRAILBook;",fill:e.styleColorHead,"text-anchor":"start",x:l-160,y:954+s},"Нормативное время нахождения тепловозов на участках северного хода  ДВЖД на "),e.text({style:"font: "+e.styleFontHead+"px FSRAILBold;",fill:e.styleColorHead,"text-anchor":"start",x:480+l,y:954+s},(e.$store.state.filtersValues["type_rep_6"]?"18:00 ":"6:00 ")+e.formatDate(e.$store.state.filtersValues.date[1])),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:536+l,y1:-73+s,x2:536+l,y2:647+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1106+l,y1:-73+s,x2:1106+l,y2:647+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1435+l,y1:-73+s,x2:1435+l,y2:647+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:2203+l,y1:-73+s,x2:2203+l,y2:647+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:2487+l,y1:-73+s,x2:2487+l,y2:647+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:192+l,y1:1006+s,x2:192+l,y2:1826+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1247+l,y1:1006+s,x2:1247+l,y2:1480+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1822+l,y1:1006+s,x2:1822+l,y2:1480+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:133+l,y1:141+s,x2:90+l,y2:141+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:133+l,y1:376+s,x2:90+l,y2:376+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:836+l,y1:155+s,x2:836+l,y2:100+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:883+l,y1:239+s,x2:883+l,y2:290+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1436+l,y1:239+s,x2:1346+l,y2:320+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1632+l,y1:249+s,x2:1632+l,y2:300+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1921+l,y1:249+s,x2:1921+l,y2:300+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:2487+l,y1:239+s,x2:2560+l,y2:190+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:2655+l,y1:397+s,x2:2710+l,y2:397+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:2546+l,y1:560+s,x2:2546+l,y2:610+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:704+l,y1:1723+s,x2:704+l,y2:1823+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1291+l,y1:1695+s,x2:1291+l,y2:1823+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:1864+l,y1:1695+s,x2:1864+l,y2:1823+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:2097+l,y1:1496+s,x2:2097+l,y2:1600+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:2553+l,y1:1496+s,x2:2553+l,y2:1600+s}),e.line({stroke:"#4D6C99",opacity:.3,"stroke-width":"2","stroke-dasharray":"5, 5",x1:l-85,y1:1496+s,x2:l-85,y2:1600+s});var d=Ws["b"]().curve(Ws["a"]),c=Ws["c"]("#svg svg"),u=[];u=[[860,1636],[960,1655],[962,1763]],c.append("path").attr("d",d(u)).attr("opacity",.3).attr("stroke","#4D6C99").attr("stroke-width","2").attr("stroke-dasharray","5 5").attr("fill","none"),u=[[1447,1636],[1547,1655],[1549,1763]],c.append("path").attr("d",d(u)).attr("opacity",.3).attr("stroke","#4D6C99").attr("stroke-width","2").attr("stroke-dasharray","5 5").attr("fill","none"),u=[[2022,1636],[2122,1655],[2124,1763]],c.append("path").attr("d",d(u)).attr("opacity",.3).attr("stroke","#4D6C99").attr("stroke-width","2").attr("stroke-dasharray","5 5").attr("fill","none"),o.a.get(e.getUrl).then((function(t){var i=t.data,n=Ws["b"]().curve(Ws["a"]),o=Ws["c"]("#svg svg"),d=[];for(var c in i){var u=i[c],p=null;for(var h in u){if("92000_80"!==u[h]["esr"]&&"89020"!==u[h]["esr"]&&e.circle({fill:e.styleColorPoint,r:5,cx:u[h]["cx"]+l+(u[h]["adX"]||0),cy:u[h]["cy"]+s+(u[h]["adY"]||0)}),"line"===u[h]["line"])if(null==p)console.log("Svg_report06.draw: невозможно нарисовать линию, т.к. не установлена начальная точка.");else if("90440"===u[h]["esr"])d=[[737,396],[760,340],[830,320],[1036,300]],o.append("path").attr("d",n(d)).attr("stroke",e.styleColorLine).attr("stroke-width","2").attr("fill","none");else if("94470"===u[h]["esr"])d=[[1636,389],[1656,400],[1666,450],[1676,639]],o.append("path").attr("d",n(d)).attr("stroke",e.styleColorLine).attr("stroke-width","2").attr("fill","none");else if("98280"===u[h]["esr"])d=[[2687,389],[2750,395],[2797,450],[2846,521],[2855,547]],o.append("path").attr("d",n(d)).attr("stroke",e.styleColorLine).attr("stroke-width","2").attr("fill","none");else if("98590"===u[h]["esr"])d=[[2855,547],[2840,580],[2746,704]],o.append("path").attr("d",n(d)).attr("stroke",e.styleColorLine).attr("stroke-width","2").attr("fill","none");else if("91140"===u[h]["esr"])d=[[860,1636],[902,1587],[904,1369]],o.append("path").attr("d",n(d)).attr("stroke",e.styleColorLine).attr("stroke-width","2").attr("fill","none");else if("96160"===u[h]["esr"])d=[[1447,1636],[1489,1679],[1491,1838]],o.append("path").attr("d",n(d)).attr("stroke",e.styleColorLine).attr("stroke-width","2").attr("fill","none");else if("96380"===u[h]["esr"])d=[[2022,1636],[2064,1679],[2066,1838]],o.append("path").attr("d",n(d)).attr("stroke",e.styleColorLine).attr("stroke-width","2").attr("fill","none");else if("95170"===u[h]["esr"])"svg2"===c?(d=[[860,1636],[902,1679],[904,1863]],o.append("path").attr("d",n(d)).attr("stroke",e.styleColorLine).attr("stroke-width","2").attr("fill","none")):e.line({stroke:e.styleColorLine,"stroke-width":"2",x1:p["cx"]+l,y1:p["cy"]+s,x2:u[h]["cx"]+l+(u[h]["adX"]||0),y2:u[h]["cy"]+s+(u[h]["adY"]||0)});else{var f=p["cx"]+l;"90460"===u[h]["esr"]&&(f=115),e.line({stroke:e.styleColorLine,"stroke-width":"2",x1:f,y1:p["cy"]+s,x2:u[h]["cx"]+l+(u[h]["adX"]||0),y2:u[h]["cy"]+s+(u[h]["adY"]||0)})}"point"===u[h]["point"]&&(p=u[h]);var m={x:0,y:0};"Междуреченск"===u[h]["text"]&&(m.y=25),e.text({style:"font: "+e.styleFontStation+"px FSRAILBook;",fill:e.styleColorStation,"text-anchor":"start",x:u[h]["cx"]+l+8+m.x,y:u[h]["cy"]+s-10+m.y},u[h]["text"])}}var x="",v="",b="",_="",g="",y="",T="",H="",w="",k="",D="";for(var $ in i){var V=i[$],M=null,C=null;for(var U in V){if(x="",v="",b="",_="",g="",y="",T="",H="",w="",k="",D="",V[U]["esr"]&&a[$]&&a[$][V[U]["esr"]]&&(a[$][V[U]["esr"]]["rezCD"]&&(x=a[$][V[U]["esr"]]["rezCD"]),a[$][V[U]["esr"]]["norm"]&&(v=a[$][V[U]["esr"]]["norm"]),a[$][V[U]["esr"]]["fact"]&&(b=a[$][V[U]["esr"]]["fact"]),a[$][V[U]["esr"]]["avg"]&&(_=a[$][V[U]["esr"]]["avg"]),a[$][V[U]["esr"]]["count_loco"]&&(x=a[$][V[U]["esr"]]["count_loco"]),a[$][V[U]["esr"]]["rezCD_request"]&&(g=a[$][V[U]["esr"]]["rezCD_request"]),a[$][V[U]["esr"]]["norm_request"]&&(w=a[$][V[U]["esr"]]["norm_request"]),a[$][V[U]["esr"]]["fact_request"]&&(k=a[$][V[U]["esr"]]["fact_request"]),a[$][V[U]["esr"]]["avg_request"]&&(D=a[$][V[U]["esr"]]["avg_request"]),a[$][V[U]["esr"]]["count_loco"]instanceof Object&&(a[$][V[U]["esr"]]["count_loco"]["rezCD_request"]&&(y=a[$][V[U]["esr"]]["count_loco"]["rezCD_request"]),a[$][V[U]["esr"]]["count_loco"]["ep_request"]&&(T=a[$][V[U]["esr"]]["count_loco"]["ep_request"]),a[$][V[U]["esr"]]["count_loco"]["nep_request"]&&(H=a[$][V[U]["esr"]]["count_loco"]["nep_request"]))),V[U]["table"]){var F=V[U]["table"];F.x=F.dx+V[U]["cx"],F.y=F.dy+V[U]["cy"],F.cx=V[U]["cx"],F.cy=V[U]["cy"],F.typeLine="table",e.table({rect:F,fontSize:e.styleTableFontSize,fontSizeIns:e.styleTableFontSizeIns,colorLine:"#F5F5B4",backgroundColor:e.styleBackgroundColorRect,dx:l,dy:s,text1:x,text2:v,text3:b,text4:_,request1:g,request2:w,request3:k,request4:D})}if(null==M)console.log("Svg_report06.draw: невозможно нарисовать таблицу midtable, т.к. не установлена начальная точка.");else if(V[U]["midtable"]){var L=V[U]["midtable"];for(var O in L){v="",b="",_="",V[U]["esr"]&&r[$][V[U]["esr"]]&&r[$][V[U]["esr"]][O]&&(v=r[$][V[U]["esr"]][O]["norm"],b=r[$][V[U]["esr"]][O]["fact"],_=r[$][V[U]["esr"]][O]["avg"]);var j=L[O];j.x=j.dx+V[U]["cx"],j.y=j.dy+V[U]["cy"],j.cx=(V[U]["cx"]+M["cx"])/2,j.cy=(V[U]["cy"]+M["cy"])/2,j.typeLine="midtable",e.table({rect:j,fontSize:e.styleTableFontSize,fontSizeIns:e.styleTableFontSizeIns,colorLine:e.styleColorRect,backgroundColor:e.styleBackgroundColorRectBetween,dx:l,dy:s,text1:j.titletext,text2:v,text3:b,text4:_})}}"point"===V[U]["point"]&&(M=V[U]),C=V[U]}console.log(C),console.log(y),console.log(T),console.log(H)}}))}))},parsingData:function(e){var t={};if(e){var a=[];for(var r in e)a=r.split("-"),2===a.length&&(t[a[1]]||(t[a[1]]={}),t[a[1]][a[0]]={},t[a[1]][a[0]]={name:e[r]["name"],norm:e[r]["norm"],fact:e[r]["fact"],avg:e[r]["avg"]})}return t},clear:function(){var e="#svg";Ws["c"](e).selectAll("svg").remove(),Ws["c"](e+"Number").selectAll("svg").remove(),Ws["c"](e+"Time").selectAll("svg").remove()},line:function(e){var t=Ws["c"]("#svg svg"),a=t.append("line");for(var r in e)a.attr([r],e[r])},circle:function(e){var t=Ws["c"]("#svg svg"),a=t.append("circle");for(var r in e)a.attr([r],e[r])},text:function(e,t){var a=Ws["c"]("#svg svg"),r=a.append("text").text(t);for(var i in e)r.attr([i],e[i])},table:function(e){var t=this,a=e.rect,r=e.fontSize,i=e.fontSizeIns,n=e.colorLine,l="#D2DAE7",s=25,o=e.backgroundColor,d=e.dx,c=e.dy,u=e.text1,p=e.text2,h=e.text3,f=e.text4,m=e.request1,x=e.request2,v=e.request3,b=e.request4,_=Ws["c"]("#svg svg");if(a){r||(r=10),i||(i=r),n||(n="black"),o||(o="white"),d||(d=0),c||(c=0),u||(u=""),p||(p=""),h||(h=""),f||(f="");var g="",y={};if(_.append("rect").attr("id","myTable").attr("stroke",n).attr("stroke-width","1").attr("fill",o).attr("x",a["x"]+d).attr("y",a["y"]+c).attr("rx","5").attr("width",a["width"]).attr("height",a["height"]),"cols3"===a.type){var T=a["width"]/3,H=a["height"]/4;_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+d+s).attr("y1",a["y"]+H+c+10).attr("x2",a["x"]+3*T+d-s).attr("y2",a["y"]+H+c+10),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+T+d).attr("y1",a["y"]+2*H+c-5).attr("x2",a["x"]+3*T+d-s).attr("y2",a["y"]+2*H+c-5),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+d+s).attr("y1",a["y"]+3*H+c-21).attr("x2",a["x"]+3*T+d-s).attr("y2",a["y"]+3*H+c-21),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+d+s).attr("y1",a["y"]+3*H+c+3).attr("x2",a["x"]+3*T+d-s).attr("y2",a["y"]+3*H+c+3),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+T+d).attr("y1",a["y"]+H+c+10).attr("x2",a["x"]+T+d).attr("y2",a["y"]+3*H+c-19),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+2*T+d).attr("y1",a["y"]+c+23).attr("x2",a["x"]+2*T+d).attr("y2",a["y"]+4*H+c-37),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","start").attr("x",a["x"]+2*T/2+d-58).attr("y",a["y"]+H/2+c+r/3+17).attr("fill",this.styleColorHead).text("Наличие лок (рез ЦД)"),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+3*T/2+d-27).attr("y",a["y"]+3*H/2+c+r/3+2).attr("fill",this.styleColorHead).text("норма"),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+3*T/2+d-27).attr("y",a["y"]+5*H/2+c-10).attr("fill",this.styleColorHead).text("факт"),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+T/2+d-17).attr("y",a["y"]+6*H/2+c-5).attr("fill",this.styleColorHead).text("ср.суточный оборот"),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+T/2+d-17).attr("y",a["y"]+3*H/2+c+r/3+1).attr("fill",this.styleColorHead).text("общий"),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+T/2+d-17).attr("y",a["y"]+4*H/2+c+r/3-5).attr("fill",this.styleColorHead).text("оборот"),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+T/2+d-17).attr("y",a["y"]+5*H/2+c+r/3-13).attr("fill",this.styleColorHead).text("станции"),g="fill:#00194D;",m&&(g="fill:#1056EB; cursor:pointer;"),u instanceof Object?(u.ep_request&&(g="fill:#1056EB; cursor:pointer;"),y.text1_2=_.append("text").attr("class","textsvg_loco_ep").attr("style",g+"font: "+i+"px FSRAILBook;").attr("text-anchor","middle").attr("x",a["x"]+4*T/2+d+18).attr("y",a["y"]+H+c+i/3-3).on("click",(function(){u.ep_request&&t.$emit("setDetail","rep6Det",u.ep_request)})).text(u.ep),g="fill:#00194D;",u.nep_request&&(g="fill:#1056EB; cursor:pointer;"),y.text1_3=_.append("text").attr("class","textsvg_loco_nep").attr("style",g+"font: "+i+"px FSRAILBook;").attr("text-anchor","middle").attr("x",a["x"]+5*T/2+d-6).attr("y",a["y"]+H+c+i/3-3).on("click",(function(){u.nep_request&&t.$emit("setDetail","rep6Det",u.nep_request)})).text(u.nep),g="fill:#00194D;",u.rezCD_request&&(g="fill:#1056EB; cursor:pointer;"),y.text1_1=_.append("text").attr("class","textsvg_loco_rezCD").attr("style",g+"font: "+i+"px FSRAILBook;").attr("text-anchor","middle").attr("x",a["x"]+5*T/2+d+10).attr("y",a["y"]+H+c+i/3-3).on("click",(function(){u.rezCD_request&&t.$emit("setDetail","rep6Det",u.rezCD_request)})).text(u.rezCD),g="fill:#00194D;"):y.text1=_.append("text").attr("class","textsvg_rezCD").attr("style",g+"font: "+i+"px FSRAILBook;").attr("text-anchor","middle").attr("x",a["x"]+5*T/2+d-18).attr("y",a["y"]+H+c+i/3-3).text(u),g="fill:#00194D;",x&&(g="fill:#1056EB;  cursor:pointer;"),y.text2=_.append("text").attr("class","textsvg_norm").attr("style",g+"font: "+i+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+4*T/2+d+14).attr("y",a["y"]+3*H/2+c+i/3+2).on("click",(function(){x&&t.$emit("setDetail","rep6Det",x)})).text(p),g="fill:#00194D;",v&&(g="fill:#1056EB;  cursor:pointer;"),y.text3=_.append("text").attr("class","textsvg_fact").attr("style",g+"font: "+i+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+4*T/2+d+14).attr("y",a["y"]+4*H/2+c+i/3+6).on("click",(function(){v&&t.$emit("setDetail","rep10Det",v)})).text(h),g="fill:#00194D;",b&&(g="fill:#1056EB; cursor:pointer;"),y.text4=_.append("text").attr("class","textsvg_avg").attr("style",g+"font: "+i+"px FSRAILBook;").attr("text-anchor","start").attr("x",a["x"]+4*T/2+d+14).attr("y",a["y"]+5*H/2+c+i/3+11).on("click",(function(){b&&t.$emit("setDetail","rep6Det",b)})).text(f)}else if("cols2"===a.type){var w=a["width"]/2,k=a["height"]/5;_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+d+22).attr("y1",a["y"]+2*k+c).attr("x2",a["x"]+2*w+d-22).attr("y2",a["y"]+2*k+c),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+d+22).attr("y1",a["y"]+3*k+c-11).attr("x2",a["x"]+2*w+d-22).attr("y2",a["y"]+3*k+c-11),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+d+22).attr("y1",a["y"]+3*k+c+10).attr("x2",a["x"]+2*w+d-22).attr("y2",a["y"]+3*k+c+10),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+d+22).attr("y1",a["y"]+4*k+c).attr("x2",a["x"]+2*w+d-22).attr("y2",a["y"]+4*k+c),_.append("line").attr("stroke",l).attr("stroke-width","1").attr("x1",a["x"]+w+d).attr("y1",a["y"]+2*k+c).attr("x2",a["x"]+w+d).attr("y2",a["y"]+5*k+c-33),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","middle").attr("x",a["x"]+2*w/2+d).attr("y",a["y"]+k/2+c+r/3).text("оборот лок."),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","start").attr("x",a["x"]+w/3+d-5).attr("y",a["y"]+5*k/2+c+r/3-5).text("норма"),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","start").attr("x",a["x"]+w/3+d-5).attr("y",a["y"]+6*k/2+c+r/3+1).text("факт"),_.append("text").attr("style","font: "+r+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","start").attr("x",a["x"]+w/3+d-5).attr("y",a["y"]+7*k/2+c+r/3+6).text("ср.суточ."),y.text1=_.append("text").attr("style","font: "+i+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","middle").attr("x",a["x"]+2*w/2+d).attr("y",a["y"]+3*k/2+c+i/3).text(u),y.text2=_.append("text").attr("style","font: "+i+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","start").attr("x",a["x"]+2*w/2+d+16).attr("y",a["y"]+5*k/2+c+r/3-5).text(p),y.text3=_.append("text").attr("style","font: "+i+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","start").attr("x",a["x"]+2*w/2+d+16).attr("y",a["y"]+6*k/2+c+r/3+1).text(h),y.text4=_.append("text").attr("style","font: "+i+"px FSRAILBook;").attr("fill",this.styleColorHead).attr("text-anchor","start").attr("x",a["x"]+2*w/2+d+16).attr("y",a["y"]+7*k/2+c+r/3+6).text(f)}else console.log("Svg.table: не определен тип таблицы. Невозможно построить таблицу.");if(a.extens_line){var D=0,$=0;a.width+a.dx>=0&&a.height+a.dy>=0?(D=a.x,$=a.y):a.width+a.dx>=0&&a.height+a.dy<0?(D=a.x,$=a.y+a.height):a.width+a.dx<0&&a.height+a.dy>=0?(D=a.x+a.width,$=a.y):a.width+a.dx<0&&a.height+a.dy<0&&(D=a.x+a.width,$=a.y+a.height),_.append("line").attr("stroke",n).attr("stroke-width","1").attr("x1",a["cx"]+d).attr("y1",a["cy"]+c).attr("x2",D+d).attr("y2",$+c)}return y}console.log("Svg.table: не определены параметры таблицы. Невозможно построить таблицу")}}}),qs=Gs,Ys=(a("926f"),Object(h["a"])(qs,Is,zs,!1,null,"133b8622",null)),Js=Ys.exports;m()(Ys,{VBtn:k["a"],VCard:D["a"],VCardActions:$["a"],VDialog:V["a"],VIcon:E["a"],VProgressCircular:ua["a"],VToolbar:M["a"]}),ha()(Ys,{Resize:fa["a"]});var Xs={name:"Report06_s",components:{Svg_report:Js,Links:Ke,Title:ne,Filters:Aa,Tabs:Ya,DetailPanel:Mr},created:function(){this.$store.state.filtersValues.date=(new Date).toISOString().substring(0,10)},computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:"/arm-isujt"+this.defaultUrl}},methods:{setDetail:function(e,t){this.detailHeaders="rep6Det"===e?this.detail6Header:this.detail10Headers,this.$store.state.sheet=!0,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_10_fr_2.json":"/ajax2.php?"+("rep6Det"===e?"rep_6_fr&":"rep_10_fr_test&")+t)},updateTable:function(){this.$refs.svg_report.fetchData(this.defaultUrl)}},data:function(){return{tableTitle:!1,timeTitle:"",tabs:[{tabName:"Схема",tablePath:"/report/rep_06_s"},{tabName:"Обороты по участкам",tablePath:"/report/rep_06_table"}],params:{buttons:{add:!0,back:!0},backUrl:"/report/main",name:"Отчеты: справка о нормативном времени нахождения локомотивов на участках Восточного полигона",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_06_diagram_data.json",serverUrl:"/ajax2.php?module=Report&method=rep_6_test",detailHeaders:[],detail6Header:[{text:"Серия",value:"seria"},{text:"Номер",value:"serial_number_section"},{text:"Дислокация",value:"station"},{text:"Время",value:"time_op"},{text:"Тип состояния",value:"status_last_operation"},{text:"Тип операции",value:"type_last_operation"},{text:"Парк",value:"park"},{text:"Вид движения",value:"pr_vd_name"}],detail10Headers:[{text:"№",border:!0,value:"row_number"},{text:"Локомотив",alignHeader:"center",children:[{text:"Серия",border:!0,alignHeader:"center",value:"ser_name"},{text:"Номер",border:!0,alignHeader:"center",value:"loc_numb"},{text:"Депо",border:!0,alignHeader:"center",value:"depo_name"},{text:"Вид\nтяги",border:!0,alignHeader:"center",value:"tjaga_name"},{text:"Вид\nдвижения",border:!0,alignHeader:"center",value:"pr_vd_name"}]},{text:"Нахождение на станции",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",children:[{text:"Станция",border:!0,alignHeader:"center",value:"station"},{text:"Прибытие",border:!0,alignHeader:"center",value:"data_prib"},{text:"Отправление",border:!0,alignHeader:"center",value:"time_otpr_st"},{text:"факт",border:!0,alignHeader:"center",value:"gen_fact"},{text:"Простой\nв НЭП",border:!0,alignHeader:"center",value:"prostoi_nep"},{text:"Простой\nв ЭП",border:!0,alignHeader:"center",value:"prostoi_ep"},{text:"норма",border:!0,alignHeader:"center",value:"prostoi_na_st_norma"},{text:"(+/-)",border:!0,alignHeader:"center",value:"gen_pm"}]},{text:"в том числе",alignHeader:"center",children:[{text:"От прибытия до КП",alignHeader:"center",children:[{text:"Норма",border:!0,alignHeader:"center",value:"prib_kp_norm"},{text:"факт",border:!0,alignHeader:"center",value:"prib_kp_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"prib_kp_pm"}]},{text:"От КП до отправления",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"kp_otpr_norm"},{text:"факт",border:!0,alignHeader:"center",value:"kp_otpr_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"kp_otpr_pm"}]}]}]},{text:"Нахождение в депо",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",children:[{text:"Время\nзахода\nв депо",border:!0,alignHeader:"center",value:"time_in"},{text:"Время\nвыхода\nиз депо",border:!0,alignHeader:"center",value:"time_out"},{text:"Норма",border:!0,alignHeader:"center",value:"prostoi_v_depo_norma"},{text:"факт",border:!0,alignHeader:"center",value:"all_fact"},{text:"ФАКТ\nНЭП",border:!0,alignHeader:"center",value:"depo_nep"},{text:"ФАКТ\nЭП",border:!0,alignHeader:"center",value:"depo_ep"},{text:"(+/- ЭП\nк норме)",border:!0,alignHeader:"center",value:"all_pm"}]},{text:"в том числе",alignHeader:"center",children:[{text:"От КП до ТО-2",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"kp_to2_norm"},{text:"факт",border:!0,alignHeader:"center",value:"kp_to2_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"kp_to2_pm"}]},{text:"ТО-2",alignHeader:"center",children:[{text:"Начало\nТО-2",border:!0,alignHeader:"center",value:"data_nach_to2"},{text:"Окончание\nТО-2",border:!0,alignHeader:"center",value:"data_kon_to2"},{text:"норма",border:!0,alignHeader:"center",value:"to2_norm"},{text:"факт",border:!0,alignHeader:"center",value:"to2_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"to2_pm"}]},{text:"От ТО-2 до КП",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"to2_kp_norm"},{text:"факт",border:!0,alignHeader:"center",value:"to2_kp_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"to2_kp_pm"}]}]}]}]}}},Qs=Xs,Zs=Object(h["a"])(Qs,Ks,Bs,!1,null,"97722eba",null),eo=Zs.exports,to=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{ref:"filters",attrs:{filters:[{filterName:"report-filter-datetime",filterType:"date",labelText:"Дата"},{filterName:"type_rep_6",filterType:"select",inputWidth:"120px",labelText:"Срез",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"6:00"},{id:1,name:"18:00"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Нормативное время нахождения локомотивов на участках Восточного полигона ")]),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:1}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,"has-tabs":!0,subTitleHeight:34}})],1)},ao=[],ro={name:"Report06_table",components:{Links:Ke,Title:ne,Filters:Aa,Tabs:Ya,DataTable:va},methods:{getTimeName:function(){return 0===this.$store.state.filtersValues["type_rep_6"]?"06:00":"18:00"},updateTable:function(){this.$refs.table.fetchTableData({"report-filter-datetime":this.$store.state.filtersValues["report-filter-datetime"][1]+" "+this.getTimeName(),report:2,with_reg:this.$store.state.filtersValues["with_reg"]?1:0})}},computed:{createExportUrl:function(){return"method=rep_06_oborot&report-filter-datetime="+this.$store.state.filtersValues["report-filter-datetime"][1]+" "+this.getTimeName()+"&report=2&with_reg="+(this.$store.state.filtersValues["with_reg"]?1:0)+"&head=Нормативное время нахождения локомотивов на участках Восточного полигона"},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{tabs:[{tabName:"Схема",tablePath:"/report/rep_06_s"},{tabName:"Обороты по участкам",tablePath:"/report/rep_06_table"}],params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: обороты по участкам",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_6_table.json",serverUrl:"/ajax2.php?module=Report&method=rep_6_test",tableType:"rep_06_table",headers:[{text:"Тип\nпараметра",alignHeader:"center",value:"col_1"},{text:"Участок",alignHeader:"center",width:200,value:"col_0"},{text:"ДУ",alignHeader:"center",width:60,value:"col_3"},{text:"Тип пробега",alignHeader:"center",width:170,value:"col_6"},{text:"Пробег",alignHeader:"center",value:"col_9"},{text:"Оборот по станции",alignHeader:"center",value:"col_15"},{text:"Оборот по участку",alignHeader:"center",value:"col_18"},{text:"Фиксированное\nзначение",alignHeader:"center",value:"col_21"}]}}},io=ro,no=Object(h["a"])(io,to,ao,!1,null,"6bd5b174",null),lo=no.exports,so=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType}})],1)},oo=[],co={name:"Report06_request",components:{Links:Ke,Title:ne,DataTable:va},mounted:function(){this.$refs.table.fetchTableData()},computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:"/arm-isujt"+this.defaultUrl}},data:function(){return{params:{buttons:{add:!0,back:!0},backUrl:"/report/main",name:"Отчеты: управление запросами",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_6_table_req.json",tableType:"rep_06_request",serverUrl:"/ajax2.php?module=Report&method=rep_6_1&action=load",headers:[{text:"Удалить",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"delete"},{text:"Название запроса",alignHeader:"center",textMinify:"mini",editable:!0,editType:"text",value:"request_name"},{text:"ЕСР узла",alignHeader:"center",textMinify:"mini",editable:!0,editType:"text",value:"esr"},{text:"Вид тяги:\n1 - эл. пер. груз,\n2 - тепл. груз",alignHeader:"center",textMinify:"mini",editable:!0,editType:"text",value:"traction_type"},{text:"Доп.условия\nк расчёту\nоборота",alignHeader:"center",textMinify:"mini",editable:!0,editType:"text",value:"conditions"},{text:"Норма\nпроследования\n(мин)",alignHeader:"center",textMinify:"mini",editable:!0,editType:"text",value:"proceed_norm"},{text:"Норма\nна удаление\nоборота",alignHeader:"center",textMinify:"mini",editable:!0,editType:"text",value:"norm_delete"},{text:"Фиксированная\nнорма оборота",alignHeader:"center",textMinify:"mini",editable:!0,editType:"text",value:"fixed_norm"},{text:"Использовать\nфиксированную\nнорму в 6 отчёте",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"fixed_norm_rep_6"},{text:"14",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_14"},{text:"14 Сетевой",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_14_net"},{text:"14 Общий",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_14_general"},{text:"10",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_10"},{text:"6",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_6"},{text:"2_1",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_2_1"},{text:"5_ТС_4",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_5_ts_4"},{text:"5_КН_4",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_5_kn_4"},{text:"5_МТ_3",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_5_mt_3"},{text:"13",alignHeader:"center",textMinify:"mini",type:"checkbox",value:"rep_13"}]}}},uo=co,po=Object(h["a"])(uo,so,oo,!1,null,"4fa074c8",null),ho=po.exports,fo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"type_rep_9",filterType:"select",inputWidth:"180px",labelText:"Срез",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:1,filterData:[{id:1,name:"На текущее время"},{id:3,name:"На дату"}]},{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"time_rep_9",filterType:"select",inputWidth:"120px",labelText:"Время",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:6,filterData:[{id:6,name:"6:00"},{id:18,name:"18:00"}]},{filterName:"report-9_v_1-tg",filterType:"select",inputWidth:"120px",labelText:"Тяга",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:"1,2,6,9",filterData:[{id:"0",name:"Все"},{id:"1,2,6,9",name:"Т + Э"},{id:"1,6",name:"Э"},{id:"2,9",name:"Т"},{id:"3,4,5,7,8,10",name:"Проч"}]},{filterName:"report-9_v_1-park",filterType:"select",inputWidth:"120px",labelText:"Парк",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:1,filterData:[{id:1,name:"ЭП"},{id:2,name:"НЭП"},{id:-1,name:"ВСЕ"}]},{filterName:"rep-9_search",filterType:"search_input",labelText:"По номеру локомотива",isRemote:!1},{filterType:"select_tree",labelText:"Серии и виды движения",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/root2.json":"/arm-isujt/server/root2.json"},{filterType:"multiple_select",labelText:"Основной вид движения",filterName:"report-9_v_1-p_pr_vdvig",defaultValue:["20,21","40","50","10,11","12","23,24,25,70"],isRemote:!1,inputWidth:"260px",keyText:"name",keyValue:"id",filterData:[{name:"Грузовое",id:"20,21"},{name:"Хозяйственное",id:"40"},{name:"Маневровое",id:"50"},{name:"Пассажирское",id:"10,11"},{name:"Пригородное",id:"12"},{name:"Прочее",id:"23,24,25,70"}]},{filterType:"multiple_select",filterName:"report-9_v_1-p_ac_vdvig",labelText:"Текущий вид движения",defaultValue:["20,21","40","50","10,11","12","23,24,25,70"],isRemote:!1,inputWidth:"260px",keyText:"name",keyValue:"id",filterData:[{name:"Грузовое",id:"20,21"},{name:"Хозяйственное",id:"40"},{name:"Маневровое",id:"50"},{name:"Пассажирское",id:"10,11"},{name:"Пригородное",id:"12"},{name:"Прочее",id:"23,24,25,70"}]},{filterType:"select_tree",labelText:"Дислокация",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/pdisl.json":"/arm-isujt/server/pdisl.json"}],"table-type":e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,locoType:e.locoType,parkType:e.parkType,tableType:e.tableType}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,hasDetail:!0,groupKey:e.groupKey,groupNameKey:e.groupNameKey,subTitleHeight:24},on:{loadDetail:e.setDetail}}),a("InfoModal")],1)},mo=[],xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return e.timeTitle?a("div",["rep_9"===e.tableType?a("div",[e._v(" "+e._s(e.parsedTitleName)+" на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))]),a("br"),e._v(" по "+e._s(e.dativeLoco)+" "+e._s(e.genetivePark)+" на Восточном полигоне ")]):"rep_10"===e.tableType?a("div",[e._v(" Справка о простое "+e._s(e.genetiveLoco)+" в пунктах основных и оборотных депо"),a("br"),e._v(" на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))]),e._v(" по "+e._s(e.dativeRoad)+" ")]):"rep_14"===e.tableType?a("div",[e._v(" "+e._s(e.parsedTitleName)+" по "+e._s(e.dativeRoad.roadDislType)+" для локомотивов "+e._s(e.genetiveRoad.roadRegType)+" c "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle.split(" - ")[0]))]),e._v(" по "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle.split(" - ")[1]))])]):"rep_15"===e.tableType?a("div",[e._v(" "+e._s(e.parsedTitleName)+" на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]):"rep_18"===e.tableType?a("div",[e._v(" "+e._s(e.parsedTitleName)+" на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))]),e._v(" на "+e._s(e.prepositionalRoad)+" ")]):e.tableType.includes("rep_19_")?a("div",[e._v(" Отчет 19: "+e._s("rep_19_2"===e.tableType||"rep_19_5"===e.tableType?" сходы":"")+" "+e._s(e.parsedTitleName)+" "+e._s(0!==e.roadType?" ("+e.nominativeLoco+")":"")+" "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]):"rep_20"===e.tableType?a("div",[e._v(" Справка о нахождении на МПР "+e._s(e.genetiveLoco)+" на "+e._s(e.prepositionalRoad)+" на "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]):e._e()]):e._e()},vo=[],bo=a("53ca"),_o={name:"InfoHeader",props:["timeTitle","title","locoType","parkType","tableType","roadType"],data:function(){return{nominative:{loco:[{id:0,name:"локомотивы"},{id:1,name:"электровозы"},{id:2,name:"тепловозы"}]},dative:{loco:[{id:"0",name:"локомотивам"},{id:"1,2,6,9",name:"электровозам и тепловозам"},{id:"1,6",name:"электровозам"},{id:"2,9",name:"тепловозам"},{id:"3,4,5,7,8,10",name:"локомотивам (кроме электровозов и тепловозов)"}],road:[{id:9991,name:"Восточному полигону"},{id:88,name:"дирекции КРЖД"},{id:92,name:"дирекции ВСЖД"},{id:94,name:"дирекции ЗБЖД"},{id:96,name:"дирекции ДВЖД"}]},genetive:{park:[{id:0,name:"эксплуатируемого парка"},{id:1,name:"неэксплуатируемого парка"},{id:-1,name:""}],loco:[{id:0,name:"локомотивов"},{id:1,name:"электровозов"},{id:2,name:"тепловозов"},{id:3,name:"электровозов и тепловозов"},{id:4,name:"локомотивов (кроме электровозов и тепловозов)"}],road:[{id:9991,name:"Восточного полигона"},{id:88,name:"дирекции КРЖД"},{id:92,name:"дирекции ВСЖД"},{id:94,name:"дирекции ЗБЖД"},{id:96,name:"дирекции ДВЖД"}]},prepositional:{road:[{id:9991,name:"Восточном полигоне"},{id:1,name:"Восточном полигоне"},{id:88,name:"Красноярской ЖД"},{id:92,name:"Восточно-Сибирской ЖД"},{id:94,name:"Забайкальской ЖД"},{id:96,name:"Дальневосточной ЖД"},{id:-1,name:"Восточном полигоне"}]}}},computed:{parsedTitleName:function(){var e=this.title.split(": ")[1];return this.tableType.includes("rep_19_")?e:e[0].toUpperCase()+e.slice(1)},dativeLoco:function(){var e=this;return this.dative.loco.find((function(t){return t.id===e.locoType})).name},genetivePark:function(){var e=this;return this.genetive.park.find((function(t){return t.id===e.parkType})).name},genetiveLoco:function(){var e=this;return this.genetive.loco.find((function(t){return t.id===e.locoType})).name},dativeRoad:function(){var e=this;if("object"===Object(bo["a"])(this.roadType)){var t={},a=function(a){t[a]=e.dative.road.find((function(t){return t.id===e.roadType[a]})).name};for(var r in this.roadType)a(r);return t}return this.dative.road.find((function(t){return t.id===e.roadType})).name},genetiveRoad:function(){var e=this;if("object"===Object(bo["a"])(this.roadType)){var t={},a=function(a){t[a]=e.genetive.road.find((function(t){return t.id===e.roadType[a]})).name};for(var r in this.roadType)a(r);return t}return this.dative.road.find((function(t){return t.id===e.roadType})).name},prepositionalRoad:function(){var e=this;return this.prepositional.road.find((function(t){return t.id===e.roadType})).name},nominativeLoco:function(){var e=this;return this.nominative.loco.find((function(t){return t.id===e.roadType})).name}}},go=_o,yo=Object(h["a"])(go,xo,vo,!1,null,"37a6f69c",null),To=yo.exports,Ho={name:"Report09",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,InfoHeader:To,InfoModal:U},methods:{updateTable:function(){var e=this;if(this.$store.state.filtersValues["type_rep_9"]){var t=this.$store.state.filtersValues["date"][1].split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2],l=this.$store.state.timeFilterValues[0].find((function(t){return t.id===e.$store.state.filtersValues["time_rep_9"]})).name;this.timeTitle=l+":00 "+"".concat(n,".").concat(i,".").concat(r)}else{var s=new Date;this.timeTitle=s.toLocaleTimeString().substring(0,5)+" "+s.toLocaleDateString()}this.locoType=this.$store.state.filtersValues["report-9_v_1-tg"],this.parkType=this.$store.state.filtersValues["report-9_v_1-park"],1===this.$store.state.filtersValues["type_rep_9"]?this.$refs.table.fetchTableData({"report-9_v_1-cut":this.$store.state.filtersValues["type_rep_9"],"report-9_v_1-tg":this.$store.state.filtersValues["report-9_v_1-tg"],"report-9_v_1-park":this.$store.state.filtersValues["report-9_v_1-park"],"report-9_v_1-p_kod_ser":this.$store.state.filtersValues["report-9_v_1-p_kod_ser"],"report-9_v_1-p_disl":this.$store.state.filtersValues["report-9_v_1-p_disl"],"report-9_v_1-p_pr_vdvig":this.$store.state.filtersValues["report-9_v_1-p_pr_vdvig"].join(","),"report-9_v_1-p_ac_vdvig":this.$store.state.filtersValues["report-9_v_1-p_ac_vdvig"].join(",")}):this.$refs.table.fetchTableData({"report-9_v_1-datefield":new Date(this.$store.state.filtersValues.date[1]),"report-9_v_1-timefield":this.$store.state.filtersValues["time_rep_9"],"report-9_v_1-cut":this.$store.state.filtersValues["type_rep_9"],"report-9_v_1-tg":this.$store.state.filtersValues["report-9_v_1-tg"],"report-9_v_1-park":this.$store.state.filtersValues["report-9_v_1-park"],"report-9_v_1-p_kod_ser":this.$store.state.filtersValues["report-9_v_1-p_kod_ser"],"report-9_v_1-p_disl":this.$store.state.filtersValues["report-9_v_1-p_disl"],"report-9_v_1-p_pr_vdvig":this.$store.state.filtersValues["report-9_v_1-p_pr_vdvig"].join(","),"report-9_v_1-p_ac_vdvig":this.$store.state.filtersValues["report-9_v_1-p_ac_vdvig"].join(",")})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_10_fr_2.json":"/arm-isujt/server/fakeReports_10_fr_2.json")}},computed:{createExportUrl:function(){return"method=rep_9_v_1&report-9_v_1-cut="+this.$store.state.filtersValues["type_rep_9"]+"&report-9_v_1-tg="+this.$store.state.filtersValues["report-9_v_1-tg"]+"&report-9_v_1-park="+this.$store.state.filtersValues["report-9_v_1-park"]+"&report-9_v_1-p_kod_ser="+this.$store.state.filtersValues["report-9_v_1-p_kod_ser"]+"&report-9_v_1-p_pr_vdvig="+this.$store.state.filtersValues["report-9_v_1-p_pr_vdvig"]+"&report-9_v_1-p_ac_vdvig="+this.$store.state.filtersValues["report-9_v_1-p_ac_vdvig"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: справка о дислокации локомотивов на основных станциях",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_9.json",serverUrl:"/ajax2.php?module=Report&method=rep_9_v_1",tableType:"rep_9",groupKey:"node_name",groupNameKey:"node_name",locoType:"",parkType:"",headers:[{text:"№",alignHeader:"center",value:"row_index"},{text:"Серия",alignHeader:"center",value:"ser_name"},{text:"№ локомотива",alignHeader:"center",value:"nom_tpe"},{text:"Приписка\nлокомотива",alignHeader:"center",value:"depo_prip"},{text:"Дислокация",alignHeader:"center",value:"firm_disl"},{text:"Операция",alignHeader:"center",value:"event_name"},{text:"Состояние",alignHeader:"center",value:"sost_name"},{text:"Дата",alignHeader:"center",value:"data_is"},{text:"Основ.\nвид движ.",alignHeader:"center",value:"pr_vd_name"},{text:"Текущ.\nвид движ.",alignHeader:"center",value:"ac_vd_name"},{text:"Пробег\nс ТО2",alignHeader:"center",value:"from_to2"},{text:"До\nТО2",alignHeader:"center",value:"to_to2"},{text:"Дата\nТО2",alignHeader:"center",value:"date_to2"},{text:"Место\nТО2",alignHeader:"center",value:"firm_to2"},{text:"№ п",alignHeader:"center",value:"tag_train"},{text:"Индекс\nпоезда",alignHeader:"center",value:"index_train"},{text:"Вес\nпоезда",alignHeader:"center",value:"gross_weight"},{text:"Машинист",alignHeader:"center",value:"last_name"},{text:"Дорога\nдислокации",alignHeader:"center",value:"kod_road_disl"},{text:"Вид\nтяги",alignHeader:"center",value:"kod_tjaga"},{text:"Узел",alignHeader:"center",value:"node_name"},{text:"ДРЛ\nприписки",alignHeader:"center",value:"drl"}]}}},wo=Ho,ko=(a("d8e4"),Object(h["a"])(wo,fo,mo,!1,null,"28cb16f6",null)),Do=ko.exports,$o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"time_rep_10",filterType:"select",inputWidth:"120px",labelText:"Срез",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:6,filterData:[{id:6,name:"6:00"},{id:18,name:"18:00"}]},{filterName:"report-filter-road",filterType:"select",inputWidth:"120px",labelText:"Дорога",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]},{filterName:"report-filter-tg",filterType:"select",inputWidth:"240px",labelText:"Вид тяги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"Все"},{id:1,name:"Электровозы перем.тока"},{id:2,name:"Тепловозы"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,locoType:e.locoType,tableType:e.tableType,roadType:e.roadType}}),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,hasDetail:!0,groupKey:e.groupKey,subTitleHeight:39},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Vo=[],Mo={name:"Report10",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr,InfoHeader:To},methods:{getTimeName:function(){return 6===this.$store.state.filtersValues["time_rep_10"]?"06:00":"18:00"},updateTable:function(){var e=this,t=this.$store.state.filtersValues["date"][1].split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2],l=this.$store.state.timeFilterValues[0].find((function(t){return t.id===e.$store.state.filtersValues["time_rep_10"]})).name;this.timeTitle=l+":00 "+"".concat(n,".").concat(i,".").concat(r),this.locoType=this.$store.state.filtersValues["report-filter-tg"],this.roadType=this.$store.state.filtersValues["report-filter-road"],this.$refs.table.fetchTableData({"report-filter-tg":this.$store.state.filtersValues["report-filter-tg"],"report-filter-road":this.$store.state.filtersValues["report-filter-road"],"report-filter-datetime":this.$store.state.filtersValues.date[1]+" "+this.getTimeName()+":00"})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_10_fr_2.json":"/ajax2.php?module=Report&method=rep_10_fr_test&"+this.detailUrl)}},computed:{createExportUrl:function(){return"method=rep_10_test&report-filter-tg="+this.$store.state.filtersValues["report-filter-tg"]+"&report-filter-road="+this.$store.state.filtersValues["report-filter-road"]+"&report-filter-datetime="+this.$store.state.filtersValues.date+" "+this.getTimeName()},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",locoType:"",timeFilter:"",roadType:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: справка о простое локомотивов ЭП в пунктах основных и оборотных депо",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_10.json",serverUrl:"/ajax2.php?module=Report&method=rep_10_test",tableType:"rep_10",groupKey:"road",headers:[{text:"Дорога",alignHeader:"center",value:"road",border:!0,width:100},{text:"Узел",value:"station_name",alignHeader:"center",border:!0,width:100},{text:"Депо",alignHeader:"center",border:!0,value:"node"},{text:"Вид тяги",alignHeader:"center",border:!0,value:"traction_type"},{text:"Оборот по ст.",alignHeader:"center",children:[{text:"Кол-во\nлок-ов",alignHeader:"center",border:!0,value:"loc_count"},{text:"Средний\nпростой",alignHeader:"center",border:!0,isBigText:!0,value:"avg_stay"},{text:"Простой\nв ЭП",alignHeader:"center",border:!0,isBigText:!0,value:"ep_stay"}]},{text:"В том числе",alignHeader:"center",children:[{text:"Без зах.\nв депо",alignHeader:"center",border:!0,value:"without_depot"},{text:"С зах.в депо",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",border:!0,value:"with_depot"},{text:"с ТО-2",alignHeader:"center",border:!0,value:"with_to2"}]}]},{text:"Простой в среднем на один заход в депо ( час. )",alignHeader:"center",children:[{text:"От приб.\nдо КП",alignHeader:"center",border:!0,isBigText:!0,value:"avg_arrival_to_kp"},{text:"В депо",alignHeader:"center",children:[{text:"От КП\nдо ТО-2",alignHeader:"center",border:!0,isBigText:!0,value:"avg_kp_to_to2"},{text:"На ТО-2",alignHeader:"center",children:[{text:"норма",alignHeader:"center",border:!0,isBigText:!0,value:"avg_to2_norm"},{text:"факт",alignHeader:"center",border:!0,isBigText:!0,value:"avg_to2_fact"},{text:"+ , -",alignHeader:"center",border:!0,isBigText:!0,value:"to2_fact_norm"}]},{text:"От ТО-2\nдо КП",alignHeader:"center",border:!0,isBigText:!0,value:"avg_to2_to_kp"},{text:"Всего",alignHeader:"center",border:!0,isBigText:!0,value:"avg_depot_stay"}]},{text:"От КП\nдо отпр.",alignHeader:"center",border:!0,isBigText:!0,value:"avg_kp_to_departure"},{text:"Общий",alignHeader:"center",children:[{text:"норма",alignHeader:"center",border:!0,isBigText:!0,value:"avg_depot_stay_norm"},{text:"факт",alignHeader:"center",border:!0,isBigText:!0,value:"avg_depot_stay_fact"},{text:"Факт ЭП",alignHeader:"center",border:!0,isBigText:!0,value:"avg_depot_stay_fact_ep"},{text:"+,-\nк норме",alignHeader:"center",border:!0,isBigText:!0,value:"avg_depot_stay_delta"}]}]}],detailHeaders:[{text:"№",border:!0,value:"row_number"},{text:"Локомотив",alignHeader:"center",children:[{text:"Серия",border:!0,alignHeader:"center",value:"ser_name"},{text:"Номер",border:!0,alignHeader:"center",value:"loc_numb"},{text:"Депо",border:!0,alignHeader:"center",value:"depo_name"},{text:"Вид\nтяги",border:!0,alignHeader:"center",value:"tjaga_name"},{text:"Вид\nдвижения",border:!0,alignHeader:"center",value:"pr_vd_name"}]},{text:"Нахождение на станции",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",children:[{text:"Станция",border:!0,alignHeader:"center",value:"station"},{text:"Прибытие",border:!0,alignHeader:"center",value:"data_prib"},{text:"Отправление",border:!0,alignHeader:"center",value:"time_otpr_st"},{text:"факт",border:!0,alignHeader:"center",value:"gen_fact"},{text:"Простой\nв НЭП",border:!0,alignHeader:"center",value:"prostoi_nep"},{text:"Простой\nв ЭП",border:!0,alignHeader:"center",value:"prostoi_ep"},{text:"норма",border:!0,alignHeader:"center",value:"prostoi_na_st_norma"},{text:"(+/-)",border:!0,alignHeader:"center",value:"gen_pm"}]},{text:"в том числе",alignHeader:"center",children:[{text:"От прибытия до КП",alignHeader:"center",children:[{text:"Норма",border:!0,alignHeader:"center",value:"prib_kp_norm"},{text:"факт",border:!0,alignHeader:"center",value:"prib_kp_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"prib_kp_pm"}]},{text:"От КП до отправления",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"kp_otpr_norm"},{text:"факт",border:!0,alignHeader:"center",value:"kp_otpr_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"kp_otpr_pm"}]}]}]},{text:"Нахождение в депо",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",children:[{text:"Время\nзахода\nв депо",border:!0,alignHeader:"center",value:"time_in"},{text:"Время\nвыхода\nиз депо",border:!0,alignHeader:"center",value:"time_out"},{text:"Норма",border:!0,alignHeader:"center",value:"prostoi_v_depo_norma"},{text:"факт",border:!0,alignHeader:"center",value:"all_fact"},{text:"ФАКТ\nНЭП",border:!0,alignHeader:"center",value:"depo_nep"},{text:"ФАКТ\nЭП",border:!0,alignHeader:"center",value:"depo_ep"},{text:"(+/- ЭП\nк норме)",border:!0,alignHeader:"center",value:"all_pm"}]},{text:"в том числе",alignHeader:"center",children:[{text:"От КП до ТО-2",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"kp_to2_norm"},{text:"факт",border:!0,alignHeader:"center",value:"kp_to2_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"kp_to2_pm"}]},{text:"ТО-2",alignHeader:"center",children:[{text:"Начало\nТО-2",border:!0,alignHeader:"center",value:"data_nach_to2"},{text:"Окончание\nТО-2",border:!0,alignHeader:"center",value:"data_kon_to2"},{text:"норма",border:!0,alignHeader:"center",value:"to2_norm"},{text:"факт",border:!0,alignHeader:"center",value:"to2_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"to2_pm"}]},{text:"От ТО-2 до КП",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"to2_kp_norm"},{text:"факт",border:!0,alignHeader:"center",value:"to2_kp_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"to2_kp_pm"}]}]}]}]}}},Co=Mo,Uo=(a("7372"),Object(h["a"])(Co,$o,Vo,!1,null,"7b0c41fc",null)),Fo=Uo.exports,Lo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"report-filter-settings",filterType:"select",inputWidth:"180px",labelText:"\nТип отчета",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:14,filterData:[{id:14,name:"14"},{id:"14_Общий",name:"14_Общий"},{id:"14_Сетевой",name:"14_Сетевой"}]},{filterName:"filter-road-dislocation",filterType:"select",inputWidth:"120px",labelText:"Дорога\nдислокации",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]},{filterName:"filter-road-registry",filterType:"select",inputWidth:"120px",labelText:"Дорога\nприписки",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]},{filterType:"select_tree",filterName:"filter-p_kod_ser",labelText:"\nСерии и виды движения",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/root2_14.json":"/arm-isujt/server/root2_14.json"},{filterName:"date",filterType:"range_date",labelText:"\nИнтервал",splitted:!0}],width:"",tableType:e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,tableType:e.tableType,roadType:{roadDislType:e.roadDislType,roadRegType:e.roadRegType}}}),a("div",{staticClass:"table-container"},[a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,hasDetail:!0,groupKey:e.groupKey,groupNameKey:e.groupNameKey,subTitleHeight:44,"has-big-filter":!0},on:{loadDetail:e.setDetail}})],1),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders}})],1)},Oo=[],jo={name:"Report14",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,DetailPanel:Mr,InfoHeader:To},methods:{updateTable:function(){if(this.$store.state.filtersValues["date"].length>0){var e=this.$store.state.filtersValues["date"][0].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2],n=this.$store.state.filtersValues["date"][1].split("-"),l=Object(Ge["a"])(n,3),s=l[0],o=l[1],d=l[2];this.timeTitle=this.$store.state.filtersValues["time"][0]+":00 "+i+"."+r+"."+a+" - "+this.$store.state.filtersValues["time"][1]+":00 "+d+"."+o+"."+s}else this.timeTitle="";this.roadDislType=this.$store.state.filtersValues["filter-road-dislocation"],this.roadRegType=this.$store.state.filtersValues["filter-road-registry"],this.$refs.table.fetchTableData({"report-filter-settings":this.$store.state.filtersValues["report-filter-settings"],"report-filter-interval":this.$store.state.filtersValues.date[0]+" "+this.$store.state.filtersValues["time"][0]+":00:00;"+this.$store.state.filtersValues.date[1]+" "+this.$store.state.filtersValues["time"][1]+":00:00","report-filter-dislocation":this.$store.state.filtersValues["filter-road-dislocation"],"report-filter-registry":this.$store.state.filtersValues["filter-road-registry"],"filter-p_kod_ser":this.$store.state.filtersValues["filter-p_kod_ser"]})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail(this.$store.state.isTestMode?"../../server/fakeReports_10_fr_2.json":"/ajax2.php?module=Report&method=rep_14_fr_2&"+this.detailUrl)}},computed:{createExportUrl:function(){return"method=rep_14_test&report-filter-settings="+this.$store.state.filtersValues["report-filter-settings"]+"&report-filter-interval="+this.$store.state.filtersValues["report-filter-interval"]+"&report-filter-dislocation="+this.$store.state.filtersValues["report-filter-dislocation"]+"&report-filter-registry="+this.$store.state.filtersValues["report-filter-registry"]+"&filter-p_kod_ser="+this.$store.state.filtersValues["filter-p_kod_ser"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",roadDislType:"",roadRegType:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: справка о выполнении ТО-2",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_14.json",serverUrl:"/ajax2.php?module=Report&method=rep_14_test",tableType:"rep_14",groupKey:"road",groupNameKey:"road",headers:[{text:"Дорога",border:!0,alignHeader:"center",value:"road"},{text:"Узел",border:!0,alignHeader:"center",value:"station_name"},{text:"Депо",border:!0,alignHeader:"center",value:"depot"},{text:"Вид тяги",border:!0,alignHeader:"center",value:"tg"},{text:"Выполнено ТО-2",alignHeader:"center",children:[{text:"Всего",border:!0,alignHeader:"center",value:"total"},{text:"С перепроб.",border:!0,alignHeader:"center",value:"after_pr"},{text:"С недопроб.",border:!0,alignHeader:"center",value:"before_pr"},{text:"Ср. пробег м/у ТО-2",border:!0,alignHeader:"center",value:"aver_pr"}]},{text:"Продолжительность в среднем на 1 показатель",children:[{text:"От зах. до ТО-2",border:!0,isBigText:!0,alignHeader:"center",value:"without_to2"},{text:"Выполнено ТО-2",alignHeader:"center",children:[{text:"Норма",isBigText:!0,alignHeader:"center",value:"norma"},{text:"Факт.",isBigText:!0,alignHeader:"center",value:"fact"},{text:"Разность (факт и норма)",alignHeader:"center",isBigText:!0,value:"difference"}]},{text:"Общий простой в депо",border:!0,isBigText:!0,alignHeader:"center",value:"easy_to_depot"}]}],detailHeaders:[{text:"№",border:!0,value:"row_number"},{text:"Локомотив",alignHeader:"center",children:[{text:"Серия",border:!0,alignHeader:"center",value:"ser_name"},{text:"Номер",border:!0,alignHeader:"center",value:"loc_numb"},{text:"Депо",border:!0,alignHeader:"center",value:"depo_name"},{text:"Вид\nтяги",border:!0,alignHeader:"center",value:"tjaga_name"},{text:"Вид\nдвижения",border:!0,alignHeader:"center",value:"pr_vd_name"}]},{text:"Нахождение на станции",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",children:[{text:"Станция",border:!0,alignHeader:"center",value:"station"},{text:"Прибытие",border:!0,alignHeader:"center",value:"data_prib"},{text:"Отправление",border:!0,alignHeader:"center",value:"time_otpr_st"},{text:"факт",border:!0,alignHeader:"center",value:"gen_fact"},{text:"Простой\nв НЭП",border:!0,alignHeader:"center",value:"prostoi_nep"},{text:"Простой\nв ЭП",border:!0,alignHeader:"center",value:"prostoi_ep"},{text:"норма",border:!0,alignHeader:"center",value:"prostoi_na_st_norma"},{text:"(+/-)",border:!0,alignHeader:"center",value:"gen_pm"}]},{text:"в том числе",alignHeader:"center",children:[{text:"От прибытия до КП",alignHeader:"center",children:[{text:"Норма",border:!0,alignHeader:"center",value:"prib_kp_norm"},{text:"факт",border:!0,alignHeader:"center",value:"prib_kp_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"prib_kp_pm"}]},{text:"От КП до отправления",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"kp_otpr_norm"},{text:"факт",border:!0,alignHeader:"center",value:"kp_otpr_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"kp_otpr_pm"}]}]}]},{text:"Нахождение в депо",alignHeader:"center",children:[{text:"Всего",alignHeader:"center",children:[{text:"Время\nзахода\nв депо",border:!0,alignHeader:"center",value:"time_in"},{text:"Время\nвыхода\nиз депо",border:!0,alignHeader:"center",value:"time_out"},{text:"Норма",border:!0,alignHeader:"center",value:"prostoi_v_depo_norma"},{text:"факт",border:!0,alignHeader:"center",value:"all_fact"},{text:"ФАКТ\nНЭП",border:!0,alignHeader:"center",value:"depo_nep"},{text:"ФАКТ\nЭП",border:!0,alignHeader:"center",value:"depo_ep"},{text:"(+/- ЭП\nк норме)",border:!0,alignHeader:"center",value:"all_pm"}]},{text:"в том числе",alignHeader:"center",children:[{text:"От КП до ТО-2",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"kp_to2_norm"},{text:"факт",border:!0,alignHeader:"center",value:"kp_to2_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"kp_to2_pm"}]},{text:"ТО-2",alignHeader:"center",children:[{text:"Начало\nТО-2",border:!0,alignHeader:"center",value:"data_nach_to2"},{text:"Окончание\nТО-2",border:!0,alignHeader:"center",value:"data_kon_to2"},{text:"норма",border:!0,alignHeader:"center",value:"to2_norm"},{text:"факт",border:!0,alignHeader:"center",value:"to2_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"to2_pm"}]},{text:"От ТО-2 до КП",alignHeader:"center",children:[{text:"норма",border:!0,alignHeader:"center",value:"to2_kp_norm"},{text:"факт",border:!0,alignHeader:"center",value:"to2_kp_fact"},{text:"(+/-)",border:!0,alignHeader:"center",value:"to2_kp_pm"}]}]}]}]}}},Ro=jo,No=(a("a6c9"),Object(h["a"])(Ro,Lo,Oo,!1,null,"1418bea1",null)),So=No.exports,Eo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"report-15_v_1-cut",filterType:"select",inputWidth:"180px",labelText:"Срез",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:1,filterData:[{id:1,name:"На текущее время"},{id:0,name:"На дату"}]},{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"report-15_v_1-timefield",filterType:"select",inputWidth:"120px",labelText:"Время",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:6,filterData:[{id:6,name:"6:00"},{id:18,name:"18:00"}]},{filterName:"report-15_v_1-tg",filterType:"select",inputWidth:"160px",labelText:"По виду тяги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"Все"},{id:1,name:"Электровозы"},{id:2,name:"Тепловозы"},{id:3,name:"Эл + Тепл"},{id:4,name:"Прочее"}]},{filterName:"rep-15_search",filterType:"search_input",labelText:"По номеру локомотива",isRemote:!1},{filterType:"select_tree",labelText:"Серии и виды движения",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/root2.json":"/arm-isujt/server/root2.json"},{filterType:"multiple_select",labelText:"Основной вид движения",filterName:"report-15_v_1-p_pr_vdvig",defaultValue:["20,21","40","50","10,11","12","23,24,25,70"],isRemote:!1,keyText:"name",keyValue:"id",filterData:[{name:"Грузовое",id:"20,21"},{name:"Хозяйственное",id:"40"},{name:"Маневровое",id:"50"},{name:"Пассажирское",id:"10,11"},{name:"Пригородное",id:"12"},{name:"Прочее",id:"23,24,25,70"}]},{filterType:"multiple_select",filterName:"report-15_v_1-p_ac_vdvig",labelText:"Текущий вид движения",defaultValue:["20,21","40","50","10,11","12","23,24,25,70"],isRemote:!1,keyText:"name",keyValue:"id",filterData:[{name:"Грузовое",id:"20,21"},{name:"Хозяйственное",id:"40"},{name:"Маневровое",id:"50"},{name:"Пассажирское",id:"10,11"},{name:"Пригородное",id:"12"},{name:"Прочее",id:"23,24,25,70"}]}],"table-type":e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,tableType:e.tableType}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,"has-big-filter":!0,"sub-title-height":34}})],1)},Po=[],Ao={name:"Report15",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,InfoHeader:To},methods:{updateTable:function(){var e=this;if(this.$store.state.filtersValues["report-15_v_1-cut"]){var t=this.$store.state.filtersValues["date"][1].split("-"),a=Object(Ge["a"])(t,3),r=a[0],i=a[1],n=a[2],l=this.$store.state.timeFilterValues[0].find((function(t){return t.id===e.$store.state.filtersValues["report-15_v_1-timefield"]})).name;this.timeTitle=l+":00 "+"".concat(n,".").concat(i,".").concat(r)}else{var s=new Date;this.timeTitle=s.toLocaleTimeString().substring(0,5)+" "+s.toLocaleDateString()}this.locoType=this.$store.state.filtersValues["report-15_v_1-tg"],1===this.$store.state.filtersValues["report-15_v_1-cut"]?this.$refs.table.fetchTableData({"report-15_v_1-cut":this.$store.state.filtersValues["report-15_v_1-cut"],"report-15_v_1-tg":this.$store.state.filtersValues["report-15_v_1-tg"],"report-15_v_1-p_kod_ser":this.$store.state.filtersValues["report-15_v_1-p_kod_ser"],"report-15_v_1-p_pr_vdvig":this.$store.state.filtersValues["report-15_v_1-p_pr_vdvig"].join(","),"report-15_v_1-p_ac_vdvig":this.$store.state.filtersValues["report-15_v_1-p_ac_vdvig"].join(",")}):this.$refs.table.fetchTableData({"report-15_v_1-datefield":this.$store.state.filtersValues.date[1],"report-15_v_1-timefield":this.$store.state.filtersValues["report-15_v_1-timefield"],"report-15_v_1-cut":this.$store.state.filtersValues["report-15_v_1-cut"],"report-15_v_1-tg":this.$store.state.filtersValues["report-15_v_1-tg"],"report-15_v_1-p_kod_ser":this.$store.state.filtersValues["report-15_v_1-p_kod_ser"],"report-15_v_1-p_pr_vdvig":this.$store.state.filtersValues["report-15_v_1-p_pr_vdvig"].join(","),"report-15_v_1-p_ac_vdvig":this.$store.state.filtersValues["report-15_v_1-p_ac_vdvig"].join(",")})}},computed:{createExportUrl:function(){return"method=rep_15_v_1&report-15_v_1-cut="+this.$store.state.filtersValues["report-15_v_1-cut"]+"&report-15_v_1-tg="+this.$store.state.filtersValues["report-15_v_1-tg"]+"&report-15_v_1-p_kod_ser="+this.$store.state.filtersValues["report-15_v_1-p_kod_ser"]+"&report-15_v_1-p_pr_vdvig="+this.$store.state.filtersValues["report-15_v_1-p_pr_vdvig"]+"&report-15_v_1-p_ac_vdvig="+this.$store.state.filtersValues["report-15_v_1-p_ac_vdvig"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: справка о следовании локомотивов в ремонт",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_15.json",serverUrl:"/ajax2.php?module=Report&method=rep_15_v_1",tableType:"rep_15",headers:[{text:"№",alignHeader:"center",value:"row_index"},{text:"Серия",alignHeader:"center",value:"ser_name"},{text:"Вид тяги",alignHeader:"center",value:"tjaga_name"},{text:"№\nлокомотива",alignHeader:"center",value:"nom_tpe"},{text:"Приписка\nлокомотива",alignHeader:"center",value:"depo_prip"},{text:"Дислокация",alignHeader:"center",value:"firm_disl"},{text:"Операция",alignHeader:"center",value:"event_name"},{text:"Состояние",alignHeader:"center",value:"sost_name"},{text:"Дата",alignHeader:"center",value:"data_is"},{text:"Основ.\nвид движ.",alignHeader:"center",value:"primary_vd_name"},{text:"Текущ.\nвид движ.",alignHeader:"center",value:"actual_vd_name"},{text:"Пробег\nс ТО2",alignHeader:"center",value:"from_to2"},{text:"До ТО2",alignHeader:"center",value:"to_to2"},{text:"Дата ТО2",alignHeader:"center",value:"date_to2"},{text:"Место ТО2",alignHeader:"center",value:"firm_to2"},{text:"№ п",alignHeader:"center",value:"tag_train"},{text:"Индекс\nпоезда",alignHeader:"center",value:"idx_train"},{text:"Вес\nпоезда",alignHeader:"center",value:"gross_weight"},{text:"Машинист",alignHeader:"center",value:"brig_name"},{text:"Дорога\nдислокации",alignHeader:"center",value:"road_disl"}]}}},Ko=Ao,Bo=(a("515d"),Object(h["a"])(Ko,Eo,Po,!1,null,"c755aa0c",null)),Io=Bo.exports,zo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"report-18_v_1-roadprip",filterType:"select",inputWidth:"120px",labelText:"Дорога\nприписки",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]},{filterName:"report-18_v_1-roaddisl",filterType:"select",inputWidth:"120px",labelText:"Дорога\nдислокации",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:9991,filterData:[{id:9991,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"}]},{filterName:"report-18_v_1-tg",filterType:"select",inputWidth:"160px",labelText:"\nПо виду тяги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:3,filterData:[{id:0,name:"Все"},{id:1,name:"Электровозы"},{id:2,name:"Тепловозы"},{id:3,name:"Эл + Тепл"},{id:4,name:"Прочее"}]},{filterName:"report-18_v_1-park",filterType:"select",inputWidth:"160px",labelText:"\nПарк",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"Все"},{id:"ЭП",name:"ЭП"},{id:"НЭП",name:"НЭП"}]},{filterName:"report-18_v_1-vidrem",filterType:"multiple_select",labelText:"Виды ремонта",isRemote:!1,inputWidth:"260px",defaultValue:["ТО-2","ТО-3","ТР-1","ТР-2","ТР-3"],filterData:[{id:"ТО-2",name:"ТО-2"},{id:"ТО-3",name:"ТО-3"},{id:"ТР-1",name:"ТР-1"},{id:"ТР-2",name:"ТР-2"},{id:"ТР-3",name:"ТР-3"}],keyText:"name",keyValue:"id"},{filterName:"report-18_v_1-probeg",filterType:"multiple_select",labelText:"Пробег",isRemote:!1,inputWidth:"160px",defaultValue:[1],filterData:[{id:1,name:"зеленый"},{id:2,name:"желтый"},{id:3,name:"красный"}],keyText:"name",keyValue:"id"},{filterName:"report-18_v_1-naprav",filterType:"select",inputWidth:"120px",labelText:"Направление",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:1,filterData:[{id:1,name:"Все"},{id:2,name:"Чет."},{id:3,name:"Нечет."}]},{filterName:"rep-18_search",filterType:"search_input",labelText:"Номер локомотива",isRemote:!1},{filterType:"select_tree",filterName:"report-18_v_1-p_kod_ser",labelText:"Серии и виды движения",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/root2.json":"/arm-isujt/server/root2.json"},{filterType:"multiple_select",labelText:"Основной вид движения",filterName:"report-18_v_1-p_pr_vdvig",defaultValue:["20,21","40","50","10,11","12","23,24,25,70"],isRemote:!1,keyText:"name",keyValue:"id",filterData:[{name:"Грузовое",id:"20,21"},{name:"Хозяйственное",id:"40"},{name:"Маневровое",id:"50"},{name:"Пассажирское",id:"10,11"},{name:"Пригородное",id:"12"},{name:"Прочее",id:"23,24,25,70"}]},{filterType:"multiple_select",filterName:"report-18_v_1-p_ac_vdvig",labelText:"Текущий вид движения",defaultValue:["20,21","40","50","10,11","12","23,24,25,70"],isRemote:!1,keyText:"name",keyValue:"id",filterData:[{name:"Грузовое",id:"20,21"},{name:"Хозяйственное",id:"40"},{name:"Маневровое",id:"50"},{name:"Пассажирское",id:"10,11"},{name:"Пригородное",id:"12"},{name:"Прочее",id:"23,24,25,70"}]}],"table-type":e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,roadType:e.roadType,tableType:e.tableType}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,groupKey:e.groupKey,groupNameKey:e.groupNameKey,"has-big-filter":!0,"sub-title-height":34}})],1)},Wo=[],Go={name:"Report18",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,InfoHeader:To},methods:{updateTable:function(){var e=new Date;this.timeTitle=e.toLocaleTimeString().substring(0,5)+" "+e.toLocaleDateString(),this.roadType=this.$store.state.filtersValues["report-18_v_1-roaddisl"],this.$refs.table.fetchTableData({"report-18_v_1-p_kod_ser":this.$store.state.filtersValues["report-18_v_1-p_kod_ser"],"report-18_v_1-roadprip":this.$store.state.filtersValues["report-18_v_1-roadprip"],"report-18_v_1-roaddisl":this.$store.state.filtersValues["report-18_v_1-roaddisl"],"report-18_v_1-tg":this.$store.state.filtersValues["report-18_v_1-tg"],"report-18_v_1-park":this.$store.state.filtersValues["report-18_v_1-park"],"report-18_v_1-vidrem":this.$store.state.filtersValues["report-18_v_1-vidrem"].join(","),"report-18_v_1-probeg":this.$store.state.filtersValues["report-18_v_1-probeg"].join(","),"report-18_v_1-naprav":this.$store.state.filtersValues["report-18_v_1-naprav"],"report-18_v_1-p_pr_vdvig":this.$store.state.filtersValues["report-18_v_1-p_pr_vdvig"].join(","),"report-18_v_1-p_ac_vdvig":this.$store.state.filtersValues["report-18_v_1-p_ac_vdvig"].join(",")})}},computed:{createExportUrl:function(){return"method=rep_18_v_1&report-18_v_1-p_kod_ser="+this.$store.state.filtersValues["report-18_v_1-p_kod_ser"]+"&report-18_v_1-roadprip="+this.$store.state.filtersValues["report-18_v_1-roadprip"]+"&report-18_v_1-roaddisl="+this.$store.state.filtersValues["report-18_v_1-roaddisl"]+"&report-18_v_1-tg="+this.$store.state.filtersValues["report-18_v_1-tg"]+"&report-18_v_1-park="+this.$store.state.filtersValues["report-18_v_1-park"]+"&report-18_v_1-vidrem="+this.$store.state.filtersValues["report-18_v_1-vidrem"]+"&report-18_v_1-probeg="+this.$store.state.filtersValues["report-18_v_1-probeg"]+"&report-18_v_1-naprav="+this.$store.state.filtersValues["report-18_v_1-naprav"]+"&report-18_v_1-p_pr_vdvig="+this.$store.state.filtersValues["report-18_v_1-p_pr_vdvig"]+"&report-18_v_1-p_ac_vdvig="+this.$store.state.filtersValues["report-18_v_1-p_ac_vdvig"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",roadType:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: справка по локомотивам с перепробегом",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_18.json",serverUrl:"/ajax2.php?module=Report&method=rep_18_v_1",tableType:"rep_18",groupKey:"g",groupNameKey:"g",headers:[{text:"№ п/п",border:!0,alignHeader:"center",value:"row_number"},{text:"Серия",border:!0,alignHeader:"center",value:"ser_name"},{text:"Номер\nлокомотива",border:!0,alignHeader:"center",value:"nom_tpe"},{text:"Депо приписки",border:!0,alignHeader:"center",value:"firm_name"},{text:"Последняя операция",alignHeader:"center",children:[{text:"Время",alignHeader:"center",formatDate:!0,value:"last_date"},{text:"Состояние",alignHeader:"center",value:"last_sost"},{text:"Дислокация",alignHeader:"center",value:"disl"},{text:"Номер\nпоезда",alignHeader:"center",value:"nom_poezd"},{text:"Индекс поезда",alignHeader:"center",value:"index_poezd"}]},{text:"От ТО-2",alignHeader:"center",children:[{text:"час",alignHeader:"center",value:"prob_to2"},{text:"км",alignHeader:"center",value:"prob_to2_km"}]},{text:"Ремонт",border:!0,alignHeader:"center",value:"mnemo"},{text:"Пробег",alignHeader:"center",children:[{text:"км",alignHeader:"center",value:"probeg1"},{text:"сут",alignHeader:"center",value:"probeg2"}]},{text:"Остаточный",alignHeader:"center",children:[{text:"км",alignHeader:"center",value:"ost_pr1"},{text:"сут",alignHeader:"center",value:"ost_pr2"}]},{text:"Норма",alignHeader:"center",children:[{text:"км",alignHeader:"center",value:"norm1"},{text:"сут",alignHeader:"center",value:"norm2"}]},{text:"УОЛ",border:!0,alignHeader:"center",value:"uol_name"},{text:"Преим.\nвид движения",border:!0,alignHeader:"center",value:"loc_pr_vdvig_name"},{text:"Факт.\nвид движения",border:!0,alignHeader:"center",value:"fc_vdvig_name"},{text:"Парк",border:!0,alignHeader:"center",value:"kod_park"},{text:"Перепробег",border:!0,alignHeader:"center",value:"group"},{text:"Вид тяги",border:!0,alignHeader:"center",value:"tjaga_name"}]}}},qo=Go,Yo=(a("2f4c"),Object(h["a"])(qo,zo,Wo,!1,null,"3ddb8132",null)),Jo=Yo.exports,Xo=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"range_date",labelText:"Интервал"},{filterName:"report-19-trac",filterType:"select",inputWidth:"160px",labelText:"Вид тяги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"Все"},{id:1,name:"Электровозы"},{id:2,name:"Тепловозы"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),e.timeTitle?a("div",{staticClass:"page-subtitle"},[e._v(" Справка по сходам локомотивов с кольца "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]):e._e(),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,"sub-title-height":25}})],1)},Qo=[],Zo={name:"Report19_1",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va},methods:{updateTable:function(){if(this.$store.state.filtersValues["date"].length>0){var e=this.$store.state.filtersValues["date"][0].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2],n=this.$store.state.filtersValues["date"][1].split("-"),l=Object(Ge["a"])(n,3),s=l[0],o=l[1],d=l[2];this.timeTitle="с ".concat(i,".").concat(r,".").concat(a," 18:00 по ").concat(d,".").concat(o,".").concat(s," 18:00")}else this.timeTitle="";this.$refs.table.fetchTableData({"report-19-datestart":this.$store.state.filtersValues.date[0],"report-19-dateend":this.$store.state.filtersValues.date[1],"report-19-trac":this.$store.state.filtersValues["report-19-trac"]})}},computed:{createExportUrl:function(){return"method=rep_19&report-19-datestart="+new Date(this.$store.state.filtersValues.date[0])+"&report-19-dateend="+new Date(this.$store.state.filtersValues.date[1])+"&report-19-trac="+this.$store.state.filtersValues["report-19-trac"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: сходы с кольца",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_19_1.json",serverUrl:"/ajax2.php?module=Report&method=rep_19",tableType:"rep_19_1",headers:[{text:"Сведения об отцепке",alignHeader:"center",children:[{text:"№\nп/п",alignHeader:"center",border:!0,value:"row_index"},{text:"УОЛ",border:!0,width:150,alignHeader:"center",value:"uol_name"},{text:"Станция",border:!0,alignHeader:"center",value:"firm_place"},{text:"Дата приб.",border:!0,formatDate:!0,alignHeader:"center",value:"arrival"},{text:"Дата отпр.",border:!0,formatDate:!0,alignHeader:"center",value:"departure"},{text:"Причина основная",border:!0,alignHeader:"center",value:"name_cut"},{text:"Причина доп.",border:!0,alignHeader:"center",value:"name_mpr_ekpr"}]},{text:"Сведения о поезде",alignHeader:"center",children:[{text:"Номер",border:!0,alignHeader:"center",value:"tag_train"},{text:"Индекс",border:!0,width:100,alignHeader:"center",value:"idx"},{text:"Брутто",border:!0,alignHeader:"center",value:"gross_weight"},{text:"Длина",border:!0,alignHeader:"center",value:"length"},{text:"Станция формирования",border:!0,alignHeader:"center",value:"st_makeup"},{text:"Станция назначения",border:!0,alignHeader:"center",value:"st_terminus"}]},{text:"Сведения о локомотиве",alignHeader:"center",children:[{text:"Серия",border:!0,isBigText:!0,alignHeader:"center",value:"ser_name"},{text:"Номер",border:!0,isBigText:!0,alignHeader:"center",value:"nom_tpe"},{text:"ТЧ",alignHeader:"center",border:!0,width:150,value:"tch_name"},{text:"До ТО-2",border:!0,alignHeader:"center",value:"probeg_to2"},{text:"Дата отпр.",border:!0,formatDate:!0,alignHeader:"center",value:"T_DEPARTURE"},{text:"Номер поезда",border:!0,alignHeader:"center",value:"T_TAG_TRAIN_OUT"}]},{text:"Бригада",alignHeader:"center",children:[{text:"Машинист",border:!0,width:150,alignHeader:"center",value:"last_name"},{text:"ТЧ",alignHeader:"center",border:!0,width:150,value:"people_firm"}]},{text:"Последний ремонт",alignHeader:"center",children:[{text:"Место проведения",border:!0,alignHeader:"center",value:"last_firm"},{text:"Вид",border:!0,alignHeader:"center",value:"last_repair"},{text:"Дата проведения",border:!0,formatDate:!0,alignHeader:"center",value:"end_repair"}]},{text:"Корректировка",alignHeader:"center",children:[{text:"Пользователь",border:!0,alignHeader:"center",value:"user_info"},{text:"Дата",border:!0,formatDate:!0,alignHeader:"center",value:"date_change"}]}]}}},ed=Zo,td=(a("4bb0"),Object(h["a"])(ed,Xo,Qo,!1,null,"e9e68f32",null)),ad=td.exports,rd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"range_date",labelText:"Интервал"},{filterName:"report-19-trac",filterType:"select",inputWidth:"160px",labelText:"Вид тяги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"Все"},{id:1,name:"Электровозы"},{id:2,name:"Тепловозы"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,tableType:e.tableType,roadType:e.roadType}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,"sub-title-height":25}})],1)},id=[],nd={name:"Report19_2",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,InfoHeader:To},methods:{updateTable:function(){if(this.$store.state.filtersValues["date"].length>0){var e=this.$store.state.filtersValues["date"][0].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2],n=this.$store.state.filtersValues["date"][1].split("-"),l=Object(Ge["a"])(n,3),s=l[0],o=l[1],d=l[2];this.timeTitle="с ".concat(i,".").concat(r,".").concat(a," 18:00 по ").concat(d,".").concat(o,".").concat(s," 18:00")}else this.timeTitle="";this.roadType=this.$store.state.filtersValues["report-19-trac"],this.$refs.table.fetchTableData({"report-19-datestart":this.$store.state.filtersValues.date[0],"report-19-dateend":this.$store.state.filtersValues.date[1],"report-19-trac":this.$store.state.filtersValues["report-19-trac"]})}},computed:{createExportUrl:function(){return"method=rep_19_2&report-19-datestart="+new Date(this.$store.state.filtersValues.date[0])+"&report-19-dateend="+new Date(this.$store.state.filtersValues.date[1])+"&report-19-trac="+this.$store.state.filtersValues["report-19-trac"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",roadType:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: по плечам обслуживания",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_19_2.json",serverUrl:"/ajax2.php?module=Report&method=rep_19_2",tableType:"rep_19_2",headers:[{text:"Общее",alignHeader:"center",children:[{text:"№\nп/п",alignHeader:"center",value:"row_number"},{text:"УОЛ",width:150,alignHeader:"center",value:"uol_name"},{text:"Станция отцепки локомотивов",alignHeader:"center",value:"st_name"},{text:"Всего\nслучаев",alignHeader:"center",value:"cta"}]},{text:"в т.ч. с разбивкой по причинам",alignHeader:"center",children:[{text:"ТО-2",alignHeader:"center",value:"p_to2"},{text:"Экипировка",alignHeader:"center",value:"p_ekpr"},{text:"Неплановый\nремонт",alignHeader:"center",value:"p_mpr"},{text:"Отказ от\nприемки бригадой",alignHeader:"center",value:"p_otb"},{text:"Регулировка",alignHeader:"center",value:"p_reg"},{text:"Без определения\nпричины",alignHeader:"center",value:"p_bpr"}]}]}}},ld=nd,sd=(a("442f"),Object(h["a"])(ld,rd,id,!1,null,"6d75a018",null)),od=sd.exports,dd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"range_date",labelText:"Интервал"},{filterName:"report-19-trac",filterType:"select",inputWidth:"160px",labelText:"Вид тяги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"Все"},{id:1,name:"Электровозы"},{id:2,name:"Тепловозы"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,tableType:e.tableType,roadType:e.roadType}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,"sub-title-height":25}})],1)},cd=[],ud={name:"Report19_4",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,InfoHeader:To},methods:{updateTable:function(){if(this.$store.state.filtersValues["date"].length>0){var e=this.$store.state.filtersValues["date"][0].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2],n=this.$store.state.filtersValues["date"][1].split("-"),l=Object(Ge["a"])(n,3),s=l[0],o=l[1],d=l[2];this.timeTitle="с ".concat(i,".").concat(r,".").concat(a," 18:00 по ").concat(d,".").concat(o,".").concat(s," 18:00")}else this.timeTitle="";this.roadType=this.$store.state.filtersValues["report-19-trac"],this.$refs.table.fetchTableData({"report-19-datestart":this.$store.state.filtersValues.date[0],"report-19-dateend":this.$store.state.filtersValues.date[1],"report-19-trac":this.$store.state.filtersValues["report-19-trac"]})}},computed:{createExportUrl:function(){return"method=rep_19_4&report-19-datestart="+new Date(this.$store.state.filtersValues.date[0])+"&report-19-dateend="+new Date(this.$store.state.filtersValues.date[1])+"&report-19-trac="+this.$store.state.filtersValues["report-19-trac"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",roadType:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: по дирекциям",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_19_4.json",serverUrl:"/ajax2.php?module=Report&method=rep_19_4",tableType:"rep_19_4",headers:[{text:"Общее",alignHeader:"center",children:[{text:"№\nп/п",alignHeader:"center",value:"row_number"},{text:"Дорога",alignHeader:"center",value:"kod_road"},{text:"Депо приписки локомотива",alignHeader:"center",value:"tch_name"},{text:"Всего\nслучаев",alignHeader:"center",value:"cta"}]},{text:"в т.ч. с разбивкой по причинам",alignHeader:"center",children:[{text:"ТО-2",alignHeader:"center",value:"p_to2"},{text:"Экипировка",alignHeader:"center",value:"p_ekpr"},{text:"Неплановый\nремонт",alignHeader:"center",value:"p_mpr"},{text:"Отказ от\nприемки бригадой",alignHeader:"center",value:"p_otb"},{text:"Регулировка",alignHeader:"center",value:"p_reg"},{text:"Без определения\nпричины",alignHeader:"center",value:"p_bpr"}]}]}}},pd=ud,hd=(a("d9dc"),Object(h["a"])(pd,dd,cd,!1,null,"50007fa6",null)),fd=hd.exports,md=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"range_date",labelText:"Интервал"},{filterName:"report-19-trac",filterType:"select",inputWidth:"160px",labelText:"Вид тяги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:0,filterData:[{id:0,name:"Все"},{id:1,name:"Электровозы"},{id:2,name:"Тепловозы"}]}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,tableType:e.tableType,roadType:e.roadType}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,"sub-title-height":25}})],1)},xd=[],vd={name:"Report19_5",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,InfoHeader:To},methods:{updateTable:function(){if(this.$store.state.filtersValues["date"].length>0){var e=this.$store.state.filtersValues["date"][0].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2],n=this.$store.state.filtersValues["date"][1].split("-"),l=Object(Ge["a"])(n,3),s=l[0],o=l[1],d=l[2];this.timeTitle="с ".concat(i,".").concat(r,".").concat(a," 18:00 по ").concat(d,".").concat(o,".").concat(s," 18:00"),this.roadType=this.$store.state.filtersValues["report-19-trac"]}else this.timeTitle="";this.$refs.table.fetchTableData({"report-19-datestart":this.$store.state.filtersValues.date[0],"report-19-dateend":this.$store.state.filtersValues.date[1],"report-19-trac":this.$store.state.filtersValues["report-19-trac"]})}},computed:{createExportUrl:function(){return"method=rep_19_4&report-19-datestart="+new Date(this.$store.state.filtersValues.date[0])+"&report-19-dateend="+new Date(this.$store.state.filtersValues.date[1])+"&report-19-trac="+this.$store.state.filtersValues["report-19-trac"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",roadType:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: по причинам непланового ремонта",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_19_5.json",serverUrl:"/ajax2.php?module=Report&method=rep_19_5",tableType:"rep_19_5",headers:[{text:"Дорога приписки",alignHeader:"center",value:"kod_road"},{text:"Депо приписки",alignHeader:"center",width:150,value:"tch_name"},{text:"Всего\nсходов",alignHeader:"center",value:"cta"},{text:"Износ\nтормозной колодки\nвыше допустимого",alignHeader:"center",value:"p_mpr_826"},{text:"Межвитковое\nзамыкание обмотки",alignHeader:"center",value:"p_mpr_837"},{text:"Неисправность\nАЛСН",alignHeader:"center",value:"p_mpr_881"},{text:"Неисправность\nбыстродейств. выкл.",alignHeader:"center",value:"p_mpr_856"},{text:"Неисправность\nводяной системы\nохлажд. дизеля",alignHeader:"center",value:"p_mpr_892"},{text:"Неисправность\nвыпрямит. установки",alignHeader:"center",value:"p_mpr_861"},{text:"Неисправность\nглавн. выкл.",alignHeader:"center",value:"p_mpr_857"},{text:"Неисправность\nкрышевого оборуд.",alignHeader:"center",value:"p_mpr_805"},{text:"Неисправность\nмасляной системы\nдизеля",alignHeader:"center",value:"p_mpr_891"},{text:"Неисправность\nпоездного\nкомпрессора",alignHeader:"center",value:"p_mpr_869"},{text:"Неисправность\nреле давления",alignHeader:"center",value:"p_mpr_871"},{text:"Неисправность\nтокоприемника",alignHeader:"center",value:"p_mpr_862"},{text:"Неисправность\nэлектродвигателя вентилятора\nохлажд. выпрямит. установок",alignHeader:"center",value:"p_mpr_849"},{text:"Неисправность\nэлектродвигателя вентилетора\nохлажд.тяговых двигателей",alignHeader:"center",value:"p_mpr_848"},{text:"Неисправность\nэлектронного блока управл.\nпреобразователем",alignHeader:"center",value:"p_mpr_864"},{text:"Неисправность\nэлектрооборуд.\nвспомогательных цепей",alignHeader:"center",value:"p_mpr_859"},{text:"Неисправность\nэлектрооборуд.\nсиловой цепи",alignHeader:"center",value:"p_mpr_858"},{text:"Неисправность\nэлектрооборуд.\nцепей управл.",alignHeader:"center",value:"p_mpr_860"},{text:"Несоответствие\nгеометр. парам.\nбандажа нормативам",alignHeader:"center",value:"p_mpr_817"},{text:"Ослабление,\nпроворот\nбандажа",alignHeader:"center",value:"p_mpr_816"},{text:"Переброс по\nколлектору\nкруговой огонь",alignHeader:"center",value:"p_mpr_835"},{text:"Повреждение\nвала якоря",alignHeader:"center",value:"p_mpr_836"},{text:"Повреждение\nвоздухопроводов, соединит рукавов,\nарматуры, воздушного резервуара",alignHeader:"center",value:"p_mpr_873"},{text:"Повреждение\nвыводн.\nкабелей",alignHeader:"center",value:"p_mpr_841"},{text:"Повреждение корпуса,\nподвески\nтягового редуктора",alignHeader:"center",value:"p_mpr_822"},{text:"Повреждение моторно-осевого подшипника, подвески тягового двигат.",alignHeader:"center",value:"p_mpr_828"},{text:"Повреждение\nподшипникового узла,\nмоторно-якорных подшипников",alignHeader:"center",value:"p_mpr_839"},{text:"Повреждение\nэлементов",alignHeader:"center",value:"p_mpr_821"},{text:"Повреждение\nэлем. узла",alignHeader:"center",value:"p_mpr_808"},{text:"Повреждение элементов\nцилиндро-поршневой группы,\nкоенчатого вала",alignHeader:"center",value:"p_mpr_887"},{text:"Пробой изоляции\nобмотки на\nкорпус",alignHeader:"center",value:"p_mpr_838"},{text:"Трещина,\nдеформация",alignHeader:"center",value:"p_mpr_803"},{text:"Трещина,\nизлом оси",alignHeader:"center",value:"p_mpr_812"},{text:"Трешина, излом,\nизгиб, износ\nэлементов",alignHeader:"center",value:"p_mpr_819"},{text:"Трещина,\nобрыв, износ\nэлемента",alignHeader:"center",value:"p_mpr_827"},{text:"Прочее",alignHeader:"center",value:"p_mpr_other"},{text:"Нарушение\nтехнологии использования\nлокомотивов",alignHeader:"center",value:"p_ekpr_3"},{text:"Неисправность\nлокомотивн. устр-в",alignHeader:"center",value:"p_ekpr_2"},{text:"Превышение\nустановленного норматива\nрасхода бригадой",alignHeader:"center",value:"p_ekpr_1"}]}}},bd=vd,_d=(a("075d"),Object(h["a"])(bd,md,xd,!1,null,"e5e929d0",null)),gd=_d.exports,yd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Filters",{attrs:{filters:[{filterName:"report-20_v_1-roads",filterType:"select",inputWidth:"120px",labelText:"Дорога приписки",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:1,filterData:[{id:1,name:"ВП"},{id:88,name:"КРЖД"},{id:92,name:"ВСЖД"},{id:94,name:"ЗБЖД"},{id:96,name:"ДВЖД"},{id:-1,name:"Все"}]},{filterName:"report-20_v_1-tg",filterType:"select",inputWidth:"160px",labelText:"По виду тяги",isRemote:!1,keyText:"name",keyValue:"id",defaultValue:3,filterData:[{id:0,name:"Все"},{id:1,name:"Электровозы"},{id:2,name:"Тепловозы"},{id:3,name:"Эл + Тепл"},{id:4,name:"Прочее"}]},{filterType:"select_tree",labelText:"Серии и виды движения",isRemote:!0,filterUrl:this.$store.state.isTestMode?"../../server/root2.json":"/arm-isujt/server/root2.json"},{filterName:"rep-20_search",filterType:"search_input",labelText:"По номеру локомотива",isRemote:!1},{filterType:"multiple_select",labelText:"Основной вид движения",filterName:"report-20_v_1-p_pr_vdvig",defaultValue:["20,21","40","50","10,11","12","23,24,25,70"],isRemote:!1,keyText:"name",keyValue:"id",inputWidth:"260px",filterData:[{name:"Грузовое",id:"20,21"},{name:"Хозяйственное",id:"40"},{name:"Маневровое",id:"50"},{name:"Пассажирское",id:"10,11"},{name:"Пригородное",id:"12"},{name:"Прочее",id:"23,24,25,70"}]},{filterType:"multiple_select",filterName:"report-20_v_1-p_ac_vdvig",labelText:"Текущий вид движения",defaultValue:["20,21","40","50","10,11","12","23,24,25,70"],isRemote:!1,keyText:"name",keyValue:"id",inputWidth:"260px",filterData:[{name:"Грузовое",id:"20,21"},{name:"Хозяйственное",id:"40"},{name:"Маневровое",id:"50"},{name:"Пассажирское",id:"10,11"},{name:"Пригородное",id:"12"},{name:"Прочее",id:"23,24,25,70"}]}],"table-type":e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("InfoHeader",{staticClass:"page-subtitle",attrs:{timeTitle:e.timeTitle,title:e.params.name,tableType:e.tableType,locoType:e.locoType,roadType:e.roadType}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,"sub-title-height":44,"has-big-filter":!0}})],1)},Td=[],Hd={name:"Report20",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va,InfoHeader:To},methods:{updateTable:function(){var e=new Date;this.timeTitle="".concat(e.getHours()<10?"0"+e.getHours():e.getHours(),":").concat(e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes()," ").concat(e.getDate()<10?"0"+e.getDate():e.getDate(),".").concat(e.getMonth()+1<10?"0"+e.getMonth()+1:e.getMonth()+1,".").concat(e.getFullYear()),this.locoType=this.$store.state.filtersValues["report-20_v_1-tg"],this.roadType=this.$store.state.filtersValues["report-20_v_1-roads"],this.$refs.table.fetchTableData({"report-20_v_1-tg":this.$store.state.filtersValues["report-20_v_1-tg"],"report-20_v_1-roads":this.$store.state.filtersValues["report-20_v_1-roads"],"report-20_v_1-p_kod_ser":this.$store.state.filtersValues["report-20_v_1-p_kod_ser"],"report-20_v_1-p_pr_vdvig":this.$store.state.filtersValues["report-20_v_1-p_pr_vdvig"].join(","),"report-20_v_1-p_ac_vdvig":this.$store.state.filtersValues["report-20_v_1-p_ac_vdvig"].join(",")})}},computed:{createExportUrl:function(){return"method=rep_20_v_1&report-20_v_1-roads="+this.$store.state.filtersValues["report-20_v_1-roads"]+"&report-20_v_1-tg="+this.$store.state.filtersValues["report-20_v_1-p_kod_ser"]+"&report-20_v_1-p_pr_vdvig="+this.$store.state.filtersValues["report-20_v_1-p_pr_vdvig"]+"&report-20_v_1-p_ac_vdvig="+this.$store.state.filtersValues["report-20_v_1-p_ac_vdvig"]},getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},data:function(){return{timeTitle:"",locoType:"",roadType:"",params:{buttons:{add:!0,back:!0,export:!0},backUrl:"/report/main",name:"Отчеты: справка о нахождении локомотивов на МПР",icon:"icon icon-reports"},defaultUrl:"/server/fakeReports_20.json",serverUrl:"/ajax2.php?module=Report&method=rep_20_v_1",tableType:"rep_20",headers:[{text:"Дислокация локомотивов",alignHeader:"center",children:[{text:"№\nп/п",alignHeader:"center",value:"row_index"},{text:"Серия",isBigText:!0,alignHeader:"center",value:"ser_name"},{text:"Номер",isBigText:!0,alignHeader:"center",value:"nom_tpe"},{text:"Приписка",width:150,alignHeader:"center",value:"depo_prip"},{text:"Дислокация",width:150,alignHeader:"center",value:"firm_disl"},{text:"Операция",alignHeader:"center",value:"event_name"},{text:"Состояние",alignHeader:"center",value:"sost_name"},{text:"Дата",width:100,alignHeader:"center",value:"data_is"},{text:"Основн.\nвид дв.",alignHeader:"center",value:"primary_vd_name"},{text:"Текущ.\nвид дв.",alignHeader:"center",value:"actual_vd_name"},{text:"Дата ТО2",width:100,alignHeader:"center",value:"date_to2"},{text:"Дорога\nдислокации",alignHeader:"center",value:"road_disl"},{text:"Дата выхода\n(план)",alignHeader:"center",value:"date_out_nep"},{text:"Причина",width:350,alignHeader:"center",value:"cause_nep"},{text:"Участок",width:150,alignHeader:"center",value:"area_name"}]}]}}},wd=Hd,kd=(a("0f08"),Object(h["a"])(wd,yd,Td,!1,null,"efcf8380",null)),Dd=kd.exports,$d=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"range_date",labelText:"\nВыберите период"}],tableType:e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Справка о выполнении технологического процесса на период с "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,tableType:e.tableType,"sub-title-height":39}})],1)},Vd=[],Md={name:"Report_tp_norm",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va},data:function(){return{params:{buttons:{add:!0,back:!0},backUrl:"/report/main",name:"Отчеты: ТП - Нормирование",icon:"icon icon-reports"},timeTitle:"",tableType:"rep_tp_norm",defaultUrl:"/server/fakeReports_norm.json",serverUrl:"/ajax2.php?module=Report&method=rep_tp_normalization",headers:[{text:"Дата контроля",alignHeader:"center",border:!0,value:"control_date"},{text:"Нормирование на дату",alignHeader:"center",value:"normalization_date",border:!0},{text:"АС ССП по техническим станциям",alignHeader:"center",children:[{text:"КРАС",alignHeader:"center",value:"road_kras"},{text:"ВСИБ",alignHeader:"center",value:"road_vsib"},{text:"ЗАБ",alignHeader:"center",value:"road_zab"},{text:"Д-ВОСТ",alignHeader:"center",value:"road_dvost"}]},{text:"ДРЛ",alignHeader:"center",children:[{text:"1",alignHeader:"center",value:"drl_1"},{text:"2",alignHeader:"center",value:"drl_2"},{text:"3",alignHeader:"center",value:"drl_3"},{text:"4",alignHeader:"center",value:"drl_4"}]},{text:"СДРЛ",alignHeader:"center",children:[{text:"1",alignHeader:"center",value:"sdrl_1"},{text:"2",alignHeader:"center",value:"sdrl_2"},{text:"3",alignHeader:"center",value:"sdrl_3"},{text:"4",alignHeader:"center",value:"sdrl_4"}]},{text:"Утверждение нач. ЦУП",alignHeader:"center",value:"cutr",border:!0}]}},computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){if(this.$store.state.filtersValues["date"].length>0){var e=this.$store.state.filtersValues["date"][0].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2],n=this.$store.state.filtersValues["date"][1].split("-"),l=Object(Ge["a"])(n,3),s=l[0],o=l[1],d=l[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a," по ").concat(d,".").concat(o,".").concat(s)}else this.timeTitle="";this.$refs.table.fetchTableData({first_date:this.getFormattedDate(this.$store.state.filtersValues.date[0]),second_date:this.getFormattedDate(this.$store.state.filtersValues.date[1])})}},created:function(){}},Cd=Md,Ud=(a("514a"),Object(h["a"])(Cd,$d,Vd,!1,null,null,null)),Fd=Ud.exports,Ld=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Title",{attrs:{params:e.params}}),a("Links",{attrs:{params:e.params}}),a("Filters",{attrs:{filters:[{filterName:"date",filterType:"range_date",labelText:"\nВыберите период"}],tableType:e.tableType},on:{reloadTable:function(t){return e.updateTable()}}}),a("div",{staticClass:"page-subtitle"},[e._v(" Справка о выполнении технологического процесса на период с "),a("span",{staticClass:"page-subtitle-bold"},[e._v(e._s(e.timeTitle))])]),a("DataTable",{ref:"table",attrs:{headers:e.headers,url:e.getUrl,params:{date:Math.floor(Date.now()/1e3)},tableType:e.tableType,"sub-title-height":39}})],1)},Od=[],jd={name:"Report_tp_reg",components:{Links:Ke,Title:ne,Filters:Aa,DataTable:va},data:function(){return{params:{buttons:{add:!0,back:!0},backUrl:"/report/main",name:"Отчеты: ТП - Регулирование",icon:"icon icon-reports"},timeTitle:"",tableType:"rep_tp_reg",defaultUrl:"/server/fakeReports_reg.json",serverUrl:"/ajax2.php?module=Report&method=rep_tp_regulation",headers:[{text:"Дата контроля",alignHeader:"center",border:!0,value:"control_date"},{text:"Регулирование на дату",alignHeader:"center",value:"normalization_date",border:!0},{text:"АС ССП по стыковым станциям",alignHeader:"center",children:[{text:"ЗСИБ",alignHeader:"center",value:"road_zsib"},{text:"КРАС",alignHeader:"center",value:"road_kras"},{text:"ВСИБ",alignHeader:"center",value:"road_vsib"},{text:"ЗАБ",alignHeader:"center",value:"road_zab"},{text:"Д-ВОСТ",alignHeader:"center",value:"road_dvost"}]},{text:"Согласование СДРЛ",alignHeader:"center",value:"sdrl",border:!0},{text:"Утверждение нач. ЦУП",alignHeader:"center",value:"cutr",border:!0}]}},computed:{getUrl:function(){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){if(this.$store.state.filtersValues["date"].length>0){var e=this.$store.state.filtersValues["date"][0].split("-"),t=Object(Ge["a"])(e,3),a=t[0],r=t[1],i=t[2],n=this.$store.state.filtersValues["date"][1].split("-"),l=Object(Ge["a"])(n,3),s=l[0],o=l[1],d=l[2];this.timeTitle="".concat(i,".").concat(r,".").concat(a," по ").concat(d,".").concat(o,".").concat(s)}else this.timeTitle="";this.$refs.table.fetchTableData({first_date:this.getFormattedDate(this.$store.state.filtersValues.date[0]),second_date:this.getFormattedDate(this.$store.state.filtersValues.date[1])})}},created:function(){}},Rd=jd,Nd=(a("dd7f"),Object(h["a"])(Rd,Ld,Od,!1,null,null,null)),Sd=Nd.exports,Ed=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],staticClass:"px-2 py-6 ma-5 tasks-main",style:e.getTasksHeight},[a("div",[a("v-row",{staticClass:"page-title"},[a("v-icon",{staticClass:"page-title-icon",attrs:{color:"#ff7141"}},[e._v("icon-task")]),a("h3",{staticClass:"page-title-title"},[e._v("Задачи: "+e._s(e.getNewTasksSum)+" новых")])],1)],1),a("v-tabs",{attrs:{"hide-slider":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t,r){return a("v-tab",{key:r,attrs:{ripple:!1},on:{click:function(t){return e.getTasksByStatus(r)}}},[e._v(" "+e._s(t))])})),1),a("v-expansion-panels",{attrs:{multiple:"",focusable:"",flat:""}},e._l(e.fullTasks,(function(t,r){return a("Task",{key:r,attrs:{content:e.fullTasks[r]}})})),1)],1)},Pd=[],Ad=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panel",{model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel-header",{attrs:{"hide-actions":"",ripple:!1}},[a("div",[a("p",{staticClass:"task-main-header",class:{"complete-task":"complete"===this.content.status}},[e._v(" "+e._s(e.content.header)+" ")]),a("p",{staticClass:"task-time-header",class:{"complete-task":"complete"===this.content.status}},[e._v(" "+e._s(e.getTime)+" ")])]),a("span",{staticClass:"icon icon-arrow-dropdown"})]),a("v-expansion-panel-content",[a("div",{staticClass:"main-text",domProps:{innerHTML:e._s(e.getTextWithoutBold)}}),a("TaskButtons",{attrs:{complete:"complete"===e.content.status,content:e.content}})],1)],1)},Kd=[],Bd=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"task-buttons"},[a("v-btn",{staticClass:"go",attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){return e.sendTaskToTable()}}},[e._v(" Перейти ")]),e.complete?e._e():a("v-btn",{staticClass:"approve",attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1}},[e._v(" Согласовать ")])],1)},Id=[],zd={name:"TaskButtons",props:["complete","content"],methods:{sendTaskToTable:function(){this.$store.commit("setTaskTransitionProps",this.content),this.$store.commit("setFilterValues",{filter:"date",val:["",this.$store.state.taskTransitionProps["recieve_time"].substring(0,10)]}),"normalization"===this.content.transition.category&&this.$router.push("/tasks_norm_section/").catch((function(){})),"regulation"===this.content.transition.category&&this.$router.push("/tasks_reg_joint/").catch((function(){}))}}},Wd=zd,Gd=(a("d6b2"),Object(h["a"])(Wd,Bd,Id,!1,null,"0fb5316b",null)),qd=Gd.exports;m()(Gd,{VBtn:k["a"],VRow:re["a"]});var Yd={name:"Task",components:{TaskButtons:qd},props:["content"],data:function(){return{panel:0}},computed:{getTime:function(){var e=new Date(this.content.recieve_time),t=e.getHours()<10?"0"+e.getHours():e.getHours(),a=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),r=e.getDate()<10?"0"+e.getDate():e.getDate(),i=e.getMonth()+1<10?"0"+(e.getMonth()+1):e.getMonth()+1,n=e.getFullYear();return"".concat(t,":").concat(a," ").concat(r,".").concat(i,".").concat(n)},getTextWithoutBold:function(){return this.content.body.split("<b>").join(" ").split("</b>").join(" ").split("<br>").join("<br><br>")}}},Jd=Yd,Xd=(a("4b56"),Object(h["a"])(Jd,Ad,Kd,!1,null,"2f0df7ac",null)),Qd=Xd.exports;m()(Xd,{VExpansionPanel:Ra["a"],VExpansionPanelContent:Na["a"],VExpansionPanelHeader:Sa["a"]});var Zd={name:"Tasks",components:{Task:Qd},mounted:function(){this.fetchTasks("new")},methods:{fetchTasks:function(e){var t=this;o.a.get(this.getUrl(e)).then((function(e){t.fullTasks=e.data.data,t.tasks=t.fullTasks.filter((function(e){return"new"===e.status})),t.$store.commit("setTasks",t.tasks)}))},onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},getTasksByStatus:function(e){switch(e){case 0:this.fetchTasks("new");break;case 1:this.fetchTasks("complete");break;case 2:this.fetchTasks("all");break}},getUrl:function(e){return this.$store.state.isTestMode?"../.."+this.defaultUrl:this.serverUrl+"&state="+e}},computed:{getTasksHeight:function(){var e=this.windowSize.y-50;return"height: ".concat(e,"px")},getNewTasksSum:function(){var e=this.fullTasks.filter((function(e){return"new"===e.status}));return e.length}},data:function(){return{tab:0,tabs:["Новые","Завершённые","Все"],defaultUrl:"/server/archive.json",serverUrl:"/ajax2.php?module=Task&method=load",tasks:[],fullTasks:[],windowSize:{x:0,y:0}}}},ec=Zd,tc=(a("21c7"),a("d754"),Object(h["a"])(ec,Ed,Pd,!1,null,"0991a9c3",null)),ac=tc.exports;m()(tc,{VCard:D["a"],VExpansionPanels:Ea["a"],VIcon:E["a"],VRow:re["a"],VTab:Wa["a"],VTabs:Ga["a"]}),ha()(tc,{Resize:fa["a"]}),r["a"].use(J["a"]);var rc=[{path:"/tasks/",component:ac},{path:"/tasks_norm_section/",components:{default:Lr,tasks:ac}},{path:"/tasks_norm_depo/",components:{default:Er,tasks:ac}},{path:"/tasks_norm_ratio/",components:{default:zr,tasks:ac}},{path:"/tasks_reg_joint/",components:{default:Xr,tasks:ac}},{path:"/tasks_reg_section/",components:{default:ri,tasks:ac}},{path:"/tasks_reg_analysis/",components:{default:di,tasks:ac}},{path:"/norm/",component:mi,children:[{path:"section",component:Lr},{path:"depo",component:Er},{path:"ratio",component:zr}]},{path:"/plan/",component:$i,children:[{path:"st_tasks",component:Li},{path:"join_tasks",component:Ei},{path:"plan_main",component:zi},{path:"lc_task",component:Xi},{path:"lc_plan",component:rn},{path:"plan_ind",component:cn},{path:"graf_loco",component:Hn}]},{path:"/reg/",component:yi,children:[{path:"joint",component:Xr},{path:"section",component:ri},{path:"analysis",component:di}]},{path:"/order/",component:vl},{path:"/model/",component:Mn,children:[{path:"section",component:jn},{path:"depo",component:An},{path:"ratio",component:Gn},{path:"nsi",component:Zn},{path:"compare",component:nl}]},{path:"/report/",redirect:"/report/main",component:Hl,children:[{path:"main",component:Ml},{path:"rep_02_loco",component:jl},{path:"rep_02_3",component:Al},{path:"rep_02_1",component:Gl},{path:"rep_02_tech",component:ns},{path:"rep_03_1",component:us},{path:"rep_03_2",component:vs},{path:"rep_03_1sm",component:Hs},{path:"rep_03_2sm",component:Ms},{path:"rep_03_1sr",component:js},{path:"rep_03_2sr",component:As},{path:"rep_06_s",component:eo},{path:"rep_06_table",component:lo},{path:"rep_06_request",component:ho},{path:"rep_09",component:Do},{path:"rep_10",component:Fo},{path:"rep_14",component:So},{path:"rep_15",component:Io},{path:"rep_18",component:Jo},{path:"rep_19_1",component:ad},{path:"rep_19_2",component:od},{path:"rep_19_4",component:fd},{path:"rep_19_5",component:gd},{path:"rep_20",component:Dd},{path:"rep_tp_norm",component:Fd},{path:"rep_tp_reg",component:Sd}]}],ic=new J["a"]({base:"/arm-isujt/",routes:rc}),nc=ic,lc=a("2f62");r["a"].use(lc["a"]);var sc=new lc["a"].Store({state:{isTestMode:!1,modalShow:!1,textModal:"",editedValues:[],dependingCheckboxes:{},repControlStore:[],techPlanReport:{tableArr:[]},tableStores:{},timeFilterCurrentValue:[],timeFilterValues:[[{id:18,name:"18"},{id:6,name:"6"}],[{id:6,name:"6"},{id:18,name:"18"},{id:0,name:"0"},{id:3,name:"3"},{id:9,name:"9"},{id:12,name:"12"},{id:15,name:"15"},{id:21,name:"21"}],[{id:0,name:"0"},{id:1,name:"1"},{id:2,name:"2"},{id:3,name:"3"},{id:4,name:"4"},{id:5,name:"5"},{id:6,name:"6"},{id:7,name:"7"},{id:8,name:"8"},{id:9,name:"9"},{id:10,name:"10"},{id:11,name:"11"},{id:12,name:"12"},{id:13,name:"13"},{id:14,name:"14"},{id:15,name:"15"},{id:16,name:"16"},{id:17,name:"17"},{id:18,name:"18"},{id:19,name:"19"},{id:20,name:"20"},{id:21,name:"21"},{id:22,name:"22"},{id:23,name:"23"}]],cancelBtnActive:!0,defaultFiltersValues:{},detailInfo:{detailUrl:"../../server/analize_details.json",detailName:"Детализация"},filterOpen:!0,filtersValues:{date:[],search:""},menuMini:!1,mouseY:"",recalcBtnActive:!0,resizing:!1,saveBtnActive:!0,sheet:!1,tableContentMinHeight:200,tableDetailMinHeight:194,currentTableType:"",tasks:[],planToCompare:[],menuItems:[{model:!0,path:"/tasks/",text:"Задачи",icon:"icon-task"},{model:!0,path:"/norm/",text:"Нормирование",icon:"icon-trending-up",arrow:"icon-arrow-dropdown",children:[{model:!1,path:"/norm/section",text:"Участки"},{model:!1,path:"/norm/depo",text:"Депо"},{model:!1,path:"/norm/ratio",text:"Процентное соотношение локомотивов"}]},{model:!0,path:"/plan/",text:"Планирование",icon:"icon-calendar",arrow:"icon-arrow-dropdown",children:[{model:!1,path:"/plan/st_tasks",text:"Задание тех. станций"},{model:!1,path:"/plan/join_tasks",text:"Задание по стыкам"},{model:!1,path:"/plan/plan_main",text:"План"},{model:!1,path:"/plan/lc_task",text:"Наряд-задание по ЛБ"},{model:!1,path:"/plan/lc_plan",text:"Сменно-суточный план содержания ЛБ"},{model:!1,path:"/plan/plan_ind",text:"Показатели плана"},{model:!1,path:"/plan/graf_loco",text:"График оборота локомотивов"}]},{model:!0,path:"/reg/",text:"Регулирование",icon:"icon-settings",arrow:"icon-arrow-dropdown",children:[{model:!1,path:"/reg/joint",text:"Стыки"},{model:!1,path:"/reg/section",text:"Участки"},{model:!1,path:"/reg/analysis",text:"Анализ"}]},{model:!1,path:"/order/",text:"Приказы",icon:"icon-list-alt"},{model:!1,path:"/model/",text:"Моделирование",icon:"icon-cube",arrow:"icon-arrow-dropdown",children:[{model:!1,path:"/model/section",text:"Участки"},{model:!1,path:"/model/depo",text:"Депо"},{model:!1,path:"/model/ratio",text:"Процентное соотношение локомотивов"},{model:!1,path:"/model/nsi",text:"Корректировка НСИ"},{model:!1,path:"/model/compare",text:"Сравнение"}]},{model:!1,path:"/report/",text:"Отчеты",icon:"icon-reports"}],taskTransitionProps:{},tableUpdateProgress:!1,orderModalHtml:"",orderModalState:!1},getters:{tabs:function(e){return{normalization:[{tabName:"Участки",tablePath:Object.keys(e.taskTransitionProps).length?"/tasks_norm_section/":"/norm/section"},{tabName:"Депо",tablePath:Object.keys(e.taskTransitionProps).length?"/tasks_norm_depo/":"/norm/depo"},{tabName:"Процентное соотношение локомотивов",tablePath:Object.keys(e.taskTransitionProps).length?"/tasks_norm_ratio/":"/norm/ratio"}],regulation:[{tabName:"Стыки",tablePath:Object.keys(e.taskTransitionProps).length?"/tasks_reg_joint/":"/reg/joint"},{tabName:"Участки",tablePath:Object.keys(e.taskTransitionProps).length?"/tasks_reg_section/":"/reg/section"},{tabName:"Анализ",tablePath:Object.keys(e.taskTransitionProps).length?"/tasks_reg_analysis/":"/reg/analysis"}]}}},mutations:{setCurrentTableType:function(e,t){e.currentTableType=t},setFilterValues:function(e,t){r["a"].set(e.filtersValues,t.filter,t.val)},setDefaultFilterValues:function(e,t){e.defaultFiltersValues[t.filter]=t.val},setTableStores:function(e,t){e.tableStores[t.key]=t.val},addTableStores:function(e,t){e.tableStores[t.key].push(t.val)},setTasks:function(e,t){e.tasks=t},setTaskTransitionProps:function(e,t){e.taskTransitionProps=t},setTableUpdateProgress:function(e,t){e.tableUpdateProgress=t},setTimeFilterCurrentValue:function(e,t){e.timeFilterCurrentValue=t},toggleSheet:function(e){e.sheet=!e.sheet},setOrderModalHtml:function(e,t){e.orderModalHtml=t},setOrderModalState:function(e,t){e.orderModalState=t}},actions:{},modules:{}}),oc=a("f309"),dc=a("2992"),cc=a.n(dc);r["a"].use(oc["a"]);var uc=new oc["a"]({icons:{iconfont:"mdi"},lang:{locales:{ru:cc.a},current:"ru"},theme:{themes:{light:{primary:"#00194d"}}}});r["a"].config.productionTip=!1,new r["a"]({router:nc,store:sc,vuetify:uc,render:function(e){return e(Y)}}).$mount("#app")},"5a25":function(e,t,a){"use strict";a("4a2e")},"5a49":function(e,t,a){},"5c87":function(e,t,a){},"5d52":function(e,t,a){"use strict";a("096e")},6024:function(e,t,a){},"617f":function(e,t,a){"use strict";a("a99f")},"62c9":function(e,t,a){"use strict";a("36a5")},"63a2":function(e,t,a){"use strict";a("e011")},"63dc":function(e,t,a){"use strict";a("d0c4")},6710:function(e,t,a){},"67a0":function(e,t,a){},"696a":function(e,t,a){},"6a4d":function(e,t,a){"use strict";a("e378")},"6c24":function(e,t,a){},7372:function(e,t,a){"use strict";a("db32")},7391:function(e,t,a){"use strict";a("2d7c")},7584:function(e,t,a){var r={"./checked.svg":"0226","./logo-mini.svg":"0df4","./logo.svg":"e347","./menu-item-corner.svg":"40b3","./not checked.svg":"84ed","./toggle-bg.svg":"aff0"};function i(e){var t=n(e);return a(t)}function n(e){if(!a.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=n,e.exports=i,i.id="7584"},"76ea":function(e,t,a){"use strict";a("265e")},"79bf":function(e,t,a){"use strict";a("3a16")},"7a69":function(e,t,a){},"7cf5":function(e,t,a){},"7f1a":function(e,t,a){},"7fd8":function(e,t,a){},"83a6":function(e,t,a){"use strict";a("5a49")},"83d7":function(e,t,a){"use strict";a("9aca")},"84c1":function(e,t,a){"use strict";a("bfa7")},"84ed":function(e,t,a){e.exports=a.p+"img/not checked.441200e5.svg"},8845:function(e,t,a){"use strict";a("b29d")},8888:function(e,t,a){"use strict";a("8ae3")},"89de":function(e,t,a){},"8ae3":function(e,t,a){},"8c7c":function(e,t,a){"use strict";a("4652")},9210:function(e,t,a){"use strict";a("e3c3")},"926f":function(e,t,a){"use strict";a("89de")},9300:function(e,t,a){},"94d2":function(e,t,a){"use strict";a("0683")},"99d4":function(e,t,a){"use strict";a("7fd8")},"9aca":function(e,t,a){},"9d1e":function(e,t,a){"use strict";a("dec1")},"9d67":function(e,t,a){},a203:function(e,t,a){"use strict";a("371c")},a2fb:function(e,t,a){},a432:function(e,t,a){"use strict";a("696a")},a6c9:function(e,t,a){"use strict";a("12a6")},a768:function(e,t,a){"use strict";a("a2fb")},a8c9:function(e,t,a){},a93f:function(e,t,a){"use strict";a("6c24")},a99f:function(e,t,a){},aee8:function(e,t,a){"use strict";a("6710")},af93:function(e,t,a){"use strict";a("2334")},aff0:function(e,t,a){e.exports=a.p+"img/toggle-bg.597e8171.svg"},b184:function(e,t,a){"use strict";a("fca8")},b29d:function(e,t,a){},b41a:function(e,t,a){},ba63:function(e,t,a){"use strict";a("3074")},bb7f:function(e,t,a){"use strict";a("d8e3")},bc32:function(e,t,a){},bc8d:function(e,t,a){},bd6b:function(e,t,a){},beaf:function(e,t,a){"use strict";a("cd59")},bfa7:function(e,t,a){},c432:function(e,t,a){},c5fc:function(e,t,a){"use strict";a("f978")},ca83:function(e,t,a){},cbca:function(e,t,a){"use strict";a("3007")},cd59:function(e,t,a){},cf23:function(e,t,a){},cfc4:function(e,t,a){"use strict";a("7cf5")},d05a:function(e,t,a){"use strict";a("21d7")},d0c4:function(e,t,a){},d127:function(e,t,a){"use strict";a("2b4a")},d18d:function(e,t,a){},d2c9:function(e,t,a){},d6b2:function(e,t,a){"use strict";a("e681")},d6bc:function(e,t,a){},d74b:function(e,t,a){"use strict";a("d6bc")},d754:function(e,t,a){"use strict";a("0b49")},d8e3:function(e,t,a){},d8e4:function(e,t,a){"use strict";a("c432")},d9dc:function(e,t,a){"use strict";a("7f1a")},db32:function(e,t,a){},dc16:function(e,t,a){},dd3d:function(e,t,a){"use strict";a("5c87")},dd7f:function(e,t,a){"use strict";a("e757")},dec1:function(e,t,a){},e011:function(e,t,a){},e347:function(e,t,a){e.exports=a.p+"img/logo.1d37bf74.svg"},e378:function(e,t,a){},e3c3:function(e,t,a){},e3f6:function(e,t,a){"use strict";a("e793")},e5f4:function(e,t,a){"use strict";a("5390")},e681:function(e,t,a){},e757:function(e,t,a){},e793:function(e,t,a){},e8e6:function(e,t,a){"use strict";a("9300")},ecbb:function(e,t,a){"use strict";a("cf23")},ee5b:function(e,t,a){},eed5:function(e,t,a){"use strict";a("fd48")},f126:function(e,t,a){},f957:function(e,t,a){},f978:function(e,t,a){},fc90:function(e,t,a){},fca8:function(e,t,a){},fcab:function(e,t,a){},fd48:function(e,t,a){}});
//# sourceMappingURL=app.ea2c748f.js.map