(function(e){function t(t){for(var n,i,s=t[0],o=t[1],c=t[2],u=0,p=[];u<s.length;u++)i=s[u],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&p.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);d&&d(t);while(p.length)p.shift()();return l.push.apply(l,c||[]),a()}function a(){for(var e,t=0;t<l.length;t++){for(var a=l[t],n=!0,s=1;s<a.length;s++){var o=a[s];0!==r[o]&&(n=!1)}n&&(l.splice(t--,1),e=i(i.s=a[0]))}return e}var n={},r={app:0},l=[];function i(t){if(n[t])return n[t].exports;var a=n[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,i),a.l=!0,a.exports}i.m=e,i.c=n,i.d=function(e,t,a){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)i.d(a,n,function(t){return e[t]}.bind(null,n));return a},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/arm-isujt/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],o=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var d=o;l.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"0ce8":function(e,t,a){},"0df4":function(e,t,a){e.exports=a.p+"img/logo-mini.bc5ea018.svg"},"128c":function(e,t,a){"use strict";a("f02e")},"14d2":function(e,t,a){"use strict";a("6fb3")},"16a2":function(e,t,a){"use strict";a("2fea")},"1b94":function(e,t,a){},"23dc":function(e,t,a){"use strict";a("99fb")},"284b":function(e,t,a){},"2e17":function(e,t,a){},"2f55":function(e,t,a){},"2fb3":function(e,t,a){},"2fea":function(e,t,a){},"35ee":function(e,t,a){},"39c7":function(e,t,a){"use strict";a("2fb3")},"3e0f":function(e,t,a){"use strict";a("a621")},4482:function(e,t,a){"use strict";a("2f55")},"4c5a":function(e,t,a){"use strict";a("5212")},5212:function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("5363"),a("284b");var n=a("2b0e"),r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",[n("v-navigation-drawer",{staticClass:"nav-bold-text",class:e.mini?"nav-mini":"",attrs:{id:"nav","mini-variant":e.mini,color:"#00194D",app:"",permanent:"",width:300,floating:"","mini-variant-width":"80"}},[n("div",{on:{click:e.home}},[n("img",{staticClass:"ma-5",attrs:{src:a("7584")("./"+e.changeLogo)}})]),e.mini?n("v-list",{attrs:{dark:"",dense:"",flat:""}},[e._l(this.$store.state.menuItems,(function(t){return[t.isMiniView?n("v-list-item",{key:t.text,class:e.mini?"rounded-circle":"rounded-l-lg",attrs:{to:{path:t.path},"active-class":e.mini?"active-list-mini":"active-list","prepend-icon":t.icon,ripple:!1},on:{click:function(a){return e.setChildPath(t)}},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[n("v-list-item-action",{class:e.mini?"mr-0 my-0":"mr-2 my-0"},[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",{staticClass:"py-0"},[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1):e._e(),e._l(t.children,(function(t){return[t.isMiniView?n("v-list-item",{key:t.text,class:e.mini?"rounded-circle":"rounded-l-lg",attrs:{to:{path:t.path},"active-class":e.mini?"active-list-mini":"active-list","prepend-icon":t.icon,ripple:!1},on:{click:function(a){return e.setChildPath(t)}},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"child.model"}},[n("v-list-item-action",{class:e.mini?"mr-0 my-0":"mr-2 my-0"},[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",{staticClass:"py-0"},[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1):e._e()]}))]}))],2):n("v-list",{attrs:{dark:"",dense:"",flat:""}},[e._l(this.$store.state.menuItems,(function(t){return[t.children?n("v-list-group",{key:t.text,class:{"last-nested-active parent-nested-active":e.isChildActive(t)},attrs:{"prepend-icon":t.icon,"append-icon":t.arrow,ripple:!1},on:{click:function(a){return e.closeChildren(t)}},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])]},proxy:!0}],null,!0),model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[e._l(t.children,(function(t){return[t.children?n("v-list-group",{key:t.text,staticClass:"pa-0 last-nested",class:{"last-nested-active":e.isChildActive(t)},attrs:{"sub-group":"","prepend-icon":t.icon,ripple:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[n("v-list-item-title",{staticClass:"mr-0"},[e._v(" "+e._s(t.text)+" ")])]},proxy:!0}],null,!0),model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"child.model"}},e._l(t.children,(function(t,a){return n("v-list-item",{key:a,staticClass:"plain-text py-0 pl-3 my-0 rounded-l-lg",attrs:{"active-class":"is-active",color:"#00194d",to:{path:t.path},ripple:!1},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"sub_child.model"}},[n("v-list-item-title",{staticClass:"text-wrap"},[e._v(" "+e._s(t.text)+" ")])],1)})),1):n("v-list-item",{key:t.text,staticClass:"rounded-l-lg item-no-children",attrs:{"active-class":"is-active",to:{path:t.path},ripple:!1},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"child.model"}},[n("v-list-item-action",{staticClass:"mr-2 my-0"},[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",{staticClass:"py-0"},[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2):n("v-list-item",{key:t.text,class:e.mini?"rounded-circle":"rounded-l-lg",attrs:{to:{path:t.path},"active-class":e.mini?"active-list-mini":"active-list","prepend-icon":t.icon,ripple:!1},model:{value:t.model,callback:function(a){e.$set(t,"model",a)},expression:"item.model"}},[n("v-list-item-action",{class:(e.mini,"mr-0 my-0")},[n("v-icon",[e._v(e._s(t.icon))])],1),n("v-list-item-content",{staticClass:"py-0"},[n("v-list-item-title",[e._v(" "+e._s(t.text)+" ")])],1)],1)]}))],2),n("MenuFooter")],1),n("v-main",{attrs:{id:"main"}},[n("v-btn",{staticClass:"toggle-btn",attrs:{color:"#00194d",dark:"",small:""},on:{click:e.toggle}},[n("v-icon",[e._v(e._s(e.appMenuIcon))])],1),n("router-view"),n("Footer")],1)],1)},l=[],i=a("b85c"),s=(a("159b"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"main-footer px-5",attrs:{dark:""}},[a("p",{staticClass:"main-footer-copyright ml-auto mb-0 pa-0"},[e._v("2021 © АО «НИИАС»")])])}),o=[],c={name:"Footer"},d=c,u=(a("4482"),a("2877")),p=a("6544"),f=a.n(p),h=a("553a"),v=Object(u["a"])(d,s,o,!1,null,"3ecb838a",null),m=v.exports;f()(v,{VFooter:h["a"]});var b=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-footer",{staticClass:"menu-footer",class:this.$store.state.menuMini?"pl-6":"",attrs:{fixed:"",dark:""}},[this.$store.state.menuMini?e._e():a("p",{staticClass:"ma-0"},[e._v("Петр Петрович")]),a("v-btn",{class:this.$store.state.menuMini?"":"ml-auto",attrs:{icon:"",color:"white"}},[a("span",{staticClass:"icon icon-exit"})])],1)},_=[],x={name:"MenuFooter"},g=x,y=(a("9b23"),a("8336")),T=Object(u["a"])(g,b,_,!1,null,"3be66aca",null),D=T.exports;f()(T,{VBtn:y["a"],VFooter:h["a"]});var H={name:"App",components:{MenuFooter:D,Footer:m},data:function(){return{mini:!1}},created:function(){"/"===this.$route.path&&this.$router.push("/tasks/")},methods:{home:function(){this.$router.push("/tasks/")},setChildPath:function(e){e.children&&this.$router.push(e.children[0].path)},toggle:function(){var e=this;this.$store.state.menuMini=this.mini=!this.mini,this.mini||this.$store.state.menuItems.forEach((function(t){t.model=e.$route.path.indexOf(t.path)>=0,t.children&&t.children.forEach((function(t){t.model=e.$route.path.indexOf(t.path)>=0,t.children&&t.children.forEach((function(t){t.model=e.$route.path.indexOf(t.path)>=0}))}))}))},closeChildren:function(e){this.mini||this.$store.state.menuItems.forEach((function(t){t.path===e.path&&t.children&&t.children.forEach((function(e){e.model=!1}))}))},isChildActive:function(e){var t,a=!1,n=Object(i["a"])(this.$store.state.menuItems);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.path===e.path)a=this.$route.path.indexOf(r.path)>=0;else if(r.children){var l,s=Object(i["a"])(r.children);try{for(s.s();!(l=s.n()).done;){var o=l.value;o.path===e.path&&(a=this.$route.path.indexOf(o.path)>=0)}}catch(c){s.e(c)}finally{s.f()}}}}catch(c){n.e(c)}finally{n.f()}return a}},computed:{changeLogo:function(){return this.mini?"logo-mini.svg":"logo.svg"},appMenuIcon:function(){return this.mini?"mdi-chevron-right":"mdi-chevron-left"}}},w=H,$=(a("034f"),a("860d"),a("7496")),k=a("132d"),C=a("8860"),F=a("56b0"),V=a("da13"),M=a("1800"),O=a("5d23"),j=a("f6c4"),E=a("f774"),P=Object(u["a"])(w,r,l,!1,null,"2165ebc8",null),B=P.exports;f()(P,{VApp:$["a"],VBtn:y["a"],VIcon:k["a"],VList:C["a"],VListGroup:F["a"],VListItem:V["a"],VListItemAction:M["a"],VListItemContent:O["a"],VListItemTitle:O["b"],VMain:j["a"],VNavigationDrawer:E["a"]});var S=a("8c4f"),N=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},I=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[a("h1")])}],A={name:"Home",components:{}},R=A,U=Object(u["a"])(R,N,I,!1,null,null,null),z=U.exports,L=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"drl",filterType:"select",labelText:"Район управления ДРЛ",isRemote:!0,filterUrl:"/arm-isujt/server/drl.json"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Buttons",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType,hasDetail:!0},on:{loadDetail:e.setDetail}}),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders,headersFlat:e.detailHeaders}})],1)},G=[],q=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-expansion-panels",{attrs:{focusable:"",flat:""},model:{value:e.panel,callback:function(t){e.panel=t},expression:"panel"}},[a("v-expansion-panel",[a("v-expansion-panel-header",{attrs:{"hide-actions":"",ripple:!1},on:{click:function(t){return e.changeFilter()}}},[a("span",{staticClass:"mr-2 icon icon-funnel"}),a("span",[e._v("Фильтры")]),a("span",{staticClass:"icon icon-arrow-dropdown"})]),a("v-expansion-panel-content",[a("v-row",{attrs:{dense:""}},[e._l(e.filters,(function(t){return["date"===t.filterType?a("DateFilter",{key:t.filterName,ref:""+t.filterName,refInFor:!0,attrs:{labelText:t.labelText,filterName:t.filterName}}):e._e(),"select"===t.filterType?a("SelectFilter",{key:t.filterName,ref:""+t.filterName,refInFor:!0,attrs:{isRemote:t.isRemote,localItems:t.localItems,filterUrl:t.filterUrl,labelText:t.labelText,filterName:t.filterName}}):e._e()]}))],2),a("FilterButtons",{on:{updateTable:function(t){return e.$emit("reloadTable")},resetFilters:function(t){return e.resetAll()}}})],1)],1)],1)},J=[],W=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mr-5"},[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText))]),a("v-menu",{staticClass:"mt-2",attrs:{"close-on-content-click":!1,"nudge-right":40,transition:"scale-transition","offset-y":"","max-width":"290px","min-width":"290px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-text-field",e._g({attrs:{solo:"",flat:"","hide-details":"",readonly:"",value:e.fromDateDisp},on:{"click:append":e.showC},scopedSlots:e._u([{key:"append",fn:function(){return[a("v-icon",{staticClass:"cal-icon",attrs:{color:"#FF7141"},on:{click:e.showC}},[e._v("mdi-calendar")])]},proxy:!0}],null,!0)},n))]}}]),model:{value:e.fromDateMenu,callback:function(t){e.fromDateMenu=t},expression:"fromDateMenu"}},[a("v-date-picker",{attrs:{"no-title":"","first-day-of-week":"1"},on:{input:function(t){e.closePicker(),e.setValueInStore(e.value)}},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)],1)},K=[],Q=a("3835"),X=(a("1276"),a("ac1f"),a("99af"),{name:"DateFilter",props:["labelText","filterName"],data:function(e){return{isShow:!1,value:(new Date).toISOString().substr(0,10),dateFormatted:e.formatDate((new Date).toISOString().substr(0,10)),fromDateMenu:!1}},created:function(){this.$store.state.filtersValues[this.filterName]=this.value},computed:{fromDateDisp:function(){return this.formatDate(this.value)}},methods:{setValueInStore:function(e){this.$store.state.filtersValues.date=e},formatDate:function(e){if(!e)return null;var t=e.split("-"),a=Object(Q["a"])(t,3),n=a[0],r=a[1],l=a[2];return"".concat(l,".").concat(r,".").concat(n)},showC:function(){this.fromDateMenu=!this.fromDateMenu},closePicker:function(){this.fromDateMenu=!1}}}),Y=X,Z=(a("39c7"),a("2e4b")),ee=a("e449"),te=a("8654"),ae=Object(u["a"])(Y,W,K,!1,null,"766b1bb1",null),ne=ae.exports;f()(ae,{VDatePicker:Z["a"],VIcon:k["a"],VMenu:ee["a"],VTextField:te["a"]});var re=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("p",{staticClass:"filter-label"},[e._v(e._s(e.labelText))]),a("v-select",{attrs:{items:e.isRemote?e.items:e.localItems,color:"#FF7141","item-text":"name","item-value":"id",solo:"",flat:"","hide-details":""},on:{change:function(t){return e.changeValue()}},scopedSlots:e._u([{key:"item",fn:function(t){var n=t.item;return[a("span",{staticClass:"select-item-text"},[e._v(e._s(n.name))])]}}]),model:{value:e.value,callback:function(t){e.value=t},expression:"value"}})],1)},le=[],ie=a("bc3a"),se=a.n(ie),oe={name:"SelectFilter",created:function(){this.fetchItems(),this.$store.state.filtersValues[this.filterName]=this.value},methods:{fetchItems:function(){var e=this;se.a.get(this.filterUrl).then((function(t){e.items=t.data.data}))},changeValue:function(){this.$store.state.filtersValues[this.filterName]=this.value}},props:["labelText","filterName","isRemote","filterUrl","localItems"],data:function(){return{value:1,items:[]}}},ce=oe,de=(a("16a2"),a("b974")),ue=Object(u["a"])(ce,re,le,!1,null,"538dc93c",null),pe=ue.exports;f()(ue,{VSelect:de["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"mt-6",attrs:{dense:""}},[a("v-btn",{staticClass:"update mr-5",attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){return e.$emit("updateTable")}}},[e._v(" Обновить ")]),a("v-btn",{staticClass:"clear mr-5",attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:function(t){return e.$emit("resetFilters")}}},[e._v(" По умолчанию ")])],1)},he=[],ve={name:"FilterButtons"},me=ve,be=(a("128c"),a("0fd9")),_e=Object(u["a"])(me,fe,he,!1,null,"df54ec34",null),xe=_e.exports;f()(_e,{VBtn:y["a"],VRow:be["a"]});var ge={name:"Filters",components:{DateFilter:ne,SelectFilter:pe,FilterButtons:xe},props:["filters"],data:function(){return{panel:0}},methods:{resetAll:function(){for(var e in this.$refs)this.$store.state.defaultFiltersValues&&this.$store.state.defaultFiltersValues[e]&&("date"===e&&(this.$store.state.defaultFiltersValues[e]=(new Date).toISOString().substr(0,10)),this.$refs[e][0].value=this.$store.state.defaultFiltersValues[e])},changeFilter:function(){this.$store.state.filterOpen=!this.$store.state.filterOpen}},created:function(){this.$store.state.filterOpen=!0}},ye=ge,Te=(a("a8de"),a("cd55")),De=a("49e2"),He=a("c865"),we=a("0393"),$e=Object(u["a"])(ye,q,J,!1,null,"59dbdd5e",null),ke=$e.exports;f()($e,{VExpansionPanel:Te["a"],VExpansionPanelContent:De["a"],VExpansionPanelHeader:He["a"],VExpansionPanels:we["a"],VRow:be["a"]});var Ce=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{staticClass:"ml-1 mr-0 title-row"},[a("v-icon",{staticClass:"title-row__icon",attrs:{color:"#ff7141"}},[e._v(e._s(e.params.icon))]),a("h3",{staticClass:"mr-5 block-title"},[e._v(e._s(e.params.name))]),a("div",{staticClass:"side-buttons pa-0"},[e.params.buttons.print?a("PrintButton"):e._e(),e.params.buttons.export?a("ExportButton",{attrs:{url:e.exportUrl}}):e._e()],1),e.params.buttons.recalc?a("RecalcButton"):e._e(),e.params.buttons.save?a("SaveButton"):e._e(),e.params.buttons.cancel?a("CancelButton"):e._e()],1)},Fe=[],Ve=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"export pl-0 pr-0",attrs:{"x-small":"",text:"",ripple:!1},on:{click:e.exportExcel}},[a("span",{staticClass:"icon-side icon icon-excel"}),e._v(" Выгрузить в Excel ")])},Me=[],Oe={name:"ExportButton",props:["url"],methods:{exportExcel:function(){window.open("/ajax.php?module=ExcelController&"+this.url)}}},je=Oe,Ee=(a("14d2"),Object(u["a"])(je,Ve,Me,!1,null,"e695dbb6",null)),Pe=Ee.exports;f()(Ee,{VBtn:y["a"]});var Be=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{staticClass:"print pl-0 pr-0",attrs:{"x-small":"",text:"",ripple:!1},on:{click:e.printTable}},[a("span",{staticClass:"icon-side icon icon-print"}),e._v(" Печать ")])},Se=[],Ne={name:"PrintButton",methods:{printTable:function(){var e=document.getElementById("table"),t=window.open("");t.document.write(e.innerHTML),t.document.close(),t.print()}}},Ie=Ne,Ae=(a("b9ff"),Object(u["a"])(Ie,Be,Se,!1,null,"53b8c394",null)),Re=Ae.exports;f()(Ae,{VBtn:y["a"]});var Ue=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"recalc",staticClass:"recalc-btn mr-5",class:{"disable-events":this.$store.state.recalcBtnActive},attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:e.recalcData}},[e._v(" Пересчитать ")])},ze=[],Le={name:"RecalcButton",methods:{recalcData:function(){this.$store.state.recalcBtnActive=!0,this.$store.state.saveBtnActive=!1}}},Ge=Le,qe=(a("a352"),Object(u["a"])(Ge,Ue,ze,!1,null,"e111a6d2",null)),Je=qe.exports;f()(qe,{VBtn:y["a"]});var We=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"save",staticClass:"save-btn mr-5",class:{"disable-events":this.$store.state.saveBtnActive},attrs:{color:"#4D6C99","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:e.saveData}},[e._v(" Сохранить ")])},Ke=[],Qe={name:"SaveButton",methods:{saveData:function(){this.$store.state.saveBtnActive=!0,this.$store.state.cancelBtnActive=!0}}},Xe=Qe,Ye=(a("8fa2"),Object(u["a"])(Xe,We,Ke,!1,null,"6965bc54",null)),Ze=Ye.exports;f()(Ye,{VBtn:y["a"]});var et=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-btn",{ref:"cancel",staticClass:"cancel-btn mr-auto",class:{"disable-events":this.$store.state.cancelBtnActive},attrs:{color:"#FF7141","min-height":"29px",small:"",dark:"",depressed:"",ripple:!1},on:{click:e.cancelChange}},[e._v(" Отмена ")])},tt=[],at={name:"CancelButton",methods:{cancelChange:function(){this.$store.state.cancelBtnActive=!0,this.$store.state.saveBtnActive=!0,this.$store.state.recalcBtnActive=!0}}},nt=at,rt=(a("5a31"),Object(u["a"])(nt,et,tt,!1,null,"c8d97f12",null)),lt=rt.exports;f()(rt,{VBtn:y["a"]});var it={name:"Buttons",components:{CancelButton:lt,SaveButton:Ze,RecalcButton:Je,PrintButton:Re,ExportButton:Pe},props:{params:Object,exportUrl:String}},st=it,ot=(a("9af9"),Object(u["a"])(st,Ce,Fe,!1,null,"5518907b",null)),ct=ot.exports;f()(ot,{VIcon:k["a"],VRow:be["a"]});var dt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-tabs",{attrs:{"hide-slider":""},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tableTypeArray,(function(t,n){return a("v-tab",{key:t.tab,style:e.getStyles(n),attrs:{ripple:!1,to:{path:t.tablePath}}},[e._v(" "+e._s(t.tabName))])})),1)},ut=[],pt={name:"Tabs",data:function(){return{tab:this.tabModel}},methods:{getStyles:function(e){var t=e>0?23:16;return"z-index:"+(9-e)+";padding-left:"+t+"px;"}},props:["tableTypeArray","tabModel"]},ft=pt,ht=(a("23dc"),a("71a3")),vt=a("fe57"),mt=Object(u["a"])(ft,dt,ut,!1,null,"6f9b32ce",null),bt=mt.exports;f()(mt,{VTab:ht["a"],VTabs:vt["a"]});var _t=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{directives:[{name:"resize",rawName:"v-resize",value:e.onResize,expression:"onResize"}],class:{"slide-leave slide-enter-active":this.$store.state.sheet&&e.hasDetail,"slide-leave-to slide-leave-active":!this.$store.state.sheet&&e.hasDetail},style:e.getTableHeight,attrs:{id:"table",elevation:"0"}},[a("div",{staticClass:"v-data-table pl-2 v-data-table--dense v-data-table--fixed-height theme--light"},[a("div",{staticClass:"v-data-table__wrapper",style:e.getTableHeight},[a("table",{staticClass:"v-data-table-body"},[a("thead",{staticClass:"v-data-table-header"},[a("tr",e._l(e.headers,(function(t,n){return a("th",{key:n,class:e.getAlign(t,t.textMinify),attrs:{rowspan:t.children?1:3,colspan:e.getColspan(t)}},[e._v(" "+e._s(t.text)+" ")])})),0),a("tr",e._l(e.getSubHeader(e.headers),(function(t,n){return a("th",{key:n,class:e.getAlign(t,t.textMinify),attrs:{rowspan:t.children?1:2,colspan:t.children?t.children.length:1}},[e._v(" "+e._s(t.text)+" ")])})),0),a("tr",e._l(e.getSubHeader(e.headers,!0),(function(t,n){return a("th",{key:n,class:e.getAlign(t),attrs:{rowspan:t.children?1:2,colspan:t.children?t.children.length:1}},[e._v(" "+e._s(t.text)+" ")])})),0)]),a("tbody",e._l(e.tableData,(function(t,n){return a("tr",{key:n,class:{"selected-row":n===e.selectedItem},on:{click:function(t){return e.selectRow(n)}}},e._l(e.headersFlat,(function(r,l){return a("td",{key:l,class:e.cellClasses[n+"_"+r.value],on:{click:function(a){e.openDetail(a,t[r.value+"_request"],r.value),e.highlightCell(n,r,t)}}},[t[r.value+"_tooltip"]?a("v-tooltip",{attrs:{right:"","max-width":"190","open-delay":"2",transition:"fade-transition"},scopedSlots:e._u([{key:"activator",fn:function(l){var i=l.on;return[e.isEditable(t,r.editable,t[r.value])?a("div",e._g({},i),[a("EditCell",{attrs:{oldValue:t[r.value],row:t,col:r,rowId:n},on:{updateCell:function(a){return e.changeClass(a,t[r.value],t,r,n)}}})],1):a("div",e._g({class:{"detail-cell":e.selectedCell.i===n&&e.selectedCell.dataIndex===r.value}},i),[e._v(" "+e._s(e._f("customizeValue")(t[r.value],r.value,t,e.tableType,e.tableData,n))+" ")])]}}],null,!0)},[a("span",[e._v(e._s(e.getTooltip(t[r.value+"_tooltip"],t[r.value])))])]):[e.isEditable(t,r.editable,t[r.value])?a("EditCell",{attrs:{oldValue:t[r.value],row:t,col:r,rowId:n},on:{updateCell:function(a){return e.changeClass(a,t[r.value],t,r,n)}}}):a("div",{class:{"detail-cell":e.selectedCell.i===n&&e.selectedCell.dataIndex===r.value}},[e._v(" "+e._s(e._f("customizeValue")(t[r.value],r.value,t,e.tableType,e.tableData,n))+" ")])]],2)})),0)})),0)])])])])},xt=[],gt=(a("498a"),a("a434"),a("a9e3"),a("5319"),a("4de4"),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-text-field",{attrs:{value:e.row[e.col.value],"single-line":"","hide-details":"",dense:"",max:"999",min:"0",type:"number",oninput:"if(Number(this.value) > Number(this.max)) this.value = this.value.slice(0, this.max.length); \n        if (this.value === '') this.value = 0;\n        if (this.value) this.value = +this.value;"},on:{input:function(t){return e.$emit("updateCell",t)}}})}),yt=[],Tt={name:"EditCell",props:["row","col","oldValue","rowId"]},Dt=Tt,Ht=Object(u["a"])(Dt,gt,yt,!1,null,null,null),wt=Ht.exports;f()(Ht,{VTextField:te["a"]});var $t={name:"DataTable",components:{EditCell:wt},created:function(){this.isDetail||(this.$store.state.defaultFiltersValues=Object.assign({},this.params)),this.fetchTableData(this.params),this.$store.state.sheet=!1},filters:{customizeValue:function(e,t,a,n,r,l){var i=e;if("norm_depo"===n&&"sort_number"===t){if(""===a.type){var s=0;return r.every((function(e){return""===e.type&&s++,a!==e})),s}return""}if("row_number"===t){var o=0;return r.every((function(e){return o++,a!==e})),o}return"norm_ratio"===n&&"number"===typeof e?Math.floor(100*i)/100:("string"===typeof e&&e.indexOf("<b>")>=0&&(i=e.substring(3,e.length-4).trim()),"st_tasks"!==n||"road"!==t&&"station_name"!==t||l-1>=0&&a[t]===r[l-1][t]&&(i=""),i)}},computed:{getTableHeight:function(){var e=138,t=210,a=65,n=190,r=30,l=this.windowSize.y-t;return this.hasDetail&&(l-=a),this.hasInfo&&(l-=r),this.$store.state.filterOpen&&(l-=e),this.$store.state.sheet&&(l-=n),this.isDetail&&(l=185),"height: ".concat(l,"px")}},methods:{changeClass:function(e,t,a,n,r){this.setCellStyles(a,r,n,e),this.changeValue(e,n.value,r,t),this.$store.state.cancelBtnActive=!this.editedValues.length>0,this.$store.state.recalcBtnActive=!this.editedValues.length>0,this.$forceUpdate()},changeValue:function(e,t,a,n){var r;this.editedValues.forEach((function(l,i,s){l.id===a&&l.col===t&&(+e!==+n?l.value=e:s.splice(i),r=!0)})),r||this.editedValues.push({value:e,col:t,id:a})},highlightCell:function(e,t,a){!a[t.value+"_request"]&&"duration"!==t.value||"GG"===a.type||"SS"===a.type||"G"===a.type||"S"===a.type||"I"===a.type||!a[t.value]&&0!==a[t.value]||(this.selectedCell.i===e&&this.selectedCell.dataIndex===t.value?(this.selectedCell.i=null,this.selectedCell.dataIndex=null,this.$store.state.sheet=!1):(this.selectedCell.i=e,this.selectedCell.dataIndex=t.value))},openDetail:function(e,t,a){(t||"duration"===a)&&(this.$store.state.sheet||setTimeout((function(){return e.target.scrollIntoView({block:"end",inline:"nearest",behavior:"smooth"})}),50),this.$store.state.sheet=!0,this.$emit("loadDetail",t||""))},selectRow:function(e){this.selectedItem=e},getAlign:function(e,t){var a="";return"mini"===t&&(a+="smaller-text "),e.border?a+="thick-border-bottom ":a+="thin-border-bottom ",e.alignHeader||(a+="align-text-left"),a},getTooltip:function(e,t){if(e){if("norm_sec"===this.tableType||"reg_join"===this.tableType||"reg_sec"===this.tableType){var a,n=e.split(";"),r=Number(n[0].replace(/\D+/g,"")),l=Number(n[1].replace(/\D+/g,"")),i="";return Number(n[2].replace(/\D+/g,""))&&(a=Number(n[2].replace(/\D+/g,""))),""!==n[3].split(" = ")[1]&&(i=n[3].split(" = ")[1]),n&&i&&a&&t!==a?"Данные изменены: "+i+" с "+a+" на "+t+"; мин = "+r+"; макс = "+l:"мин = "+r+"; макс = "+l}return e}return""},isEditable:function(e,t,a){return void 0!==a&&t&&"S"!==e.type&&"SS"!==e.type&&"I"!==e.type},setCellStyles:function(e,t,a,n){var r="";if((+e[a.value]||0===+e[a.value]||"string"===typeof e[a.value]&&e[a.value].indexOf("<b>")>=0&&(+e[a.value].substring(3,e[a.value].length-4)||0===+e[a.value].substring(3,e[a.value].length-4)))&&(r+="numbers-font-size "),!a.editable&&!e[a.value+"_request"]&&"duration"!==a.value||"GG"===e.type||"SS"===e.type||"G"===e.type||"S"===e.type||"I"===e.type||!e[a.value]&&0!==+e[a.value]||(e[a.value+"_request"]||"duration"===a.value?r+="detail-cell-main ":n&&+n!==+e[a.value]?r+="edited-cell-main ":r+="edit-cell-main "),"reg_join"===this.tableType&&a.editable&&0===e[a.value]&&(r+="back-pink "),("GG"===e.type||"SS"===e.type||"G"===e.type||"S"===e.type||"I"===e.type||"string"===typeof e[a.value]&&e[a.value].indexOf("<b>")>=0)&&(r+="bold-text "),a.fixedColumn&&(r+="fixed-border "),e[a.value+"_color"]&&"yellow"===e[a.value+"_color"]&&(r+="back-yellow "),e[a.value+"_tooltip"]&&"norm_depo"!==this.tableType&&"string"===typeof value&&e[a.value+"_tooltip"].indexOf(";")>=0){var l,i=e[a.value+"_tooltip"].split(";"),s=Number(i[0].replace(/\D+/g,"")),o=Number(i[1].replace(/\D+/g,"")),c=Math.ceil(1.1*o),d="",u=n||e[a.value];Number(i[2].replace(/\D+/g,""))&&(l=Number(i[2].replace(/\D+/g,""))),""!==i[3].split(" = ")[1]&&(d=i[3].split(" = ")[1]),i&&(d&&(l||0===l)&&u!==l?u>=s&&u<=o||!(0===u||u>c)?u>=s&&u<=o||!(0===u||u>c)?0!==u&&u>o&&u<=c&&(r+="back-yellow edited-cell-main "):r+="back-pink ":r+="back-pink edited-cell-main ":u>=s&&u<=o||!(0===u||u>c)?u>=s&&u<=o||!(0===u||u>c)?0!==u&&u>o&&u<=c&&(r+="back-yellow edit-cell-main "):r+="back-pink ":r+="back-pink edit-cell-main ")}this.cellClasses[t+"_"+a.value]=r},fetchTableData:function(e){var t=this;(!this.isDetail||this.isDetail&&this.$store.state.sheet)&&se.a.get(this.url||e,{params:this.isDetail?"":e}).then((function(e){t.tableData=e.data.data,t.tableData.forEach((function(e,a){t.headersFlat.forEach((function(n){t.setCellStyles(e,a,n)}))}))}))},onResize:function(){this.windowSize={x:window.innerWidth,y:window.innerHeight}},getSubHeader:function(e,t){var a=[];if(e.filter((function(e){return e.children})).forEach((function(e){a=a.concat(e.children)})),t){var n=[];return a.filter((function(e){return e.children})).forEach((function(e){n=n.concat(e.children)})),n}return a},getColspan:function(e){var t;return t=e.cols?e.cols:e.children?e.children.length:1,t}},props:["headers","headersFlat","url","params","tableType","isDetail","hasDetail","hasInfo"],data:function(){return{editedValues:[],selectedItem:null,cellClasses:{},selectedCell:{i:null,dataIndex:null},windowSize:{x:0,y:0},tableData:[]}}},kt=$t,Ct=(a("3e0f"),a("b0af")),Ft=a("3a2f"),Vt=a("269a"),Mt=a.n(Vt),Ot=a("dc22"),jt=Object(u["a"])(kt,_t,xt,!1,null,"4a662c83",null),Et=jt.exports;f()(jt,{VCard:Ct["a"],VTooltip:Ft["a"]}),Mt()(jt,{Resize:Ot["a"]});var Pt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-card",{staticClass:"detail-block",class:{"slide-leave slide-enter-active":this.$store.state.sheet,"slide-leave-to slide-leave-active":!this.$store.state.sheet},attrs:{elevation:"0"}},[a("v-col",{staticClass:"pa-0"},[a("v-btn",{staticClass:"open-btn",attrs:{color:"#00194D",dark:"",block:"",height:"20",elevation:"0",ripple:!1},on:{click:function(t){return e.openSheet()}}},[a("v-icon",{staticClass:"icon icon-arrow-dropdown",class:{"icon-arrow-dropdown-up":this.$store.state.sheet}})],1),a("v-row",{staticClass:"detail-header"},[a("h3",{staticClass:"detail-title mr-auto"},[e._v(" "+e._s(this.$store.state.detailInfo.detailName)+" ")]),a("transition",{attrs:{name:"fade"}},[this.$store.state.sheet?a("PrintButton",{staticClass:"mr-4"}):e._e()],1),a("transition",{attrs:{name:"fade"}},[this.$store.state.sheet?a("ExportButton"):e._e()],1)],1),a("transition",{attrs:{name:"slide"}},[a("v-card",{staticClass:"detail-table"},[a("DataTable",{ref:"tableDetail",attrs:{headers:e.headers,headersFlat:e.headersFlat,type:e.tableType,params:e.params,isDetail:!0}})],1)],1)],1)],1)},Bt=[],St={name:"DetailPanel",components:{ExportButton:Pe,PrintButton:Re,DataTable:Et},props:["headers","headersFlat","url","params","tableType"],methods:{openSheet:function(){this.$store.state.sheet=!this.$store.state.sheet},updateDetail:function(e){this.$refs.tableDetail.fetchTableData(e)}}},Nt=St,It=(a("4c5a"),a("62ad")),At=Object(u["a"])(Nt,Pt,Bt,!1,null,null,null),Rt=At.exports;f()(At,{VBtn:y["a"],VCard:Ct["a"],VCol:It["a"],VIcon:k["a"],VRow:be["a"]});var Ut={name:"NormalizationSections",components:{DetailPanel:Rt,Buttons:ct,Filters:ke,Tabs:bt,DataTable:Et},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,params:{buttons:{print:!0,export:!0,recalc:!0,save:!0,cancel:!0},name:"Оперативное нормирование",icon:"icon icon-trending-up"},requestForExport:"method=norm_1&tab=panel-reportOP",url:"/arm-isujt/server/norm_1.json",detailHeaders:[{text:"№ п/п",value:"row_number",alignHeader:"center",border:!0},{text:"Время\nначала «Окна»",value:"train_num",border:!0},{text:"Время\nокончания «Окна»",value:"train_ind",border:!0},{text:"Продолжительность\n«Окна» (час)",value:"short_oper",border:!0},{text:"Описание места\nпроведения (перегон)",value:"time_oper",border:!0},{text:"Описание\nвыполняемых работ",value:"location",border:!0}],tabModel:0,tableType:"norm_sec",headers:[{text:"Тяговый полигон",align:"start",value:"long_name",textMinify:"mini",children:[{text:"Наименование\nрасчетных участков",textMinify:"mini",border:!0}]},{text:"Длина\n(L,км)",value:"distance",border:!0},{text:"Коэф.\nКп.гр.э",value:"k_pgre",border:!0},{text:"Коэф.\nКп.п.э.",value:"k_pe",border:!0},{text:"Кол-во\nпоездов\nN(max)",value:"tr_num",border:!0},{text:"В т.ч. тяжело\nвесных N\n(2-ая тяга\nСМЕТ)",value:"tr_heavy_num",border:!0},{text:"Окна,\nчас",value:"duration",border:!0},{text:"Потребность локомотивов",value:"way",cols:15,alignHeader:"center",children:[{text:"Грузовое движение",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"ft",border:!0},{text:"Мт\n(3-х)",value:"ft3",border:!0},{text:"Мт\n(2-х)",value:"fl",border:!0}]},{text:"ПВД",alignHeader:"center",children:[{text:"Мт\n(3-х)",value:"locl3",border:!0},{text:"Мт\n(2-х)",value:"locl",border:!0}]},{text:"ТОЛКАЧИ",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"pt4",border:!0},{text:"Мт\n(3-х)",value:"pt",border:!0},{text:"Мт\n(2-х)",value:"pl",border:!0}]},{text:"ОПЕР, РД",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"rt4",border:!0},{text:"Мт\n(3-х)",value:"rt",border:!0},{text:"Мт\n(2-х)",value:"rl",border:!0}]},{text:"ВСЕГО",alignHeader:"center",children:[{text:"Мт\n(4-х)",value:"t",border:!0},{text:"Мт\n(3-х)",value:"t3",border:!0},{text:"Мт\n(2-х)",value:"l",border:!0}]},{text:"ИТОГО",alignHeader:"center",children:[{text:"Мв",value:"total",border:!0}]}]}],headersFlat:[{text:"Тяговый полигон",align:"start",sortable:!1,value:"long_name",fixedColumn:!0,children:[{text:"Наименование расчетных участков"}]},{text:"Длина (L,км)",value:"distance"},{text:"Коэф. Кп.гр.э",value:"k_pgre"},{text:"Коэф. Кп.п.э.",value:"k_pe"},{text:"Кол-во поездов N(max)",value:"tr_num",editable:!0,tooltip:!0},{text:"В т.ч. тяжело весных N (2-ая тяга СМЕТ)",value:"tr_heavy_num"},{text:"Окна, час",value:"duration"},{text:"Мт (4-х)",value:"ft"},{text:"Мт (3-х)",value:"ft3"},{text:"Мт (2-х)",value:"fl"},{text:"Мт (3-х)",value:"locl3",editable:!0},{text:"Мт (2-х)",value:"locl",editable:!0},{text:"Мт (4-х)",value:"pt4",editable:!0},{text:"Мт (3-х)",value:"pt",editable:!0},{text:"Мт (2-х)",value:"pl",editable:!0},{text:"Мт (4-х)",value:"rt4",editable:!0},{text:"Мт (3-х)",value:"rt",editable:!0},{text:"Мт (2-х)",value:"rl",editable:!0},{text:"Мт (4-х)",value:"t"},{text:"Мт (3-х)",value:"t3"},{text:"Мт (2-х)",value:"l"},{text:"Мв",value:"total"}]}},created:function(){this.$store.state.detailInfo.detailName="Планируемые окна на расчетном участке"},computed:{createExportUrl:function(){return"method=norm_1&tab=panel-reportOP&date="+this.getFormattedDate(this.$store.state.filtersValues.date)}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),drl:this.$store.state.filtersValues.drl})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail("/arm-isujt/server/analize_details.json")}}},zt=Ut,Lt=Object(u["a"])(zt,L,G,!1,null,null,null),Gt=Lt.exports,qt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Buttons",{attrs:{params:e.params}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType}})],1)},Jt=[],Wt={name:"NormalizationDepo",components:{Buttons:ct,Filters:ke,Tabs:bt,DataTable:Et},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),drl:1})}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,url:"/arm-isujt/server/norm_depo.json",tableType:"norm_depo",params:{buttons:{print:!0},name:"Оперативное нормирование",icon:"icon icon-trending-up"},tabModel:1,headersFlat:[{text:"№",value:"sort_number"},{text:"Депо приписки локомотивов",value:"depot_name",fixedColumn:!0},{text:"Т (4-х), т.ед.",value:"s"},{text:"Т (3-х), т.ед.",value:"t"},{text:"Л (2-х), т.ед.",value:"l"},{text:"Всего, т.ед.",value:"sum"}],headers:[{text:"№",align:"start",value:"road_code",textMinify:"mini",border:!0},{text:"Депо приписки локомотивов",align:"start",alignHeader:"center",value:"depot_name",textMinify:"mini",border:!0},{text:"Потребное количество эксплуатируемого\nпарка локомотивов на следующие сутки",align:"start",cols:4,alignHeader:"center",children:[{text:"Т (4-х), т.ед.",value:"s",alignHeader:"center",border:!0},{text:"Т (3-х), т.ед.",value:"t",alignHeader:"center",border:!0},{text:"Л (2-х), т.ед.",value:"l",alignHeader:"center",border:!0},{text:"Всего, т.ед.",value:"sum",alignHeader:"center",border:!0}]}]}}},Kt=Wt,Qt=Object(u["a"])(Kt,qt,Jt,!1,null,null,null),Xt=Qt.exports,Yt=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Buttons",{attrs:{params:e.params}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType}})],1)},Zt=[],ea={name:"NormalizationRatio",components:{Buttons:ct,Tabs:bt,Filters:ke,DataTable:Et},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),drl:1})}},props:["tabs"],data:function(){return{panel:0,url:"/arm-isujt/server/norm_minmax.json",tableType:"norm_ratio",params:{buttons:{print:!0},name:"Оперативное нормирование",icon:"icon icon-trending-up"},tablesForTabs:[{tabName:"Участки",tablePath:"/control/norm/section"},{tabName:"Депо",tablePath:"/control/norm/depo"},{tabName:"Процентное соотношение локомотивов",tablePath:"/control/norm/ratio"}],tabModel:2,headersFlat:[{text:"Депо приписки локомотивов",value:"depo",fixedColumn:!0},{text:"Т (4-х), т.ед.",value:"park_t4",editable:!0},{text:"Т (3-х), т.ед.",value:"park_t3",editable:!0},{text:"Л (2-х), т.ед.",value:"park_l2",editable:!0},{text:"Т (4-х)",value:"neisp_t4",editable:!0},{text:"Т (3-х)",value:"neisp_t3",editable:!0},{text:"Л (2-х)",value:"neisp_l2",editable:!0},{text:"Т (4-х), т.ед.",value:"max_t4"},{text:"Т (3-х), т.ед.",value:"max_t3"},{text:"Л (2-х), т.ед.",value:"max_l2"},{text:"Т (4-х)",value:"uch_t4"},{text:"Т (3-х)",value:"uch_t3"},{text:"Л (2-х)",value:"uch_l2"}],headers:[{text:"Депо приписки локомотивов",align:"start",value:"depo",textMinify:"mini",border:!0},{text:"Инвентарный парк",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х), т.ед.",value:"park_t4",alignHeader:"center",border:!0},{text:"Т (3-х), т.ед.",value:"park_t3",alignHeader:"center",border:!0},{text:"Л (2-х), т.ед.",value:"park_l2",alignHeader:"center",border:!0}]},{text:"Плановая доля неисправных локомотивов",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"neisp_t4",alignHeader:"center",border:!0},{text:"Т (3-х)",value:"neisp_t3",alignHeader:"center",border:!0},{text:"Л (2-х)",value:"neisp_l2",alignHeader:"center",border:!0}]},{text:"Макс. содержание",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х), т.ед.",value:"max_t4",alignHeader:"center",border:!0},{text:"Т (3-х), т.ед.",value:"max_t3",alignHeader:"center",border:!0},{text:"Л (2-х), т.ед.",value:"max_l2",alignHeader:"center",border:!0}]},{text:"% содержания от общего по участку",align:"start",alignHeader:"center",cols:3,children:[{text:"Т (4-х)",value:"uch_t4",alignHeader:"center",border:!0},{text:"Т (3-х)",value:"uch_t3",alignHeader:"center",border:!0},{text:"Л (2-х)",value:"uch_l2",alignHeader:"center",border:!0}]}]}}},ta=ea,aa=Object(u["a"])(ta,Yt,Zt,!1,null,null,null),na=aa.exports,ra=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Buttons",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType}})],1)},la=[],ia={name:"RegulationJoints",components:{Buttons:ct,Filters:ke,Tabs:bt,DataTable:Et},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),drl:1})}},computed:{createExportUrl:function(){return"method=regulation&tab=region-view&date="+this.getFormattedDate(this.$store.state.filtersValues.date)}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,dateValue:Math.floor(Date.now()/1e3),url:"/arm-isujt/server/splices.json",tableType:"reg_join",tabModel:0,params:{buttons:{print:!0,export:!0},name:"Оперативное регулирование",icon:"icon icon-settings"},headersFlat:[{text:"№ п/п",value:"sort_number"},{text:"Междорожные стыковые пункты",value:"long_name",fixedColumn:!0},{text:"на 6:00 ч",value:"plan_train_half",editable:!0},{text:"на 18:00 ч",value:"plan_train",editable:!0},{text:"на 6:00 ч",value:"plan_loco_half"},{text:"на 18:00 ч",value:"plan_loco"},{text:"на 6:00 ч",value:"plan_train_loco_half"},{text:"на 18:00 ч",value:"plan_train_loco"}],headers:[{text:"№ п/п",align:"start",value:"sort_number",textMinify:"mini",border:!0},{text:"Междорожные стыковые пункты",align:"start",value:"long_name",textMinify:"mini",border:!0},{text:"План-задание передачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_train",alignHeader:"center",border:!0}]},{text:"План-задание передачи локомотивов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_loco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_loco",alignHeader:"center",border:!0}]},{text:"План-задание передачи поездо-локомотивов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_loco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_train_loco",alignHeader:"center",border:!0}]}]}}},sa=ia,oa=Object(u["a"])(sa,ra,la,!1,null,null,null),ca=oa.exports,da=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Buttons",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType}})],1)},ua=[],pa={name:"RegulationSections",components:{Buttons:ct,Filters:ke,Tabs:bt,DataTable:Et},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),drl:1})}},computed:{createExportUrl:function(){return"method=regulation&tab=region-view&date="+this.getFormattedDate(this.$store.state.filtersValues.date)}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,url:"/arm-isujt/server/regions.json",tabModel:1,params:{buttons:{print:!0,export:!0},name:"Оперативное регулирование",icon:"icon icon-settings"},tableType:"reg_sec",headersFlat:[{text:"Участок",value:"long_name",fixedColumn:!0},{text:"Опер. нормир, расчет т.ед.",value:"oper_norm_calc"},{text:"% от итого",value:"total_percent"},{text:"Прогнозное наличие срез на 18:00 тек.сут, т.ед.",value:"existence_forecast"},{text:"Фактическое наличие срез на 18:00 тек.сут, т.ед.",value:"existence_fact"},{text:"с 18:01 до 6:00 ч",value:"plan_odd_direction_half"},{text:"с 18:01 до 18:00 ч",value:"plan_odd_direction"},{text:"с 18:01 до 6:00 ч",value:"plan_even_direction_half"},{text:"с 18:01 до 18:00 ч",value:"plan_even_direction"},{text:"с 18:01 до 6:00 ч",value:"staging_for_repairs_half"},{text:"с 18:01 до 18:00 ч",value:"staging_for_repairs"},{text:"с 18:01 до 6:00 ч",value:"work_from_repairs_half"},{text:"с 18:01 до 18:00 ч",value:"work_from_repairs"},{text:"с 18:01 до 6:00 ч",value:"dislocation_forecast_half"},{text:"с 18:01 до 18:00 ч",value:"dislocation_forecast"},{text:"с 18:01 до 6:00 ч",value:"next_day_plan_half"},{text:"с 18:01 до 18:00 ч",value:"next_day_plan"},{text:"с 18:01 до 6:00 ч",value:"next_day_plan_half_data_fact"},{text:"с 18:01 до 18:00 ч",value:"next_day_plan_data_fact"},{text:"с 18:01 до 6:00 ч",value:"deficit_excess_half"},{text:"с 18:01 до 18:00 ч",value:"deficit_excess"},{text:"Стык",value:"splice_name",align:"end"},{text:"с 18:01 до 6:00 ч",value:"reg_task_odd_half"},{text:"с 18:01 до 18:00 ч",value:"reg_task_odd"},{text:"с 18:01 до 6:00 ч",value:"reg_task_even_half"},{text:"с 18:01 до 18:00 ч",value:"reg_task_even"}],headers:[{text:"Участок",align:"start",value:"long_name",textMinify:"mini",border:!0},{text:"Опер. нормир,\nрасчет т.ед.",align:"start",value:"oper_norm_calc",border:!0},{text:"% от итого",align:"start",value:"total_percent",border:!0},{text:"Прогнозное наличие\nсрез на 18:00 тек.сут,\nт.ед.",align:"start",value:"existence_forecast",border:!0},{text:"Фактическое наличие\nсрез на 18:00 тек.сут,\nт.ед.",align:"start",value:"existence_fact",border:!0},{text:"План-задание\nпередачи поездов, нечет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"plan_odd_direction_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"plan_odd_direction",alignHeader:"center",border:!0}]},{text:"План-задание\nпередачи локомотивов, чет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"plan_even_direction_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"plan_even_direction",alignHeader:"center",border:!0}]},{text:"Постановка на ремонт,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"staging_for_repairs_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"staging_for_repairs",alignHeader:"center",border:!0}]},{text:"Выдача в работу\nс ремонта, т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"work_from_repairs_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"work_from_repairs",alignHeader:"center",border:!0}]},{text:"Прогноз дисл.\nна сл. сутки, т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"dislocation_forecast_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"dislocation_forecast",alignHeader:"center",border:!0}]},{text:"План на след. сутки,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"next_day_plan_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"next_day_plan",alignHeader:"center",border:!0}]},{text:"План на след. сутки (скорр. на\nоснове факт.данных), т.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"next_day_plan_half_data_fact",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"next_day_plan_data_fact",alignHeader:"center",border:!0}]},{text:"Дефицит / Избыток,\nт.ед.",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"deficit_excess_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"deficit_excess",alignHeader:"center",border:!0}]},{text:"Стык",align:"end",alignHeader:"center",value:"splice_name",border:!0},{text:"Рег. задание передачи\nлокомотивов резервом, нечет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"reg_task_odd_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"reg_task_odd",alignHeader:"center",border:!0}]},{text:"Рег. задание передачи\nлокомотивов резервом, чет",align:"start",alignHeader:"center",children:[{text:"с 18:01\nдо 06:00 ч",value:"reg_task_even_half",alignHeader:"center",border:!0},{text:"с 18:01\nдо 18:00 ч",value:"reg_task_even",alignHeader:"center",border:!0}]}]}}},fa=pa,ha=Object(u["a"])(fa,da,ua,!1,null,null,null),va=ha.exports,ma=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Buttons",{attrs:{params:e.params,exportUrl:e.createExportUrl}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:{date:Math.floor(Date.now()/1e3),drl:1},hasDetail:!0},on:{loadDetail:e.setDetail}}),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders,headersFlat:e.detailHeaders}})],1)},ba=[],_a={name:"RegulationAnalysis",components:{DetailPanel:Rt,Buttons:ct,Filters:ke,Tabs:bt,DataTable:Et},created:function(){this.$store.state.detailInfo.detailName="Детализация"},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),drl:1})},setDetail:function(e){this.detailUrl="/ajax.php?module=NSI&method=transfer_train_on_road"+e,this.$refs.detailPanel.updateDetail("../../server/analize_details.json")}},computed:{createExportUrl:function(){return"method=regulation&tab=analize-view&date="+this.getFormattedDate(this.$store.state.filtersValues.date)}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,detailUrl:"",url:"/arm-isujt/server/analize.json",tabModel:2,params:{buttons:{print:!0,export:!0},name:"Оперативное регулирование",icon:"icon icon-settings"},detailHeaders:[{text:"№ п/п",value:"row_number",alignHeader:"center",border:!0},{text:"Номер\nпоезда",value:"train_num",alignHeader:"center",border:!0},{text:"Индекс\nпоезда",value:"train_ind",alignHeader:"center",border:!0},{text:"Краткое название\nтипа операции",value:"short_oper",alignHeader:"center",border:!0},{text:"Дата и время\nсовершения\nоперации",value:"time_oper",alignHeader:"center",border:!0},{text:"Название места\nдислокации",value:"location",alignHeader:"center",border:!0},{text:"Дорога\nсдачи",value:"self_road",alignHeader:"center",border:!0},{text:"Дорога\nприема",value:"target_road",alignHeader:"center",border:!0},{text:"Название серии\nлокомотива",value:"loco_name",alignHeader:"center",border:!0},{text:"Серийный номер\nлокомотива",value:"loco_num",alignHeader:"center",border:!0},{text:"Название депо\nприписки локомотива",value:"depo_prip",alignHeader:"center",border:!0},{text:"Краткое название\nтипа состояния",value:"loco_state",alignHeader:"center",border:!0}],headersFlat:[{text:"№ п/п",value:"sort_number"},{text:"Междорожные стыковые пункты",value:"long_name",fixedColumn:!0},{text:"на 6:00 ч",value:"plan_train_half"},{text:"на 18:00 ч",value:"plan_train"},{text:"на 6:00 ч",value:"fact_train_half"},{text:"на 18:00 ч",value:"fact_train"},{text:"на 6:00 ч",value:"plan_loco_half"},{text:"на 18:00 ч",value:"plan_loco"},{text:"на 6:00 ч",value:"fact_reserv_half"},{text:"на 18:00 ч",value:"fact_reserv"},{text:"на 6:00 ч",value:"plan_trainloco_half"},{text:"на 18:00 ч",value:"plan_trainloco"},{text:"на 6:00 ч",value:"fact_trainloco_half"},{text:"на 18:00 ч",value:"fact_trainloco"},{text:"на 6:00 ч",value:"fact_train_ot_half"},{text:"на 18:00 ч",value:"fact_train_ot"},{text:"на 6:00 ч",value:"fact_trainloco_ot_half"},{text:"на 18:00 ч",value:"fact_trainloco_ot"}],headers:[{text:"№ п/п",align:"start",value:"sort_number",textMinify:"mini",border:!0},{text:"Междорожные\nстыковые пункты",align:"start",value:"long_name",textMinify:"mini",border:!0},{text:"План-задание\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_train_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_train",alignHeader:"center",border:!0}]},{text:"Факт\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_train_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_train",alignHeader:"center",border:!0}]},{text:"План-задание\nпередачи локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_loco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_loco",alignHeader:"center",border:!0}]},{text:"Факт передачи\nлокомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_reserv_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_reserv",alignHeader:"center",border:!0}]},{text:"План-задание передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"plan_trainloco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"plan_trainloco",alignHeader:"center",border:!0}]},{text:"Факт передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_trainloco_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_trainloco",alignHeader:"center",border:!0}]},{text:"Отклонение от факта\nпередачи поездов",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_train_ot_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_train_ot",alignHeader:"center",border:!0}]},{text:"Отклонение от факта передачи\nпоездо-локомотивов резервом",align:"start",alignHeader:"center",children:[{text:"на 6:00 ч",value:"fact_trainloco_ot_half",alignHeader:"center",border:!0},{text:"на 18:00 ч",value:"fact_trainloco_ot",alignHeader:"center",border:!0}]}]}}},xa=_a,ga=Object(u["a"])(xa,ma,ba,!1,null,null,null),ya=ga.exports,Ta=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view")},Da=[],Ha={name:"Control"},wa=Ha,$a=Object(u["a"])(wa,Ta,Da,!1,null,null,null),ka=$a.exports,Ca=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{attrs:{tabs:e.tablesForTabs}})},Fa=[],Va={name:"Normalization",data:function(){return{tablesForTabs:[{tabName:"Участки",tablePath:"/control/norm/section"},{tabName:"Депо",tablePath:"/control/norm/depo"},{tabName:"Процентное соотношение локомотивов",tablePath:"/control/norm/ratio"}]}}},Ma=Va,Oa=Object(u["a"])(Ma,Ca,Fa,!1,null,null,null),ja=Oa.exports,Ea=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{attrs:{tabs:e.tablesForTabs}})},Pa=[],Ba={name:"Regulation",data:function(){return{tablesForTabs:[{tabName:"Стыки",tablePath:"/control/reg/joint"},{tabName:"Участки",tablePath:"/control/reg/section"},{tabName:"Анализ",tablePath:"/control/reg/analysis"}]}}},Sa=Ba,Na=Object(u["a"])(Sa,Ea,Pa,!1,null,null,null),Ia=Na.exports,Aa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("router-view",{attrs:{tabs:e.tablesForTabs}})},Ra=[],Ua={name:"Planning",data:function(){return{tablesForTabs:[{tabName:"Задание тех. станций",tablePath:"/control/plan/st_tasks"},{tabName:"Задание по стыкам",tablePath:"/control/plan/join_tasks"},{tabName:"План",tablePath:"/control/plan/planning"},{tabName:"Наряд-задание ЛБ",tablePath:"/control/plan/lc_task"},{tabName:"План по ЛБ",tablePath:"/control/plan/lc_plan"},{tabName:"Показатели плана",tablePath:"/control/plan/plan_ind"},{tabName:"График оборота локомотивов",tablePath:"/control/plan/graf_loco"}]}}},za=Ua,La=Object(u["a"])(za,Aa,Ra,!1,null,null,null),Ga=La.exports,qa=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"},{filterName:"road",filterType:"select",labelText:"Дорога",isRemote:!0,filterUrl:"/arm-isujt/server/road_filter.json"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Buttons",{attrs:{params:e.params}}),a("div",{staticClass:"text-info"},[e._v(" План работы технических станций Восточный полигон на "),a("span",{staticClass:"text-info-bold"},[e._v(e._s(e.getDate))])]),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:{date:Math.floor(Date.now()/1e3),road:1},tableType:e.tableType,hasDetail:!0,hasInfo:!0},on:{loadDetail:e.setDetail}}),a("DetailPanel",{ref:"detailPanel",attrs:{headers:e.detailHeaders,headersFlat:e.detailHeaders}})],1)},Ja=[],Wa={name:"PlanningTechStationTasks",components:{Buttons:ct,Filters:ke,Tabs:bt,DataTable:Et,DetailPanel:Rt},computed:{getDate:function(){var e=this.$store.state.filtersValues.date||(new Date).toISOString().substr(0,10),t=e.split("-"),a=Object(Q["a"])(t,3),n=a[0],r=a[1],l=a[2];return"".concat(l,".").concat(r,".").concat(n)}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),road:this.$store.state.filtersValues.road})},setDetail:function(e){this.detailUrl=e,this.$refs.detailPanel.updateDetail("/arm-isujt/server/work_station_detail.json")}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,url:"/arm-isujt/server/work_station.json",tableType:"st_tasks",params:{buttons:{print:!0},name:"Планирование",icon:"icon icon-calendar"},tabModel:0,detailHeaders:[],headersFlat:[{text:"Дорога",value:"road"},{text:"Станция",value:"station_name"},{text:"Направление",value:"direction_name"},{text:"до 6:00 ч",value:"PRIB_vse_06_D"},{text:"сутки",value:"PRIB_vse_18_D"},{text:"до 6:00 ч",value:"RASF_vse_06_D"},{text:"сутки",value:"RASF_vse_18_D"},{text:"до 6:00 ч",value:"OTPR_vse_06_D"},{text:"сутки",value:"OTPR_vse_18_D"},{text:"до 6:00 ч",value:"OTPR_SF_vse_06_D"},{text:"сутки",value:"OTPR_SF_vse_18_D"}],headers:[{text:"Дорога",alignHeader:"center",value:"road",border:!0},{text:"Станция",alignHeader:"center",value:"station_name",border:!0},{text:"Направление",alignHeader:"center",value:"direction_name",border:!0},{text:"Прибытие",align:"start",alignHeader:"center",children:[{text:"до 6:00 ч",value:"PRIB_vse_06_D",alignHeader:"center",border:!0},{text:"сутки",value:"PRIB_vse_18_D",alignHeader:"center",border:!0}]},{text:"В расформирование",align:"start",alignHeader:"center",children:[{text:"до 6:00 ч",value:"RASF_vse_06_D",alignHeader:"center",border:!0},{text:"сутки",value:"RASF_vse_18_D",alignHeader:"center",border:!0}]},{text:"Отправление",align:"start",alignHeader:"center",children:[{text:"до 6:00 ч",value:"OTPR_vse_06_D",alignHeader:"center",border:!0},{text:"сутки",value:"OTPR_vse_18_D",alignHeader:"center",border:!0}]},{text:"Своего формирования",align:"start",alignHeader:"center",children:[{text:"до 6:00 ч",value:"OTPR_SF_vse_06_D",alignHeader:"center",border:!0},{text:"сутки",value:"OTPR_SF_vse_18_D",alignHeader:"center",border:!0}]}]}}},Ka=Wa,Qa=(a("c51c"),Object(u["a"])(Ka,qa,Ja,!1,null,null,null)),Xa=Qa.exports,Ya=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pa-5 pb-0"},[a("Filters",{attrs:{filters:[{filterName:"date",filterType:"date",labelText:"Дата"}]},on:{reloadTable:function(t){return e.updateTable()}}}),a("Buttons",{attrs:{params:e.params}}),a("Tabs",{attrs:{tableTypeArray:e.tabs,tabModel:e.tabModel}}),a("DataTable",{ref:"table",attrs:{headers:e.headers,headersFlat:e.headersFlat,url:e.url,params:{date:Math.floor(Date.now()/1e3),drl:1},tableType:e.tableType}})],1)},Za=[],en={name:"PlanningJointsTasks",components:{Buttons:ct,Filters:ke,Tabs:bt,DataTable:Et},computed:{getDate:function(){var e=this.$store.state.filtersValues.date.split("-"),t=Object(Q["a"])(e,3),a=t[0],n=t[1],r=t[2];return"".concat(r,".").concat(n,".").concat(a)}},methods:{getFormattedDate:function(e){var t=e;if("string"===typeof t){var a=new Date(t);t=Math.floor(a.getTime()/1e3)}return t},updateTable:function(){this.$refs.table.fetchTableData({date:this.getFormattedDate(this.$store.state.filtersValues.date),drl:1})}},props:["tabs"],data:function(){return{panel:0,isFilterOpen:!0,url:"",tableType:"st_tasks",params:{buttons:{print:!0},name:"Планирование",icon:"icon icon-calendar"},tabModel:1,headersFlat:[],headers:[]}}},tn=en,an=Object(u["a"])(tn,Ya,Za,!1,null,null,null),nn=an.exports;n["a"].use(S["a"]);var rn=[{path:"/tasks/",name:"Home",component:z},{path:"/control/",component:ka,children:[{path:"norm/",component:ja,children:[{path:"section",component:Gt},{path:"depo",component:Xt},{path:"ratio",component:na}]},{path:"plan/",component:Ga,children:[{path:"st_tasks",component:Xa},{path:"join_tasks",component:nn},{path:"planning",component:nn},{path:"lc_task",component:nn},{path:"lc_plan",component:nn},{path:"plan_ind",component:nn},{path:"graf_loco",component:nn}]},{path:"reg/",component:Ia,children:[{path:"joint",component:ca},{path:"section",component:va},{path:"analysis",component:ya}]}]}],ln=new S["a"]({base:"/arm-isujt/",routes:rn}),sn=ln,on=a("2f62");n["a"].use(on["a"]);var cn=new on["a"].Store({state:{filterOpen:!0,sheet:!1,cancelBtnActive:!0,saveBtnActive:!0,recalcBtnActive:!0,filtersValues:{},defaultFiltersValues:{},detailInfo:{detailUrl:"../../server/analize_details.json",detailName:"Детализация"},menuMini:!1,menuItems:[{icon:"icon icon-task",text:"Задачи",path:"/tasks/",model:!0,isMiniView:!0},{icon:"icon icon-filter",arrow:"icon icon-arrow-dropdown",text:"Управление",path:"/control/",model:!0,children:[{icon:"icon icon-trending-up",text:"Нормирование",path:"/control/norm/",model:!0,isClosed:!1,isMiniView:!0,children:[{text:"Участки",model:!1,path:"/control/norm/section"},{text:"Депо",model:!1,path:"/control/norm/depo"},{text:"Процентное соотношение локомотивов",model:!1,path:"/control/norm/ratio"}]},{icon:"icon icon-calendar",text:"Планирование",path:"/control/plan/",model:!0,isClosed:!1,isMiniView:!0,children:[{text:"Задание тех. станций",model:!1,path:"/control/plan/st_tasks"},{text:"Задание по стыкам",model:!1,path:"/control/plan/join_tasks"},{text:"План",model:!1,path:"/control/plan/planning"},{text:"Наряд-задание по ЛБ",model:!1,path:"/control/plan/lc_task"},{text:"Сменно-суточный план содержания ЛБ",model:!1,path:"/control/plan/lc_plan"},{text:"Показатели плана",model:!1,path:"/control/plan/plan_ind"},{text:"График оборота локомотивов",model:!1,path:"/control/plan/graf_loco"}]},{icon:"icon icon-settings",text:"Регулирование",path:"/control/reg/",model:!0,isClosed:!1,isMiniView:!0,children:[{text:"Стыки",model:!1,path:"/control/reg/joint"},{text:"Участки",model:!1,path:"/control/reg/section"},{text:"Анализ",model:!1,path:"/control/reg/analysis"}]}]},{icon:"icon icon-list-alt",text:"Приказы",path:"/order/",isMiniView:!0,model:!1},{icon:"icon icon-info",arrow:"icon icon-arrow-dropdown",text:"Информация",path:"/info/",model:!1,children:[{icon:"icon icon-cube",text:"Моделирование",path:"/info/model/",model:!1,isClosed:!1,isMiniView:!0,children:[{text:"Участки",model:!1,path:"/info/model/model1"},{text:"Депо",model:!1,path:"/info/model/model2"},{text:"Процентное соотношение локомотивов",model:!1,path:"/info/model/model3"},{text:"Корректировка НСИ",model:!1,path:"/info/model/model4"},{text:"Сравнение",model:!1,path:"/info/model/model5"}]},{icon:"icon icon-reports",text:"Отчеты",path:"/info/report/",model:!1,isMiniView:!0}]}]},mutations:{},actions:{},modules:{}}),dn=a("f309"),un=a("2992"),pn=a.n(un);n["a"].use(dn["a"]);var fn=new dn["a"]({icons:{iconfont:"mdi"},lang:{locales:{ru:pn.a},current:"ru"},theme:{themes:{light:{primary:"#00194d"}}}});n["a"].config.productionTip=!1,new n["a"]({router:sn,store:cn,vuetify:fn,render:function(e){return e(B)}}).$mount("#app")},"5a31":function(e,t,a){"use strict";a("6847")},6847:function(e,t,a){},"6fb3":function(e,t,a){},7584:function(e,t,a){var n={"./logo-mini.svg":"0df4","./logo.svg":"e347"};function r(e){var t=l(e);return a(t)}function l(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id="7584"},"85ec":function(e,t,a){},"860d":function(e,t,a){"use strict";a("c7f7")},"8d8f":function(e,t,a){},"8f58":function(e,t,a){},"8fa2":function(e,t,a){"use strict";a("8d8f")},"99fb":function(e,t,a){},"9af9":function(e,t,a){"use strict";a("0ce8")},"9b23":function(e,t,a){"use strict";a("1b94")},a352:function(e,t,a){"use strict";a("2e17")},a621:function(e,t,a){},a8de:function(e,t,a){"use strict";a("d900")},b9ff:function(e,t,a){"use strict";a("35ee")},c51c:function(e,t,a){"use strict";a("8f58")},c7f7:function(e,t,a){},d900:function(e,t,a){},e347:function(e,t,a){e.exports=a.p+"img/logo.1d37bf74.svg"},f02e:function(e,t,a){}});
//# sourceMappingURL=app.857a355d.js.map